<html>
<head>
<title>Understanding Swift Strings, Emoji, Characters, and Scalars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç†è§£Swiftå­—ç¬¦ä¸²ã€è¡¨æƒ…ç¬¦å·ã€å­—ç¬¦å’Œæ ‡é‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/understanding-swift-strings-characters-and-scalars-a4b82f2d8fde?source=collection_archive---------6-----------------------#2019-11-17">https://betterprogramming.pub/understanding-swift-strings-characters-and-scalars-a4b82f2d8fde?source=collection_archive---------6-----------------------#2019-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b930" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">ä½¿ç”¨è¡¨æƒ…ç¬¦å·ä½œä¸ºä¸€ä¸ªæœ‰è¶£è€Œç®€å•çš„ä¾‹å­ï¼Œäº†è§£Swiftå¦‚ä½•å¤„ç†è§’è‰²</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi kg"><img src="../Images/fd4e1c35183ae7745da7e9e23ae2c450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*qbavXbFy66SvDx9Nt0jq8A.png"/></div><p class="ko kp gj gh gi kq kr bd b be z dk translated"><a class="ae ks" href="https://unsplash.com/@iabzd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> iabzd </a>åœ¨<a class="ae ks" href="https://unsplash.com/s/photos/emoji?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</p></figure><p id="a371" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å­—ç¬¦å’Œå­—å½¢ä¹‹é—´çš„å…³ç³»å¯èƒ½æœ‰ç‚¹æ··ä¹±ã€‚é€šè¿‡ä½¿ç”¨è¡¨æƒ…ç¬¦å·å¹¶è§‚å¯ŸSwiftå¤„ç†å®ƒä»¬çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°†æ·±å…¥è¿™ä¸ªä¸»é¢˜ã€‚å‡è®¾ä½ æƒ³æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æƒ…ç¬¦å·ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="6374" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">è¡¨æƒ…ç¬¦å·çš„ä¸€ç‚¹èƒŒæ™¯</h1><p id="47bb" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi">The word comes from two Japanese words: çµµ meaning <em class="mt">picture</em> (e) and æ–‡å­— meaning <em class="mt">character </em>(moji/mohdzi). The fact the word might make you think of <em class="mt">emoticon</em> or<em class="mt"> emotion</em> is purely coincidental.</p><p id="41d4" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å®ƒä»¬å­˜åœ¨çš„æ—¶é—´æ¯”ä½ æƒ³è±¡çš„è¦é•¿ã€‚è™½ç„¶å®ƒä»¬åœ¨2010å¹´å·¦å³åœ¨å…¨çƒèŒƒå›´å†…æµè¡Œï¼Œä½†è‡ª1997å¹´ä»¥æ¥ï¼Œå®ƒä»¬å°±å·²ç»åœ¨æ—¥æœ¬ä½¿ç”¨äº†ã€‚ä»ä¸åˆ°80ä¸ªç¬¦å·å¼€å§‹ï¼Œè¡¨æƒ…ç¬¦å·é›†å·²ç»å‘å±•åˆ°åŒ…å«è¶…è¿‡1200ä¸ªå›¾æ ‡ã€‚</p><p id="ef3a" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">2010å¹´ä¹Ÿæ˜¯ç¬¬ä¸€å¥—è¡¨æƒ…ç¬¦å·è¢«åŠ å…¥Unicodeæ ‡å‡†çš„ä¸€å¹´ã€‚Unicodeæ˜¯ä¸€ç§è¡Œä¸šæ ‡å‡†ï¼Œæ—¨åœ¨ç»Ÿä¸€æ–‡æœ¬çš„å¤„ç†å’Œè¡¨ç¤ºã€‚å®ƒè¿˜åŒ…å«äº†ä¸€ä¸ªæ¥è‡ªä¸–ç•Œå„åœ°ä¹¦å†™ç³»ç»Ÿçš„å­—ç¬¦ç´¢å¼•ï¼ŒåŒ…æ‹¬ç°ä»£å’Œå¤ä»£çš„ã€‚è¿™ä¸ªæ ‡å‡†è¿˜åœ¨ä¸æ–­å‘å±•â€”â€”åœ¨æ’°å†™æœ¬æ–‡æ—¶çš„æœ€æ–°ç‰ˆæœ¬(12.1)åŒ…å«äº†å°†è¿‘138ï¼Œ000ä¸ªå­—ç¬¦ã€‚</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mu"><img src="../Images/85361d661d0cacfbb2be522edf16d6c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vyPqBKAVE7O36z6M800-A.png"/></div></div><p class="ko kp gj gh gi kq kr bd b be z dk translated">ä»¥ä¸‹æ˜¯Unicodeæ ‡å‡†ä¸­å®šä¹‰çš„ä¸€äº›å­—ç¬¦ç¤ºä¾‹</p></figure><p id="0827" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">è¯¥æ ‡å‡†ä¸ä»…åŒ…æ‹¬ä¸–ç•Œå„åœ°å­—æ¯è¡¨ä¸­çš„å­—ç¬¦ï¼Œè¿˜åŒ…æ‹¬ä¸å¯è§ä¸”ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦ã€‚æˆ‘ä»¬ç¨åä¼šè°ˆåˆ°è¿™ä¸€ç‚¹ã€‚</p><p id="2286" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æˆ‘å¼ºçƒˆæ¨èæŸ¥çœ‹ä¸€ä¸‹<a class="ae ks" href="https://unicode-table.com/en/" rel="noopener ugc nofollow" target="_blank"> Unicodeå­—ç¬¦è¡¨</a>æ¥äº†è§£ä¸€ä¸‹å®ƒçš„è§„æ¨¡ã€‚åªéœ€å‘ä¸‹æ»šåŠ¨ä¸»é¡µä¸Šçš„è¡¨æ ¼ï¼Œå³å¯å‘ç°å„ç§ç»„åˆå’Œå¯èƒ½æ€§ã€‚</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="e69d" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">æ½œå…¥æ°´ä¸­</h1><p id="be96" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi translated">ç”±Unicodeæ ‡å‡†å®šä¹‰çš„æ¯ä¸ªå­—ç¬¦éƒ½æœ‰ä¸€ä¸ªåå…­è¿›åˆ¶æ ‡è¯†ç¬¦(unicode number ),å¹¶ä¸”å­—ç¬¦è¢«åˆ†ç±»æˆå—ï¼Œä¾‹å¦‚å¸Œä¼¯æ¥è¯­æˆ–é˜¿æ‹‰ä¼¯è¯­ã€‚</p><p id="d420" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ç†è§£å­—ç¬¦ã€å­—å½¢å’Œæ ‡é‡ä¹‹é—´çš„åŒºåˆ«å¾ˆé‡è¦ã€‚Unicodeç”±Unicodeæ•°å­—æŒ‡å®šçš„å­—ç¬¦ç»„æˆã€‚ä¸€ä¸ªå­—ç¬¦å¯ä»¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥ä¸æ˜¾ç¤ºã€‚æ­¤å¤–ï¼Œå­—ç¬¦çš„ç»„åˆå¯èƒ½å¯¼è‡´ä¸€ä¸ªå­—ç¬¦å‡ºç°åœ¨å±å¹•ä¸Šã€‚Swifté€šè¿‡ç¨å¾®ä¸åŒçš„å®šä¹‰æ¥åŒºåˆ†è¿™ä¸‰ä¸ªæœ¯è¯­ã€‚è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„æ•…äº‹ï¼Œä½†å®ƒçš„è¦ç‚¹æ˜¯:</p><ul class=""><li id="6c12" class="mz na iq kv b kw kx kz la lc nb lg nc lk nd lo ne nf ng nh bi translated">å­—ç¬¦ä¸²ç”±å­—ç¬¦ç»„æˆ</li><li id="d7f2" class="mz na iq kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">å­—ç¬¦ç”±unicodeæ ‡é‡ç»„æˆ</li><li id="1510" class="mz na iq kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">æ¯ä¸ªUnicodeæ ‡é‡ä»£è¡¨ä¸€ä¸ªUnicodeå­—ç¬¦</li></ul><p id="688f" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å›åˆ°Unicodeå­—ç¬¦ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:<a class="ae ks" href="https://unicode-table.com/en/1F600/" rel="noopener ugc nofollow" target="_blank">å’§ç€å˜´ç¬‘çš„è„¸</a>(ğŸ˜€)è¢«æ ‡è¯†ä¸º<code class="fe nn no np nq b">U+1F600</code>å¹¶ä¸”æ˜¯è¡¨æƒ…å—<em class="mt">çš„ä¸€éƒ¨åˆ†ã€‚</em>æ‚¨å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼ç”¨Swiftå­—ç¬¦ä¸²è¡¨ç¤ºè¡¨æƒ…ç¬¦å·:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="b818" class="nv lx iq nq b gy nw nx l ny nz">let smiley1 = â€œğŸ˜€â€ <br/>let smiley2 = â€œ\u{1F600}â€ // Hex code, also "ğŸ˜€"</span></pre><blockquote class="oa ob oc"><p id="abe0" class="kt ku mt kv b kw kx jr ky kz la ju lb od ld le lf oe lh li lj of ll lm ln lo ij bi translated">â€œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°è¡¨æƒ…ç¬¦å·çš„unicodeåŒºå—ï¼Œå¹¶æ£€æŸ¥æŸä¸ªå­—ç¬¦æ˜¯å¦æ¥è‡ªè¯¥åŒºå—ï¼Ÿâ€</p></blockquote><p id="01e6" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å—¯ï¼Œæ²¡æœ‰ã€‚</p><p id="7ecd" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æ²¡æœ‰ä¸€ä¸ªè¡¨æƒ…ç¬¦å·ã€‚æœ‰ç”¨äº<a class="ae ks" href="https://unicode-table.com/en/blocks/transport-and-map-symbols/" rel="noopener ugc nofollow" target="_blank">è¿è¾“å’Œåœ°å›¾</a>ã€<a class="ae ks" href="https://unicode-table.com/en/blocks/supplemental-symbols-and-pictographs/" rel="noopener ugc nofollow" target="_blank">è¡¥å……ç¬¦å·å’Œè±¡å½¢å›¾</a>çš„ç‹¬ç«‹å—ï¼Œä»¥åŠ<a class="ae ks" href="https://unicode-table.com/en/blocks/miscellaneous-symbols-and-pictographs/" rel="noopener ugc nofollow" target="_blank">æ‚é¡¹ç¬¦å·å’Œè±¡å½¢å›¾</a>ä¸­çš„ä¸€å¤§å †å›¾æ ‡ã€‚å³ä½¿æˆ‘ä»¬ç¡®å®šäº†å“ªäº›åŒºå—æˆ–å“ªäº›å­—ç¬¦åˆ—è¡¨æ˜¯è¡¨æƒ…ç¬¦å·ï¼Œå®ƒä¹Ÿæœ‰å¯èƒ½æ— æ³•é€‚åº”æœªæ¥ã€‚è¯¥æ ‡å‡†ä¸€ç›´åœ¨å‘å±•å’Œæ‰©å±•ã€‚</p><p id="857e" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ä½†æ˜¯å¦‚æœä½ æ·±å…¥æŒ–æ˜ï¼Œä½ ä¼šå‘ç°æœ€åä¸€å—ä¹Ÿæœ‰å¥‡æ€ªçš„å­—ç¬¦ï¼Œä¾‹å¦‚:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4b45a8f9eee1f25632a4297d6055bc9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:218/format:webp/1*ip_Uvn9NCY7u9G_9WA6sRg.png"/></div><p class="ko kp gj gh gi kq kr bd b be z dk translated"><a class="ae ks" href="https://unicode-table.com/en/1F543/" rel="noopener ugc nofollow" target="_blank"> <em class="kf">å¸¦ä¸‰ä¸ªç‚¹çš„å‡¹å£å·¦åŠåœ†</em> </a></p></figure><p id="540c" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æˆ‘ä¸ç¡®å®šå®ƒåº”è¯¥æ˜¯ä»€ä¹ˆ(é™¤äº†Unicodeç»™å‡ºçš„æ–‡å­—æè¿°)ï¼Œä½†æˆ‘çš„æµè§ˆå™¨è‚¯å®šä¸çŸ¥é“å¦‚ä½•æ˜¾ç¤ºå®ƒ:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/38a462cec301d2981f7a8e101d36c6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:228/format:webp/1*AEtxllCeFL3m6-5ZF89XIQ.png"/></div><p class="ko kp gj gh gi kq kr bd b be z dk translated">æˆ‘çš„æµè§ˆå™¨å¦‚ä½•å‘ˆç°ä¸Šè¿°å­—ç¬¦</p></figure><h2 id="3f3e" class="nv lx iq bd ly oi oj dn mc ok ol dp mg lc om on mi lg oo op mk lk oq or mm os bi translated">å°†æ­¤åº”ç”¨äºä»£ç </h2><p id="2405" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi translated">åœ¨Swift 4.2ä¹‹å‰ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡æ£€æŸ¥Unicodeç¼–ç æ˜¯å¦å±äºæŸä¸ªé¢„å®šä¹‰çš„Unicodeå—æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯è¡¨æƒ…ç¬¦å·ã€‚</p><p id="0c89" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ä½†æ˜¯Swift 5.0å‡ºç°äº†ï¼Œéšä¹‹è€Œæ¥çš„æ˜¯ä¸€ä¸ªæ–°çš„<code class="fe nn no np nq b"><a class="ae ks" href="https://developer.apple.com/documentation/swift/unicode/scalar/properties" rel="noopener ugc nofollow" target="_blank">Unicode.Scalar.Properties</a></code>ç±»ï¼Œç»™äº†æˆ‘ä»¬ä¸€ç³»åˆ—çš„æ ‡å¿—æ¥å¸®åŠ©æˆ‘ä»¬å¼„æ¸…æ¥šæˆ‘ä»¬åœ¨å¤„ç†ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è·å–è¡¨ç¤ºå­—ç¬¦ä¸²çš„Unicodeæ ‡é‡æ•°ç»„ã€‚</p><p id="58e5" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æ— èŠçš„è°ˆè¯å·²ç»å¤Ÿå¤šäº†â€”â€”è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="7211" class="nv lx iq nq b gy nw nx l ny nz">// Here's our emoji<br/>let smiley = "ğŸ˜€"</span><span id="439b" class="nv lx iq nq b gy ot nx l ny nz">// Get an iterable of the scalars in our String<br/>let scalars = smiley.unicodeScalars // UnicodeScalarView instance</span><span id="f254" class="nv lx iq nq b gy ot nx l ny nz">// We have one character, so we'll be getting that one<br/>let firstScalar = scalars.first // is 128512</span><span id="8fc2" class="nv lx iq nq b gy ot nx l ny nz">// Note that 128512 is actually the decimal <br/>// value for hexadecimal 1F600 (the unicode identifier for ğŸ˜€)</span><span id="64d3" class="nv lx iq nq b gy ot nx l ny nz">// Get the properties<br/>let properties = firstScalar?.properties<br/><br/>// Check if it's an Emoji<br/>let isEmoji = properties?.isEmoji // = true</span></pre><h2 id="e9b4" class="nv lx iq bd ly oi oj dn mc ok ol dp mg lc om on mi lg oo op mk lk oq or mm os bi translated"><em class="kf">æ‰¾åˆ°äº†ï¼æ‰€ä»¥æˆ‘ä»¬ç»“æŸäº†ï¼Ÿ</em></h2><p id="ab6a" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi translated">ä¸ï¼Œä¸å¦‚è¿™æ ·:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="8f32" class="nv lx iq nq b gy nw nx l ny nz">// Strangely enough, this will return <strong class="nq ir">true</strong>:<br/>"3".unicodeScalars.first?.properties.isEmoji</span></pre><p id="59b8" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">è¿™æ˜¯å› ä¸ºæ ‡é‡<code class="fe nn no np nq b">3</code> <em class="mt">å¯ä»¥</em>å‘ˆç°ä¸ºè¡¨æƒ…ç¬¦å·ï¼Œå°½ç®¡åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹å®ƒä¸æ˜¯ã€‚ç‰©ä¸š<code class="fe nn no np nq b">isEmoji</code>è¿™æ ·çœŸçš„æ˜¯è¯¯å¯¼ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿˜æœ‰å¦ä¸€ä¸ªå±æ€§:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="4d40" class="nv lx iq nq b gy nw nx l ny nz">// This will return true like before:<br/>"ğŸ˜€".unicodeScalars.first?.properties.isEmojiPresentation</span><span id="dba0" class="nv lx iq nq b gy ot nx l ny nz">// And this will return false like we expect:<br/>"3".unicodeScalars.first?.properties.isEmojiPresentation</span><span id="c855" class="nv lx iq nq b gy ot nx l ny nz">// By the way, that 'Notched Left Semicircle with Three Dots'<br/>// also returns false, as we cannot actually render it:<br/>"ğŸ•ƒ".unicodeScalars.first?.properties.isEmojiPresentation</span><span id="1059" class="nv lx iq nq b gy ot nx l ny nz">// Unfortunately, this doesn't hold true for all emoji:<br/>"ğŸŒ¶".unicodeScalars.first?.properties.isEmojiPresentation <em class="mt">// false<br/></em>"ğŸŒ¶".unicodeScalars.first?.properties.generalCategory == .some(.otherSymbol) <em class="mt">// true</em></span></pre><p id="5caf" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å¥½å¤šäº†ï¼Œå¯¹å§ï¼Ÿä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡åˆ°é‚£ä¸€æ­¥ã€‚ä¹Ÿæœ‰å­—ç¬¦å®é™…ä¸Šç”±å¤šä¸ªå­—å½¢ç»„æˆã€‚è¯·çœ‹æˆ‘ä»¬å¦‚ä½•ç”¨<code class="fe nn no np nq b">unicodeScalars.first? </code> <br/>è€ƒè™‘ä¸‹é¢çš„ä¾‹å­:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="8e71" class="nv lx iq nq b gy nw nx l ny nz">"1ï¸âƒ£".unicodeScalars.first?.properties.isEmojiPresentation <em class="mt">// false</em></span><span id="5704" class="nv lx iq nq b gy ot nx l ny nz">"â™¦ï¸".unicodeScalars.first?.properties.isEmojiPresentation <em class="mt">// false</em></span><span id="d59a" class="nv lx iq nq b gy ot nx l ny nz">"ğŸ‘ğŸ»".unicodeScalars.first?.properties.isEmojiPresentation <em class="mt">// true</em></span><span id="9b58" class="nv lx iq nq b gy ot nx l ny nz">"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".unicodeScalars.first?.properties.isEmojiPresentation <em class="mt">// true</em></span></pre><p id="2a3f" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ä¸ºäº†è§£é‡Šä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹<code class="fe nn no np nq b">unicodeScalars</code>å±æ€§ã€‚å±æ€§<code class="fe nn no np nq b">unicodeScalars</code>è¿”å›ä¸€ä¸ª<code class="fe nn no np nq b">UnicodeScalarView</code>çš„å®ä¾‹ã€‚</p><p id="1d26" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">å®ƒçš„<code class="fe nn no np nq b">debugDescription</code>å°†åªäº§ç”ŸåŸå§‹å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ç›´æ¥æ£€æŸ¥å†…å®¹(æˆ–è®°å½•)å¹¶ä¸èƒ½æä¾›å¤ªå¤šçš„æ´å¯ŸåŠ›ã€‚å¹¸è¿çš„æ˜¯ï¼Œ<a class="ae ks" href="https://developer.apple.com/documentation/swift/string/unicodescalarview/3018490-map" rel="noopener ugc nofollow" target="_blank">æœ‰ä¸€ä¸ªæ˜ å°„å‡½æ•°</a>å°†è¿”å›ä¸€ä¸ªå¸¸è§„æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªåŒ…å«<code class="fe nn no np nq b"><a class="ae ks" href="https://developer.apple.com/documentation/swift/unicode" rel="noopener ugc nofollow" target="_blank">Unicode</a>.<a class="ae ks" href="https://developer.apple.com/documentation/swift/unicode/scalar" rel="noopener ugc nofollow" target="_blank">Scalar</a></code>å…ƒç´ çš„æ•°ç»„:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="54ca" class="nv lx iq nq b gy nw nx l ny nz">// This will create an UnicodeScalarView<br/>let scalarView = "1ï¸âƒ£".unicodeScalars</span><span id="8546" class="nv lx iq nq b gy ot nx l ny nz">// Map the view so we get a regular array which we can inspect<br/>let scalars = scalarView.map { $0 }</span></pre><p id="7f50" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ç»“æœåŒ…å«ä¸‰ä¸ªå€¼:</p><ul class=""><li id="92d2" class="mz na iq kv b kw kx kz la lc nb lg nc lk nd lo ne nf ng nh bi translated">åè¿›åˆ¶49(åå…­è¿›åˆ¶U+0031):ä¸€ä¸ªæ™®é€šçš„æ—§<a class="ae ks" href="https://unicode-table.com/en/0031/" rel="noopener ugc nofollow" target="_blank">æ•°å­—1 </a></li><li id="ba12" class="mz na iq kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">åè¿›åˆ¶65039(åå…­è¿›åˆ¶U+FE0F): <a class="ae ks" href="https://unicode-table.com/en/FE0F/" rel="noopener ugc nofollow" target="_blank">å˜åŒ–é€‰æ‹©å™¨-16 </a></li><li id="a350" class="mz na iq kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">åè¿›åˆ¶8419(åå…­è¿›åˆ¶U+20E3): <a class="ae ks" href="https://unicode-table.com/en/20E3/" rel="noopener ugc nofollow" target="_blank">ç»„åˆå°é—­é”®å¸½</a></li></ul><p id="69d1" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡è¿™äº›ç‰¹æ®Šçš„æ ‡é‡ã€‚æ‰€ä»¥è¿™äº›å­—ç¬¦çš„ç»„åˆè¢«ç”¨æ¥å½¢æˆè¡¨æƒ…ç¬¦å·ï¼Œå°†ä¸€ä¸ªæ™®é€šçš„æ•°å­—<code class="fe nn no np nq b">1</code>å˜æˆè¿™ä¸ªç¬¦å·ã€‚ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªæ ‡é‡ä¿®æ”¹åˆå§‹æ ‡é‡ã€‚æ¾„æ¸…ä¸€ä¸‹ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶unicodeæ ‡è¯†ç¬¦æ¥æ‰‹åŠ¨åˆ›å»ºè¿™ä¸ªç»„åˆ:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="4c54" class="nv lx iq nq b gy nw nx l ny nz">"\u{0031}" // turns into: 1</span><span id="49a1" class="nv lx iq nq b gy ot nx l ny nz">"\u{0031}\u{20E3}" // turns into: 1âƒ£</span><span id="0ded" class="nv lx iq nq b gy ot nx l ny nz">"\u{0031}\u{FE0F}\u{20E3}" // turns into: 1ï¸âƒ£</span></pre><p id="f45e" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">åŒæ ·ï¼Œå…¶ä»–è¡¨æƒ…ç¬¦å·ä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="6a58" class="nv lx iq nq b gy nw nx l ny nz">// Black Diamond Suit Emoji<br/>"\u{2666}" // â™¦</span><span id="5fed" class="nv lx iq nq b gy ot nx l ny nz">// Adding 'Variation Selector-16':<br/>"\u{2666}\u{FE0F}" // â™¦ï¸</span><span id="602f" class="nv lx iq nq b gy ot nx l ny nz"><br/>// Thumbs up sign:<br/>"\u{1F44D}" // ğŸ‘</span><span id="8f98" class="nv lx iq nq b gy ot nx l ny nz">// Adding 'Emoji Modifier Fitzpatrick Type-4':<br/>"\u{1F44D}\u{1F3FD}" // ğŸ‘ğŸ½</span><span id="bc49" class="nv lx iq nq b gy ot nx l ny nz"><br/>// Man, Woman, Girl, Boy<br/>"\u{1F468}\u{1F469}\u{1F467}\u{1F466}" // ğŸ‘¨ğŸ‘©ğŸ‘§ğŸ‘¦</span><span id="d7bf" class="nv lx iq nq b gy ot nx l ny nz">// Adding 'Zero Width Joiner' between each<br/>"\u{1F468}\u{200D}\u{1F469}\u{200D}\u{1F467}\u{200D}\u{1F466}" // ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span></pre><p id="99c8" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æ˜¯çš„ï¼Œé‚£æ˜¯ä¸ƒä¸ªæ ‡é‡ç»„åˆæˆä¸€ä¸ªå­—ç¬¦ã€‚</p><p id="6433" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æœ€åï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªç”±å¤šä¸ªæ ‡é‡ç»„æˆçš„å­—ç¬¦éƒ½æ˜¯è¡¨æƒ…ç¬¦å·:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="896e" class="nv lx iq nq b gy nw nx l ny nz">"\u{0061}" <em class="mt">// Letter: a</em></span><span id="2914" class="nv lx iq nq b gy ot nx l ny nz">"\u{0302}" <em class="mt">// </em>Circumflex Accent<em class="mt">: </em>Ì‚</span><span id="8266" class="nv lx iq nq b gy ot nx l ny nz">"\u{0061}\u{0302}" <em class="mt">// Combines into: Ã¢</em></span></pre><p id="fe9e" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated"><strong class="kv ir">å°æ—æ³¨:</strong>ä¹Ÿè®¸ä½ åœ¨ç½‘ä¸Šçœ‹åˆ°è¿‡çœ‹èµ·æ¥å¾ˆä¹±çš„ä¿¡æ¯/æ–‡æœ¬(å‡ ä¹å°±åƒæ˜¯çŸ©é˜µä¸­çš„ä¸€ä¸ªå°æ•…éšœ)ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/2100f15ab4c3efa040e93938587a7b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*oHzANv6CyNT1A2XVYuwhBQ.png"/></div></figure><p id="de80" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">è¿™é€šå¸¸è¢«ç§°ä¸º<a class="ae ks" href="https://zalgo.org" rel="noopener ugc nofollow" target="_blank"> Zalgo </a>ï¼Œå®é™…ä¸Šåªæ˜¯ç”±è®¸å¤šUnicodeå­—ç¬¦åœ¨å±å¹•ä¸Šåˆå¹¶æˆå•ä¸ªå­—ç¬¦:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="2600" class="nv lx iq nq b gy nw nx l ny nz"><br/>let lotsOfScalars = "EÌµÍ‰ÍˆÌ¥ÌÍ›ÍŠÌ‚Í—ÍŠÌˆÌÌ„Íœ"<br/></span><span id="633c" class="nv lx iq nq b gy ot nx l ny nz">let scalars = lotsOfScalars.unicodeScalars.map { $0 }<br/></span><span id="bf76" class="nv lx iq nq b gy ot nx l ny nz">// Merge into a string, adding spaces to see them individually<br/>// This will result in: E  Ìµ  Í›  ÍŠ  Ì‚  Í—  ÍŠ  ÌˆÌ  Ì„  Íœ  Í‰  Íˆ  Ì¥  Ì<br/>let scalarList = scalars.reduce("", { "\($0)   \($1)" })<br/></span></pre></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="6295" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">è·å–æ­£ç¡®çš„ä¿¡æ¯</h1><p id="79f5" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi translated">è®©æˆ‘ä»¬ç»“åˆè¿™äº›ä¿¡æ¯ï¼Œå‘å­—ç¬¦å’Œå­—ç¬¦ä¸²ç±»æ·»åŠ ä¸€äº›åŠ©æ‰‹å±æ€§ã€‚æˆ‘ä»¬å°†:</p><ul class=""><li id="0e3d" class="mz na iq kv b kw kx kz la lc nb lg nc lk nd lo ne nf ng nh bi translated">æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ­£å¥½æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œå°†ä½œä¸ºè¡¨æƒ…ç¬¦å·å‘ˆç°</li><li id="83ea" class="mz na iq kv b kw ni kz nj lc nk lg nl lk nm lo ne nf ng nh bi translated">æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç”±å¤šä¸ªæ ‡é‡ç»„æˆï¼Œè¿™äº›æ ‡é‡å°†è¢«ç»„åˆæˆä¸€ä¸ªè¡¨æƒ…ç¬¦å·</li></ul><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="1db7" class="nv lx iq nq b gy nw nx l ny nz">extension Character {<br/>  var isSimpleEmoji: Bool {<br/>    guard let firstScalar = unicodeScalars.first else {<br/>      return false<br/>    }<br/>    return firstScalar.properties.isEmoji &amp;&amp; firstScalar.value &gt; 0x238C<br/>  }</span><span id="d82c" class="nv lx iq nq b gy ot nx l ny nz">var isCombinedIntoEmoji: Bool {<br/>    unicodeScalars.count &gt; 1 &amp;&amp; unicodeScalars.first?.properties.isEmoji ?? false<br/>  }</span><span id="6d15" class="nv lx iq nq b gy ot nx l ny nz">var isEmoji: Bool { isSimpleEmoji || isCombinedIntoEmoji }<br/>}</span></pre><p id="2898" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å‘å­—ç¬¦ä¸²æ·»åŠ ä¸€äº›è®¡ç®—å±æ€§ï¼Œä»¥è®¿é—®æˆ‘ä»¬çš„å­—ç¬¦æ‰©å±•:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="1f3d" class="nv lx iq nq b gy nw nx l ny nz">extension String {<br/>  var isSingleEmoji: Bool {<br/>    return count == 1 &amp;&amp; containsEmoji<br/>  }</span><span id="0722" class="nv lx iq nq b gy ot nx l ny nz">  var containsEmoji: Bool {<br/>    return contains { $0.isEmoji }<br/>  }</span><span id="9181" class="nv lx iq nq b gy ot nx l ny nz">  var containsOnlyEmoji: Bool {<br/>    return !isEmpty &amp;&amp; !contains { !$0.isEmoji }<br/>  }</span><span id="b313" class="nv lx iq nq b gy ot nx l ny nz">  var emojiString: String {<br/>    return emojis.map { String($0) }.reduce("", +)<br/>  }</span><span id="1349" class="nv lx iq nq b gy ot nx l ny nz">  var emojis: [Character] {<br/>    return filter { $0.isEmoji }<br/>  }</span><span id="14ab" class="nv lx iq nq b gy ot nx l ny nz">  var emojiScalars: [UnicodeScalar] {<br/>    return filter { $0.isEmoji }.flatMap { $0.unicodeScalars }<br/>  }<br/>}</span></pre><p id="375e" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">ç°åœ¨ï¼Œæ£€æŸ¥æˆ‘ä»¬çš„è¡¨æƒ…ç¬¦å·å­—ç¬¦ä¸²å˜å¾—éå¸¸ç®€å•:</p><pre class="kh ki kj kk gt nr nq ns nt aw nu bi"><span id="d76a" class="nv lx iq nq b gy nw nx l ny nz">"Ã¢".isSingleEmoji // false<br/>"3".isSingleEmoji // false<br/>"3ï¸âƒ£".isSingleEmoji // true<br/>"3ï¸âƒ£".emojiScalars // [51, 65039, 8419]<br/>"ğŸ‘ŒğŸ¿".isSingleEmoji // true<br/>"ğŸ™ğŸ¼â€â™‚ï¸".isSingleEmoji // true<br/>"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".isSingleEmoji // true<br/>"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".containsOnlyEmoji // true<br/>"ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿".isSingleEmoji // true<br/>"ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿".containsOnlyEmoji // true<br/>"Hello ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".containsOnlyEmoji // false<br/>"Hello ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".containsEmoji // true<br/>"ğŸ‘« HÃ©llo ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".emojiString // "ğŸ‘«ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§"</span><span id="73f5" class="nv lx iq nq b gy ot nx l ny nz">"ğŸ‘« HÃ©llÅ“ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".emojiScalars // [128107, 128104, 8205, 128105, 8205, 128103, 8205, 128103]<br/>"ğŸ‘« HÃ©llÅ“ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".emojis // ["ğŸ‘«", "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§"]<br/>"ğŸ‘« HÃ©llÅ“ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§".emojis.count // 2</span><span id="63da" class="nv lx iq nq b gy ot nx l ny nz">"ğŸ‘«ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦".isSingleEmoji // false<br/>"ğŸ‘«ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦".containsOnlyEmoji // true</span></pre></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="dd0f" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">æ€»ç»“ä¸€ä¸‹</h1><p id="3951" class="pw-post-body-paragraph kt ku iq kv b kw mo jr ky kz mp ju lb lc mq le lf lg mr li lj lk ms lm ln lo ij bi translated">å­—ç¬¦å’Œæ ‡é‡ä¹‹é—´æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«:åŸºæœ¬ä¸Šï¼Œç”±å®šä¹‰æ ‡é‡çš„å­—ç¬¦ä¸²å’Œå‘ˆç°å®ƒçš„ç³»ç»Ÿæ¥å†³å®šæ ‡é‡å°†äº§ç”Ÿå“ªäº›å­—ç¬¦ã€‚</p><p id="5ab4" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">è™½ç„¶Unicodeå°†æ¯ä¸ªä»£ç ç‚¹å®šä¹‰ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œä½†Swiftå®é™…ä¸Šç§°è¿™äº›<em class="mt">æ ‡é‡ä¸º</em>ï¼Œå¹¶ä½¿ç”¨æœ¯è¯­å­—ç¬¦æ¥è¡¨ç¤ºæ ‡é‡çš„ç»„åˆï¼Œè¿™å¯èƒ½å¯¼è‡´å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—å½¢ã€‚æˆ‘è¯´<em class="mt">å¯èƒ½æ˜¯</em>ï¼Œå› ä¸ºåƒæ§åˆ¶å­—ç¬¦(ä¾‹å¦‚<code class="fe nn no np nq b"><a class="ae ks" href="https://unicode-table.com/en/0000/" rel="noopener ugc nofollow" target="_blank">null</a></code>å’Œ<code class="fe nn no np nq b"><a class="ae ks" href="https://unicode-table.com/en/0008/" rel="noopener ugc nofollow" target="_blank">backspace</a></code>)è¿™æ ·çš„ä¸œè¥¿ä¼šè¢«ç®—ä½œå•ç‹¬çš„å­—ç¬¦ã€‚</p><p id="ace9" class="pw-post-body-paragraph kt ku iq kv b kw kx jr ky kz la ju lb lc ld le lf lg lh li lj lk ll lm ln lo ij bi translated">æ„Ÿè°¢é˜…è¯»ï¼</p></div></div>    
</body>
</html>