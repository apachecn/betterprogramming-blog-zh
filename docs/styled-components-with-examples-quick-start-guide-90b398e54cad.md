# å¼€å§‹ä½¿ç”¨æ ·å¼ç»„ä»¶

> åŸæ–‡ï¼š<https://betterprogramming.pub/styled-components-with-examples-quick-start-guide-90b398e54cad>

## å¸¦ç¤ºä¾‹çš„æ ·å¼ç»„ä»¶å¿«é€Ÿå…¥é—¨æŒ‡å—

![](img/0a95a1423847c8e7734aef079cede3e2.png)

**Styled components** æ˜¯æƒ³çŸ¥é“å¦‚ä½•å¢å¼º CSS æ ·å¼ React component ç³»ç»Ÿçš„ç»“æœ:**è‡ªåŠ¨å…³é”® CSSï¼Œæ²¡æœ‰ç±»åé”™è¯¯ï¼Œæ›´å®¹æ˜“åˆ é™¤ CSSï¼Œç®€å•çš„åŠ¨æ€æ ·å¼ï¼Œæ— ç—›ç»´æŠ¤ï¼Œè‡ªåŠ¨ä¾›åº”å•†å‰ç¼€ã€‚**

# æœ¬æ–‡å°†æ¶µç›–å“ªäº›å†…å®¹:

*   [å…ˆå†³æ¡ä»¶](#faf2)ï¼›
*   [å®‰è£…](#32fd)ï¼›
*   [åŸºç¡€çŸ¥è¯†](#b6d4)ï¼›
*   [è‡ªåŠ¨ä¿®å¤å™¨](#da07)ï¼›
*   [å…¨å±€æ ·å¼](#127f)ï¼›
*   [å®šåˆ¶é“å…·](#5f9b)ï¼›
*   [é£æ ¼åŒ–ç³»ç»Ÿ](#5710)ï¼›
*   [ä¸»é¢˜](#4f7f)ï¼›

# å…ˆå†³æ¡ä»¶

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`**create-react-app**`å‘½ä»¤åˆ›å»ºä¸€ä¸ª React Typescript åº”ç”¨ç¨‹åºé¡¹ç›®:

```
npx **create-react-app** react-styled-components-examples --template **typescript**
```

![](img/82a6baee77fecc48dcd97cd6dfa1820e.png)

# [å®‰è£…](https://styled-components.com/docs/basics#installation)

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ å¸¦æœ‰ç±»å‹åŒ…çš„ [**æ ·å¼åŒ–ç»„ä»¶**](https://styled-components.com/) :

```
yarn add **styled-components &&** yarn add **@types/styled-components** -D
```

âš ï¸ **æ³¨æ„**:å¦‚æœå¯ä»¥çš„è¯ï¼Œå»ºè®®(ä½†ä¸æ˜¯å¿…é¡»)ä¹Ÿä½¿ç”¨[æ ·å¼ç»„ä»¶å·´åˆ«å¡”æ’ä»¶](https://github.com/styled-components/babel-plugin-styled-components)ã€‚å®ƒæä¾›äº†è®¸å¤šå¥½å¤„ï¼Œæ¯”å¦‚æ›´æ˜“è¯»çš„ç±»åã€æœåŠ¡å™¨ç«¯å‘ˆç°å…¼å®¹æ€§ã€æ›´å°çš„åŒ…ç­‰ç­‰ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨`**styled-components**`å’Œ`Next.js`çš„ä¾‹å­â†’ä½ éœ€è¦æ·»åŠ [**babel-plugin-styled-components**](https://www.npmjs.com/package/babel-plugin-styled-components)åˆ°ä½ çš„å¼€å‘ä¾èµ–é¡¹ä¸­(*`***CREATE-REACT-APP***`ä¸éœ€è¦è¿™ä¸ª):*

```
*yarn add **babel-plugin-styled-components** -D*
```

*å¹¶æ·»åŠ /æ›´æ–°`.babelrc`æ–‡ä»¶:*

*![](img/b083252d6899c562314fc77f6b869edb.png)*

# *[åŸºç¡€çŸ¥è¯†](https://styled-components.com/docs/basics)*

*`**styled-components**`åˆ©ç”¨å¸¦æ ‡ç­¾çš„æ¨¡æ¿æ–‡å­—æ¥è®¾è®¡ç»„ä»¶çš„æ ·å¼ã€‚*

*å®ƒç§»é™¤äº†ç»„ä»¶å’Œæ ·å¼ä¹‹é—´çš„æ˜ å°„ã€‚è¿™æ„å‘³ç€å½“æ‚¨å®šä¹‰æ‚¨çš„æ ·å¼æ—¶ï¼Œæ‚¨å®é™…ä¸Šæ˜¯åœ¨åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ React ç»„ä»¶ï¼Œå®ƒé™„åŠ äº†æ‚¨çš„æ ·å¼ã€‚*

*è®©æˆ‘ä»¬å°† create-react-app æ·»åŠ çš„ React çš„é»˜è®¤ CSS å±æ€§ä»`.css`æ–‡ä»¶è¿ç§»åˆ°`.tsx`æ–‡ä»¶:*

*ä¹‹åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å®Œå…¨ç›¸åŒçš„ç»“æœ:*

*![](img/31a07307e8cd7c9dae8272545b60cd03.png)*

*âš ï¸ **æ³¨**:æˆ‘å°†æŠŠ [**ç•™åœ¨ä¸‹ä¸€ä¸ª. js**](https://nextjs.org/) ç¤ºä¾‹ä¸­ï¼Œå¹¶åœ¨æˆ‘çš„ Github repo ä¸­ä½¿ç”¨`**styled-components**`å’Œ`npx create-next-app@latest --typescript`å‘½ä»¤åˆ›å»º:*

*![](img/47977fa8ea812be8a8f4c63383225b35.png)*

# *è‡ªåŠ¨é¢„æ··åˆå™¨*

*CSS è§„åˆ™è‡ªåŠ¨ä»¥å‚å•†ä¸ºå‰ç¼€ï¼Œ`**styled-components**`ä¼šä¸ºä½ å¤„ç†å¥½çš„ï¼æ ·å¼åŒ–ç»„ä»¶ä½¿ç”¨å¤´ç½©ä¸‹çš„ [**stylis.js**](https://stylis.js.org/) åŒ…ä½œä¸º CSS è§„åˆ™çš„å‰ç¼€ã€‚å…³äº **stylis.js** ä¸­æ”¯æŒçš„å‰ç¼€çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®ä»–ä»¬çš„[åº“](https://github.com/thysultan/stylis.js)ã€‚*

## *ä»¥å‰*

*![](img/75042ea0b8a8df823017c0210d82a359.png)*

## *åœ¨...ä¹‹å*

*![](img/2048f7497f899fe1640e9610279bbfb6.png)*

*âš ï¸ **æ³¨** : `**styled-components**`ä¸ºä½ çš„é£æ ¼ç”Ÿæˆå”¯ä¸€çš„ç±»åã€‚ä½ æ°¸è¿œä¸å¿…æ‹…å¿ƒé‡å¤ã€é‡å æˆ–æ‹¼å†™é”™è¯¯ã€‚*

*![](img/ebbdcd1f442695f64f453b8da9cda48c.png)*

*ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æ›´å¤šå…³äºå‰ç¼€çš„ä¿¡æ¯:*

*[](https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix) [## ä¾›åº”å•†å‰ç¼€- MDN Web æ–‡æ¡£è¯æ±‡è¡¨:Web ç›¸å…³æœ¯è¯­çš„å®šä¹‰| MDN

### æµè§ˆå™¨ä¾›åº”å•†æœ‰æ—¶ä¼šåœ¨å®éªŒæ€§æˆ–éæ ‡å‡†çš„ CSS å±æ€§å’Œ JavaScript APIs ä¸­æ·»åŠ å‰ç¼€ï¼Œå› æ­¤å¼€å‘äººå‘˜â€¦

developer.mozilla.org](https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix) 

æ­¤å¤–ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥`**autoprefixer**`:

[](https://autoprefixer.github.io/) [## åœ¨çº¿è‡ªåŠ¨ä¿®å¤ CSS

### Autoprefixer æ˜¯ä¸€ä¸ª PostCSS æ’ä»¶ï¼Œå®ƒè§£æä½ çš„ CSS å¹¶æ·»åŠ å‚å•†å‰ç¼€ï¼ŒåŒ…æ‹¬å¸¦æœ‰é…ç½®çš„æ³¨é‡Šâ€¦

autoprefixer.github.io](https://autoprefixer.github.io/) 

âš ï¸ **æ³¨**:é‚£ä¹ˆï¼Œæˆ‘ä»¬æ€æ ·æ‰èƒ½å¾—åˆ°ä¸€ä¸ª CSS ç±»çš„å€¼å‘¢ï¼Ÿ

å‡è®¾æˆ‘ä»¬æƒ³ä½¿ç”¨ [**CSS å…ƒç´ +å…ƒç´ é€‰æ‹©å™¨**](https://www.w3schools.com/cssref/sel_element_pluss.asp) **:**

> å°†æ ·å¼åº”ç”¨äºå…·æœ‰ç±»çš„å…ƒç´ ã€‚â€œä»…å½“å…ƒç´ å…·æœ‰ç±»æ—¶â€ã€‚a' **æ˜¯ç´§è·Ÿåœ¨å¸¦æœ‰ç±»çš„å…ƒç´ ä¹‹åçš„**ã€‚â€œbâ€å…ƒç´ :

```
.**b** + .**a** {
  background-color: red;
}
```

æ™®é€š CSS ç¤ºä¾‹:

ç»“æœ:

![](img/86b284f1d03e9193456c91034b109dae.png)

æˆ‘ä»¬å¯ä»¥ç”¨è¿™æ ·çš„`**styled-components**`è·å¾—åŒæ ·çš„ç»“æœ:

![](img/fda2b336aba08da66eab936d2849d43f.png)

# å…¨å±€æ ·å¼

è¦æ·»åŠ å…¨å±€æ ·å¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`**createGlobalStyle**`è¾…åŠ©å‡½æ•°â†’ç”Ÿæˆä¸€ä¸ªç‰¹æ®Šçš„ **StyledComponent** æ¥å¤„ç†å…¨å±€æ ·å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ ·å¼åŒ–ç»„ä»¶çš„ä½œç”¨åŸŸè‡ªåŠ¨é™å®šåœ¨ä¸€ä¸ªæœ¬åœ° CSS ç±»ä¸­ï¼Œå› æ­¤ä¸å…¶ä»–ç»„ä»¶éš”ç¦»å¼€æ¥ã€‚åœ¨`**createGlobalStyle**`çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé™åˆ¶è¢«ç§»é™¤ï¼Œå¯ä»¥åº”ç”¨ CSS é‡ç½®æˆ–åŸºæœ¬æ ·å¼è¡¨ä¹‹ç±»çš„ä¸œè¥¿ã€‚

æˆ‘ä»¬å°†å¤åˆ¶ç²˜è´´é»˜è®¤çš„ React å…¨å±€æ ·å¼ã€‚

â€¦â€¦åˆ°`**createGlobalStyle**` **:**

ä½ å¯ä»¥çœ‹åˆ°ï¼Œä½ å¯ä»¥æŠŠå®ƒâ€œæ³¨å…¥â€åˆ°ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œé£æ ¼æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚

# å®šåˆ¶é“å…·

æ ·å¼ç»„ä»¶å…è®¸æ‚¨ä¼ é€’ä»»ä½•æ‚¨å–œæ¬¢çš„è‡ªå®šä¹‰å±æ€§ï¼Œå¹¶æŒ‰ç…§æ‚¨å–œæ¬¢çš„æ–¹å¼ç®¡ç†è¿™äº›å±æ€§:

console.log çš„ç»“æœ:

```
PROPS {
      **myCustomProp**: '50px',
      **theme**: {},children: {
        '$$typeof': Symbol(react.element),
        type: {
          '$$typeof': Symbol(react.forward_ref),
          render: [Function],
          // ...
        },
        key: null,
        ref: null,
        // ...
        _store: {}
      },
    }
```

è®©æˆ‘ä»¬æ›´æ–°`**<Styled.Header/>**`ç»„ä»¶çš„å‡ ä¸ªé“å…·:

å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ [**ccstype**](https://www.npmjs.com/package/csstype) npm åŒ…ï¼Œè¯¥åŒ…å°†ç”¨äºç±»å‹å¹¶ä½œä¸º CSS åŠ©æ‰‹ï¼Œç°åœ¨ IDE å°†å‘ä½ æ˜¾ç¤º`align-item`çš„æ‰€æœ‰å¯ç”¨ CSS å€¼:

![](img/c97033897d44816404dc4a8430538cd8.png)

# é£æ ¼ç³»ç»Ÿ

å¦‚æœæˆ‘ä»¬æƒ³å°†æ‰€æœ‰å¸ƒå±€å’Œ flex CSS å±æ€§æ·»åŠ åˆ°æˆ‘ä»¬çš„æ ·å¼åŒ–ç»„ä»¶ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¼–å†™ç±»ä¼¼äº:

æˆ‘ä»¬å·²ç»ä»‹ç»äº†ä¸€ç§ä½¿ç”¨ [**csstype**](https://www.npmjs.com/package/csstype) åŒ…çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºé™·â€”â€”æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ·»åŠ  CSS é“å…·*ã€‚è®©æˆ‘ä»¬ä½¿ç”¨[**styled-system**](https://www.npmjs.com/package/styled-system)NPM åº“æ¥æ£€æŸ¥ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•:*

*[](https://www.npmjs.com/package/styled-system) [## é£æ ¼ç³»ç»Ÿ

### ä½¿ç”¨ React æ„å»ºè®¾è®¡ç³»ç»Ÿçš„å“åº”å¼ã€åŸºäºä¸»é¢˜çš„é£æ ¼é“å…·ã€‚æœ€æ–°ç‰ˆæœ¬:5.1.5ï¼Œæœ€åå‘å¸ƒæ—¶é—´:2â€¦

www.npmjs.com](https://www.npmjs.com/package/styled-system) 

é¦–å…ˆï¼Œå°†å¼€å‘ä¾èµ–é¡¹æ·»åŠ åˆ°é¡¹ç›®ä¸­

```
yarn add styled-system -D
yarn add @types/styled-system -D
```

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:

æ‰€æœ‰é€šè¿‡çš„é“å…·éƒ½å°†è¢«åº”ç”¨ï¼Œç„¶åè®©æˆ‘ä»¬çœ‹çœ‹ TS å°†å¦‚ä½•å¸®åŠ©æˆ‘ä»¬:

![](img/8645b7730e64121decae4221a026b770.png)![](img/4e8cf769e1fb84e97f564cca06af109d.png)

æ‚¨å¯ä»¥é€šè¿‡æ­¤é“¾æ¥æŸ¥çœ‹æ›´å¤šä¿¡æ¯:

 [## é£æ ¼ç³»ç»Ÿ

### Styled System æ˜¯ä¸€ä¸ªå®ç”¨å‡½æ•°çš„é›†åˆï¼Œå®ƒå°†æ ·å¼é“å…·æ·»åŠ åˆ° React ç»„ä»¶ä¸­ï¼Œå¹¶å…è®¸æ‚¨â€¦

styled-system.com](https://styled-system.com/)* 

# *ä¸»é¢˜*

*é€šè¿‡å¯¼å‡ºä¸€ä¸ª`**<ThemeProvider>**`åŒ…è£…å™¨ç»„ä»¶ï¼Œ`**styled-components**`å®Œå…¨æ”¯æŒä¸»é¢˜åŒ–ã€‚è¯¥ç»„ä»¶é€šè¿‡ä¸Šä¸‹æ–‡ API å‘å…¶ä¸‹çš„æ‰€æœ‰ React ç»„ä»¶æä¾›ä¸€ä¸ªä¸»é¢˜ã€‚åœ¨æ¸²æŸ“æ ‘ä¸­ï¼Œæ‰€æœ‰æ ·å¼åŒ–çš„ç»„ä»¶éƒ½å¯ä»¥è®¿é—®æ‰€æä¾›çš„ä¸»é¢˜ï¼Œå³ä½¿å®ƒä»¬æ˜¯å¤šå±‚çš„ã€‚*

*ä½ å¯ä»¥é€šè¿‡ä»»ä½•ä½ å–œæ¬¢çš„ä¸»é¢˜é“å…·ã€‚*

*ç®€å•çš„ä¾‹å­:*

*![](img/4d86fe34685fbf134fd2eb80088bbab6.png)*

*ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®ç°ä¸€ä¸ªæ›´æœ‰è¶£çš„ä¸»é¢˜ç¤ºä¾‹:*

*![](img/a8293e7246f3263fd0bb1ddb41e8caa0.png)*

*é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä¸åŒé¢œè‰²çš„ä¸»é¢˜`.ts`æ–‡ä»¶:*

*![](img/96226999407afd01ad15f85418fcbf92.png)*

*å°†ä¸»é¢˜å¯¼å…¥`**App.tsx**`ç»„ä»¶ï¼Œå¹¶ä¸ºä¸»é¢˜å˜åŒ–æ·»åŠ ç®€å•çŠ¶æ€:*

*å’Œæ›´æ–°å…¨å±€æ ·å¼:*

*âš ï¸ **æ³¨æ„** : IDE ä¼šæŠ›å‡º TS é”™è¯¯:*

```
*TS2339: Property 'mode' does not exist on type 'DefaultTheme'.*
```

*![](img/2aeaaec6ad2e83aa08aa61a8a54f7ead.png)*

*â€¦å› ä¸º`styled-components`çš„ **DefaultTheme** ç±»å‹å°±åƒ`any` â†’ IDE å¯¹æˆ‘ä»¬æ·»åŠ çš„é“å…·ä¸€æ— æ‰€çŸ¥ã€‚æˆ‘ä»¬éœ€è¦æ·»åŠ /æ›´æ–°å…¨å±€é»˜è®¤ä¸»é¢˜ç±»å‹:*

*![](img/2a70be4440bc91edf592d41ca5147135.png)*

*å†…å®¹:*

*ç°åœ¨ TS ä¼šå¼€å¿ƒçš„ğŸ‰ï¼š*

*![](img/fd896a84a8bb23fc6436d265ff41ccb8.png)*

*Codesandbox:*

*Github å›è´­é“¾æ¥:*

*[](https://github.com/nemrosim/react-styled-components-examples) [## GitHub-nemrosim/react-style-components-ç¤ºä¾‹

### è¿™ä¸ªé¡¹ç›®æ˜¯ç”¨ Create React App å¼•å¯¼çš„ã€‚åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œæ‚¨å¯ä»¥è¿è¡Œ:åœ¨â€¦ä¸­è¿è¡Œåº”ç”¨ç¨‹åº

github.com](https://github.com/nemrosim/react-styled-components-examples)**