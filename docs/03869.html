<html>
<head>
<title>7 New Features Shipping With ES2020</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ES2020é™„å¸¦7é¡¹æ–°åŠŸèƒ½</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/8-new-features-shipping-with-es2020-7a2721f710fb?source=collection_archive---------4-----------------------#2020-03-10">https://betterprogramming.pub/8-new-features-shipping-with-es2020-7a2721f710fb?source=collection_archive---------4-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="690c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">GlobalThisã€å¯é€‰é“¾æ¥ã€ç±»ä¸­çš„ç§æœ‰å­—æ®µã€nullishåˆå¹¶è¿ç®—ç¬¦ç­‰ç­‰</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd020a275f3ad9220923bd5c0f7fe913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6f9EcQnJQ5KjaVnA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">æ‰˜é©¬æ–¯Â·å¼—å…°ç§‘æ–¯åŸºåœ¨<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</p></figure><p id="4d17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½ å¯èƒ½çŸ¥é“ï¼Œä»2015å¹´ES6å¼€å§‹ï¼Œæ¯å¹´éƒ½ä¼šå‘å¸ƒECMAScriptçš„æ–°ç‰ˆæœ¬ï¼Œç”±Ecma Internationalçš„TC39ã€‚ECMAScript 2020æ˜¯ECMAScriptè¯­è¨€è§„èŒƒçš„ç¬¬11ç‰ˆã€‚</p><p id="2962" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™ä¸ªæ–°çš„è¿­ä»£æœ‰å®ƒè‡ªå·±çš„ä¸€æ‰¹æ–°ç‰¹æ€§â€”â€”è®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ï¼</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6d23" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.' globalThis '</h1><p id="bd2d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">JavaScriptè¯­è¨€ç°åœ¨éå¸¸æµè¡Œï¼Œå¯ä»¥åœ¨å„ç§å„æ ·çš„ç¯å¢ƒä¸­ä½¿ç”¨â€”â€”å½“ç„¶æ˜¯åœ¨webæµè§ˆå™¨ä¸­ï¼Œä½†æ˜¯JavaScriptä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯ã€æ™ºèƒ½æ‰‹æœºä¸Šã€æœºå™¨äººä¸Šè¿è¡Œï¼Œç­‰ç­‰ã€‚</p><p id="60b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ¯ä¸ªç¯å¢ƒéƒ½æœ‰è‡ªå·±çš„å¯¹è±¡æ¨¡å‹å’Œè¯­æ³•æ¥è®¿é—®å…¨å±€å¯¹è±¡ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œç¼–å†™èƒ½åœ¨å¤šç§ç¯å¢ƒä¸‹å·¥ä½œçš„JavaScriptä»£ç å¯èƒ½ä¼šå¾ˆå›°éš¾:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3bf0" class="ne md it na b gy nf ng l nh ni">// browser environment<br/>console.log(<strong class="na iu">window</strong>);<br/><br/>// node.js environment<br/>console.log(<strong class="na iu">global</strong>);<br/><br/>// Service worker environment<br/>console.log(<strong class="na iu">self</strong>);</span><span id="517b" class="ne md it na b gy nj ng l nh ni">// ...</span></pre><p id="2428" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å½“ç„¶ï¼Œé€šè¿‡ç¼–å†™ä¸€ä¸ªæ£€æŸ¥å½“å‰ç¯å¢ƒçš„å‡½æ•°æ¥è·¨å¤šä¸ªå¹³å°æ ‡å‡†åŒ–å®ƒæ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯è¿™å°†ä¸å†éœ€è¦äº†ï¼</p><p id="d4c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nk nl nm na b">globalThis</code>å±æ€§ç°åœ¨æ˜¯è·¨ç¯å¢ƒä»¥ä¸€è‡´çš„æ–¹å¼è®¿é—®å…¨å±€å¯¹è±¡çš„æ ‡å‡†æ–¹å¼ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="be02" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.' Promise.allSettled()'</h1><p id="4797" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><code class="fe nk nl nm na b">Promise.allSettled()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ‰¿è¯ºï¼Œè¯¥æ‰¿è¯ºåœ¨æ‰€æœ‰ç»™å®šæ‰¿è¯ºéƒ½å·²è§£å†³æˆ–è¢«æ‹’ç»åè§£å†³ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡é€šè¿‡statuså±æ€§æè¿°æ¯ä¸ªæ‰¿è¯ºçš„ç»“æœã€‚è¿™ä½¿å¾—è¿‡æ»¤å®ƒä»¬å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c85f" class="ne md it na b gy nf ng l nh ni">const p1 = new Promise((res) =&gt; res("ğŸ•"));<br/>const p2 = new Promise((res, rej) =&gt; rej("ğŸ"));<br/>const p3 = new Promise((res) =&gt; res("ğŸº"));</span><span id="b0d3" class="ne md it na b gy nj ng l nh ni"><strong class="na iu">Promise.allSettled</strong>([p1, p2, p3]).then(data =&gt; console.log(data));<br/>// [<br/>//   { status: "fulfilled", value: "ğŸ•" },<br/>//   { status: "rejected", value: "ğŸ" },<br/>//   { status: "fulfilled", value: "ğŸº" },<br/>// ]</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="098b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.é›¶èåˆç®—å­</h1><p id="282f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">åœ¨æ‰§è¡Œå±æ€§è®¿é—®æ—¶ï¼Œå½“è¯•å›¾æä¾›é»˜è®¤å€¼æ—¶ï¼Œnullishåˆå¹¶è¿ç®—ç¬¦æ˜¯å·¥å…·ç®±ä¸­çš„ä¸€ä¸ªæ–°å·¥å…·ã€‚å®ƒä¸åŒäºåœ¨ä¸¤ä¸ªå€¼ä¹‹é—´ç”¨<code class="fe nk nl nm na b">||</code>ç¬¦å·åŒ–çš„<em class="nn">æˆ–</em>è¿ç®—ç¬¦ï¼Œå®ƒå¤„ç†ç©ºå€¼çš„æ–¹å¼ä¸åŒã€‚</p><p id="5abb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è®©æˆ‘ä»¬é€šè¿‡æ¯”è¾ƒè¿™ä¸¤ä¸ªæ“ä½œç¬¦æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="ddf4" class="ne md it na b gy nf ng l nh ni">const test = {<br/>  null: null,<br/>  number: 0,<br/>  string: '',<br/>  boolean: false<br/>};</span><span id="8375" class="ne md it na b gy nj ng l nh ni">const undefinedValue = test.dog || "Cat"; // "Cat"<br/>const undefinedValue = test.dog <strong class="na iu">??</strong> "Cat"; // "Cat"</span><span id="302f" class="ne md it na b gy nj ng l nh ni">const nullValue = test.null || "Default"; // "Default"<br/>const nullValue2 = test.null <strong class="na iu">??</strong> "Default"; // "Default"</span><span id="a415" class="ne md it na b gy nj ng l nh ni">const numberValue = test.number || 1; // 1<br/>const numberValue2 = test.number <strong class="na iu">??</strong> 1; // <strong class="na iu">0</strong></span><span id="c466" class="ne md it na b gy nj ng l nh ni">const stringValue = test.string || "Hello"; // "Hello"<br/>const stringValue2 = test.string <strong class="na iu">??</strong> "Hello"; // <strong class="na iu">""</strong></span><span id="23e7" class="ne md it na b gy nj ng l nh ni">const booleanValue = test.boolean || true; // true<br/>const booleanValue2 = test.boolean <strong class="na iu">??</strong> true; // <strong class="na iu">false</strong></span></pre><p id="9c8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æ‚¨æ‰€è§ï¼Œå½“ä¸”ä»…å½“<code class="fe nk nl nm na b">??</code>å·¦ä¾§çš„è¡¨è¾¾å¼ä¸º<code class="fe nk nl nm na b">null</code>æˆ–<code class="fe nk nl nm na b">undefined</code>æ—¶ï¼Œnullish coalsceingæ“ä½œç¬¦æ‰ä¼šé€‰æ‹©å³ä¾§çš„å€¼ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6af8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.å¯é€‰çš„é“¾æ¥è¿ç®—ç¬¦</h1><p id="9acc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå½“æŸ¥æ‰¾æ·±åµŒå¥—åœ¨å¯¹è±¡ä¸­çš„å±æ€§å€¼æˆ–ä½¿ç”¨è¿”å›objectæˆ–null/undefinedçš„APIæ—¶ï¼Œäººä»¬é€šå¸¸å¿…é¡»è¿™æ ·æ£€æŸ¥ä¸­é—´å€¼:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1ff4" class="ne md it na b gy nf ng l nh ni">// Checking for intermediate nodes:<br/>const deeplyNestedValue = obj &amp;&amp; obj.prop1 &amp;&amp; obj.prop1.prop2;</span><span id="67bb" class="ne md it na b gy nj ng l nh ni">// Checking if the node exists in the DOM:<br/>const fooInputEl = document.querySelector('input[name=foo]');<br/>const fooValue = fooInputEl &amp;&amp; fooInputEl.value;</span></pre><p id="54b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¯é€‰çš„é“¾æ¥æ“ä½œç¬¦å…è®¸æˆ‘ä»¬ä»¥æ›´æ–¹ä¾¿çš„æ–¹å¼å¤„ç†è¿™äº›æƒ…å†µã€‚é‡å†™ä¸Šé¢çš„ä¾‹å­å°†ç»™å‡º:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="bb14" class="ne md it na b gy nf ng l nh ni">// Checking for intermediate nodes:<br/>const deeplyNestedValue = obj<strong class="na iu">?</strong>.prop1<strong class="na iu">?</strong>.prop2;</span><span id="bdd8" class="ne md it na b gy nj ng l nh ni">// Checking if the node exists in the DOM:<br/>const fooValue = document.querySelector('input[name=foo]')<strong class="na iu">?</strong>.value;</span></pre><h2 id="3d8f" class="ne md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated"><strong class="ak">å¾ˆé«˜å…´çŸ¥é“</strong></h2><p id="b103" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">å¯é€‰çš„é“¾æ¥æ“ä½œç¬¦æ˜¯short-circuitingï¼Œè¿™æ„å‘³ç€å¦‚æœ<code class="fe nk nl nm na b">?.</code>çš„å·¦ä¾§è®¡ç®—ç»“æœä¸ºç©ºæˆ–æœªå®šä¹‰ï¼Œå®ƒå°†åœæ­¢è®¡ç®—è¯¥è¡Œ:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f773" class="ne md it na b gy nf ng l nh ni">// x is incremented if and only if 'a' is not null or undefined<br/>a?.[++x]</span></pre><p id="0799" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åä¸€ç‚¹:å¯é€‰çš„é“¾æ¥æ“ä½œç¬¦ä¹Ÿé€‚ç”¨äºå‡½æ•°ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="2973" class="ne md it na b gy nf ng l nh ni">func?.(...args) // optional function or method call</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="177d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.' BigInt '</h1><p id="75c1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">æˆ‘ä»¬å·²ç»æœ‰äº†ç”¨JavaScriptè¡¨ç¤ºæ•°å­—çš„<code class="fe nk nl nm na b">Number</code>ã€‚é—®é¢˜æ˜¯ï¼Œäººæ•°æœ€å¤šçš„æ˜¯2âµã€‚è¶…è¿‡é‚£ä¸ªï¼Œå°±çœŸçš„ä¸é è°±äº†ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="084c" class="ne md it na b gy nf ng l nh ni">const x = Number.MAX_SAFE_INTEGER; // 9007199254740991<br/>const y = x + 1; // 9007199254740992 â€¢ equal to 2^53<br/>const z = x + 2; // 9007199254740992 â€¢ well, it's broken</span></pre><p id="fe0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ˜¯çš„:<code class="fe nk nl nm na b">BigInt</code>æ˜¯ä¸€ä¸ªæ–°çš„åŸè¯­ï¼Œæä¾›äº†ä¸€ç§è¡¨ç¤ºå¤§äº2 âµçš„æ•°çš„æ–¹æ³•ã€‚å®ƒæ˜¯é€šè¿‡åœ¨ä¸€ä¸ªæ•´æ•°çš„æœ«å°¾è¿½åŠ ä¸€ä¸ª<code class="fe nk nl nm na b">n</code>æ¥åˆ›å»ºçš„:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="25f6" class="ne md it na b gy nf ng l nh ni">const aBigInteger = 9007199254740993<strong class="na iu">n</strong>;<br/>// There is also a constructor:<br/>const evenBigger = BigInt(9007199254740994); // 9007199254740994<strong class="na iu">n</strong><br/>const fromString = BigInt("9007199254740995"); // 9007199254740995<strong class="na iu">n</strong></span></pre><h2 id="0560" class="ne md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated"><strong class="ak">å¾ˆé«˜å…´çŸ¥é“</strong></h2><p id="c8db" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">ä¸€ä¸ª<code class="fe nk nl nm na b">BigInt</code>ä¸ä¸€ä¸ª<code class="fe nk nl nm na b">number</code>çš„è¡Œä¸ºåŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯å®ƒä»¬ä¸èƒ½åœ¨ä¸€ä¸ªæ“ä½œä¸­ä¸€èµ·ä½¿ç”¨:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6d82" class="ne md it na b gy nf ng l nh ni">let sum = 1n + 2, multiplication = 1n * 2;<br/>// TypeError: Cannot mix BigInt and other types, use explicit conversions</span></pre><p id="ff74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°<code class="fe nk nl nm na b">Number()</code>å°†ä¸€ä¸ª<code class="fe nk nl nm na b">BigInt</code>è½¬æ¢æˆä¸€ä¸ª<code class="fe nk nl nm na b">Number</code>ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½ä¼šå¤±å»ç²¾åº¦ã€‚å› æ­¤ï¼Œå»ºè®®åªåœ¨ä»£ç ä¸­éœ€è¦å¤§å€¼æ—¶ä½¿ç”¨<code class="fe nk nl nm na b">BigInt</code>ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1800" class="ne md it na b gy nf ng l nh ni">Number(900719925474099267n); // 900719925474099300 â€¢ ğŸ¤·â€â™‚ï¸</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3f0e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.åŠ¨æ€å¯¼å…¥()'</h1><p id="823c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">å¯¼å…¥æ¨¡å—<code class="fe nk nl nm na b">import module from './module'</code>çš„å½“å‰å½¢å¼æ˜¯é™æ€çš„ï¼Œåªæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å®ƒä¹Ÿåªåœ¨è¿è¡Œå‰ä½œä¸ºä¸€ä¸ªé“¾æ¥è¿‡ç¨‹å·¥ä½œã€‚</p><p id="7f97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åŠ¨æ€çš„<code class="fe nk nl nm na b">import(...)</code>å…è®¸å¼€å‘è€…èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½JavaScriptåº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚è¿™å¸¦æ¥äº†å½“å‰<code class="fe nk nl nm na b">import</code>ä¸æ”¯æŒçš„å¤šä¸ªä¼˜åŠ¿:</p><ul class=""><li id="5034" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">åŠ è½½ç”¨æˆ·çš„è¯­è¨€ï¼Œè€Œä¸æ˜¯å…¨éƒ¨åŠ è½½</li><li id="0619" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">å»¶è¿ŸåŠ è½½åº”ç”¨ç¨‹åºçš„è·¯ç”±(æé«˜æ€§èƒ½)</li><li id="5713" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">å¦‚æœæ‰¾ä¸åˆ°æ¨¡å—ï¼Œå¯ä»¥å¤„ç†å¤±è´¥</li></ul><h2 id="6a96" class="ne md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6d0f" class="ne md it na b gy nf ng l nh ni">// Used as a function, import() returns a promise that can be handled the 2 usuals ways:</span><span id="ddbf" class="ne md it na b gy nj ng l nh ni">// Using callback<strong class="na iu"><br/>import(</strong>'/module.js'<strong class="na iu">)</strong><br/>  .then((module) =&gt; {<br/>    // Do something with the module.<br/>  });</span><span id="df4c" class="ne md it na b gy nj ng l nh ni">// Using async / await<br/><strong class="na iu">async</strong> function () {<br/>  let module = <strong class="na iu">await import(</strong>'/modules.js'<strong class="na iu">)</strong>;<br/>}</span></pre><p id="1392" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸é€šå¸¸çš„<code class="fe nk nl nm na b">import</code>å£°æ˜ç›¸æ¯”ï¼Œä»¥ä¸‹æ˜¯æ˜¾è‘—çš„åŒºåˆ«:</p><ul class=""><li id="212f" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated"><code class="fe nk nl nm na b">import()</code>å¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨æ¨¡å—ä¸­</li><li id="7219" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><code class="fe nk nl nm na b">import()</code>å¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•åœ°æ–¹ä»»ä½•é«˜åº¦ï¼Œå¹¶ä¸”ä¸è¢«åŠèµ·</li><li id="3684" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><code class="fe nk nl nm na b">import()</code>æ¥å—ä»»æ„å­—ç¬¦ä¸²(è¿è¡Œæ—¶ç¡®å®šçš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¦‚æ­¤å¤„æ‰€ç¤º)ï¼Œè€Œä¸ä»…ä»…æ˜¯é™æ€å­—ç¬¦ä¸²</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="219c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">7.' String.protype.matchAll '</h1><p id="1496" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><code class="fe nk nl nm na b">matchAll()</code>æ–¹æ³•è¿”å›æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼(<code class="fe nk nl nm na b">RegExp</code>)çš„ç»“æœçš„è¿­ä»£å™¨ï¼Œå·¥ä½œæ–¹å¼å¦‚ä¸‹:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1333" class="ne md it na b gy nf ng l nh ni">const regexp = RegExp('[a-z]*ball','g');<br/>const str = 'basketball handball pingpong football';<br/>const matches = str.<strong class="na iu">matchAll</strong>(regexp);</span><span id="82fa" class="ne md it na b gy nj ng l nh ni">// Since it is an iterator, you can loop trought results this way:<br/>let match = matches.next();<br/>while (!match.done) {<br/> console.log(match.value);<br/> match = matches.next();<br/>}<br/>// ["basketball", index: 0, input: "basketb...", groups: undefined]<br/>// ["handball", index: 11, input: "basketb...", groups: undefined]<br/>// ["football", index: 29, input: "basketb...", groups: undefined]</span><span id="9c1e" class="ne md it na b gy nj ng l nh ni">// One can also get an array of all results<br/>let results = [...str.matchAll(regexp)];</span></pre><h2 id="328b" class="ne md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated"><strong class="ak">å¾ˆé«˜å…´çŸ¥é“</strong></h2><p id="e95c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">å½“ä½¿ç”¨å…¨å±€<code class="fe nk nl nm na b">/g</code>æ ‡å¿—æ—¶ï¼Œ<code class="fe nk nl nm na b">match()</code>æ–¹æ³•ä¸ä¼šè¿”å›æ•è·ç»„ï¼Œè€Œ<code class="fe nk nl nm na b">matchAll()</code>ä¼šã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f7a1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">ç»“è®º</h1><p id="db32" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">ä»Šå¹´åˆ°æ­¤ä¸ºæ­¢ï¼</p><p id="49ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Babelå·²ç»æœ‰äº†å‡ ä¹æ‰€æœ‰è¿™äº›ç‰¹æ€§çš„æ’ä»¶ã€‚å¦‚æœæ‚¨è¿«ä¸åŠå¾…åœ°æƒ³åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨å®ƒä»¬ï¼Œä»¥ä¸‹æ˜¯é“¾æ¥:</p><ul class=""><li id="88d7" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated"><a class="ae ky" href="https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-nullish-coalescing-operator</a></li><li id="f6e5" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><a class="ae ky" href="https://babeljs.io/docs/en/babel-plugin-proposal-private-methods" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-private-methods</a></li><li id="a0bc" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><a class="ae ky" href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-proposal-optional-chaining</a></li><li id="667c" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><a class="ae ky" href="https://babeljs.io/docs/en/babel-plugin-syntax-bigint" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-syntax-bigint</a></li><li id="2fc7" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated"><a class="ae ky" href="https://babeljs.io/docs/en/babel-plugin-syntax-dynamic-import" rel="noopener ugc nofollow" target="_blank">@ babel/plugin-è¯­æ³•-åŠ¨æ€-å¯¼å…¥</a></li></ul><p id="600f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ„Ÿè°¢é˜…è¯»ï¼</p></div></div>    
</body>
</html>