# å°†åœ°å›¾ä¸­çš„ JavaScript å¯¹è±¡è½¬å˜ä¸ºå¯é¢„æµ‹æ€§

> åŸæ–‡ï¼š<https://betterprogramming.pub/make-your-javascript-objects-more-predictable-by-creating-maps-20ac1a795442>

## ä¸å†æœ‰æœªå®šä¹‰å±æ€§çš„é”™è¯¯

![](img/4f2bf5ebae0fdbc2eef08feb22d8e712.png)

ç¾å›½å®‡èˆªå±€åœ¨ [Unsplash](https://unsplash.com/s/photos/earth?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) æ‹æ‘„çš„ç…§ç‰‡

# ç‰©ä½“çš„é—®é¢˜

æ‚¨æ­£åœ¨æ·±å…¥ç ”ç©¶æ‚¨çš„ä»£ç ï¼Œçªç„¶æ‚¨å¾—åˆ°ä¸€ä¸ªé”™è¯¯:â€œæ— æ³•è¯»å–æœªå®šä¹‰çš„å±æ€§ *x* â€å•Šï¼Œè€å…„ã€‚

å¤§å¤šæ•°æ—¶å€™ï¼Œè¿™æ„å‘³ç€è°ƒè¯•â€”â€”ç”¨è¿™é‡Œçš„`debugger`ï¼Œé‚£é‡Œçš„`console.log()`æ”»å‡»æˆ‘çš„ä»£ç ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘å¾ˆå¿«å°±ä¿®å¥½äº†ã€‚ä½†æ˜¯æœ‰äº›æ—¥å­æˆ‘ä¼šèŠ±ä¸Šå‡ ä¸ªå°æ—¶ï¼Ÿ

# ç¤ºä¾‹é—®é¢˜

æˆ‘ä»¬æœ‰ä¸€ä¸ªç‰©ä½“å«åš`car`ã€‚

.

æ±½è½¦å¯¹è±¡æœ‰ä¸€ç»„é”®å€¼å¯¹ã€‚æˆ‘ä»¬ä»æˆ‘ä»¬çš„ API ä¸­è·å¾—è¿™äº›ä¿¡æ¯ã€‚é€šå¸¸ï¼Œæ‚¨ä¼šåœ¨åŒ…å«å±æ€§`last_updated` çš„å¯¹è±¡ä¸­è·å¾—ä¸€ä¸ª`events`å±æ€§â€”â€”å£°æ˜è¯¥ä¿¡æ¯æœ€åä¸€æ¬¡è¢«æ›´æ”¹çš„æ—¶é—´ã€‚

è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚

```
Uncaught TypeError: Cannot read property 'last_updated' of undefined at <anonymous>:1:14
```

ä¸ºäº†é˜²æ­¢é”™è¯¯ï¼Œæˆ‘ä»¬å¿…é¡»æ£€æŸ¥å±æ€§`events`æ˜¯å¦åœ¨å¯¹è±¡ä¸­ã€‚

è¿™æ ·ï¼Œå¦‚æœ`event`å±æ€§ä¸åœ¨æˆ‘ä»¬çš„å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬å°±ä¸ä¼šæœ‰é”™è¯¯ã€‚ä½†æ˜¯æˆ‘å‘ç°è¿™æ®µä»£ç å¯è¯»æ€§ä¸æ˜¯å¾ˆå¥½ã€‚

# åœ°å›¾è§£å†³æ–¹æ¡ˆ

å½“æˆ‘ä»¬æŠŠæˆ‘ä»¬çš„å¯¹è±¡å˜æˆä¸€ä¸ª`Map()`æ—¶ï¼Œæˆ‘ä»¬ä»æ˜ å°„ä¸­å¾—åˆ°æ‰€æœ‰çš„æ˜ç¡®æ–¹æ³•ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨`Object.entries()`æ–¹æ³•å°†æ‚¨çš„å¯¹è±¡è½¬æ¢æˆåœ°å›¾ï¼Œå¹¶å°†æ‚¨çš„å¯¹è±¡ä½œä¸ºå‚æ•°æä¾›ç»™å®ƒã€‚

è¿™å°†æ˜¯åœ°å›¾çš„è¾“å‡ºã€‚

ä¸€ä¸ª`Map()`æœ‰ä¸€ç³»åˆ—æ–¹ä¾¿çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¬æ¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´å¯è¯»ï¼Œæ›´å¯é¢„æµ‹ï¼Œå¹¶ä¸”å‡ºé”™çš„æœºä¼šæ›´å°‘ã€‚

*   `set('key', 'value')`å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹
*   `get('key')`è¿”å›é”®å€¼(å¦‚æœæœ‰çš„è¯)
*   `has('key')`æ ¹æ®å¯†é’¥æ˜¯å¦å­˜åœ¨è¿”å›`true`æˆ–`false`
*   `delete('key')`ä»æ˜ å°„ä¸­åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹
*   `clear()`ä»æ˜ å°„ä¸­åˆ é™¤æ‰€æœ‰çš„é”®å€¼å¯¹
*   `size()`ä»æ˜ å°„ä¸­è¿”å›é”®å€¼å¯¹çš„æ•°é‡

å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä»å±æ€§`events`ä¸­è·å¾—ä¿¡æ¯`last_updated`ï¼Œæˆ‘ä»¬ä½¿ç”¨`.has('prop')`æ–¹æ³•ã€‚æ­¤æ–¹æ³•åŸºäºå±æ€§çš„å­˜åœ¨è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚

åœ¨æ‚¨çš„æ§åˆ¶å°ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°æ§åˆ¶å°è®°å½•çš„`â€˜not availableâ€™`æ²¡æœ‰ä»»ä½•é”™è¯¯ã€‚

> æ­£å¦‚å…¶ä»–ä¸€äº›æœ‰å¸®åŠ©çš„å¼€å‘è€…åœ¨è¯„è®ºä¸­æ˜¾ç¤ºçš„é‚£æ ·ã€‚å¯¹äºè®©ä½ çš„å¯¹è±¡æ›´åŠ å¯é¢„æµ‹çš„æ¯ä¸ªé—®é¢˜æ¥è¯´ï¼Œåœ°å›¾å¯èƒ½ä¸æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆã€‚
> 
> äº‹å®è¯æ˜ï¼Œ[åå°„ API](https://ponyfoo.com/articles/es6-reflection-in-depth) ï¼Œ[å¯é€‰é“¾æ¥](https://v8.dev/features/optional-chaining)æˆ–è€…æ›´å¥½çš„æ˜¯ï¼Œ[ç±»å‹è„šæœ¬](http://www.typescriptlang.org/)æœ‰åŠ©äºç¼–å†™æ›´å¯é¢„æµ‹çš„ JavaScriptã€‚
> 
> ä¸è¿‡ï¼Œæˆ‘è®¤ä¸ºè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰è¶£çš„è§£å†³æ–¹æ¡ˆğŸ˜‰

# ç»“è®º

æˆ‘è®¤ä¸ºä½¿ç”¨`Map()`å¯ä»¥è®©ä½ çš„ä»£ç æ›´å…·å¯è¯»æ€§ã€å¯é¢„æµ‹æ€§ï¼Œå¹¶ä¸”å¯¹é”™è¯¯ä¸é‚£ä¹ˆæ•æ„Ÿã€‚ä½¿ç”¨æ­£å¸¸çš„`Object`ï¼Œå½“æŸä¸ªå±æ€§ä¸¢å¤±æ—¶ï¼Œæ‚¨çš„ä»£ç ä¼šç»™å‡ºé”™è¯¯ã€‚è¿™æ ·ä¼šå¯¼è‡´ä¸å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬æ¥é¢„é˜²ä¸€ä¸‹ã€‚

å¦‚æœæ‚¨æƒ³æŸ¥çœ‹æ›´å¤šå…³äº`Map()`çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ MDN web æ–‡æ¡£çš„[è¯¦ç»†é¡µé¢ã€‚](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map)

æˆ‘å¸Œæœ›ä½ ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†ä¸€äº›æ–°ä¸œè¥¿ã€‚ç¼–ç å¿«ä¹ï¼

# é˜…è¯»æ›´å¤š

[](https://medium.com/dev-together/frontend-development-on-a-budget-raspberry-pi-4-4c917124d348) [## é¢„ç®—ä¸Šçš„å‰ç«¯å¼€å‘:æ ‘è“ Pi 4

medium.com](https://medium.com/dev-together/frontend-development-on-a-budget-raspberry-pi-4-4c917124d348) [](https://medium.com/dev-together/5-tips-for-healthier-developers-ea21d1e826f) [## ç»™å¥åº·å¼€å‘è€…çš„ 5 ä¸ªå»ºè®®

### ä½ çš„èº«ä½“å’Œå¤§è„‘éœ€è¦å…³æ³¨

medium.com](https://medium.com/dev-together/5-tips-for-healthier-developers-ea21d1e826f) [](https://medium.com/dev-together/what-tech-i-use-in-2020-as-developer-f3269f857f0e) [## ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘å°†åœ¨ 2020 å¹´ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯

### æˆ‘åœ¨å·¥ä½œä¸­ä½¿ç”¨çš„è½¯ä»¶ã€ç¡¬ä»¶å’Œå…¶ä»–ä¸œè¥¿

medium.com](https://medium.com/dev-together/what-tech-i-use-in-2020-as-developer-f3269f857f0e) [](https://medium.com/dev-together/javascript-concepts-you-need-before-starting-w-frameworks-libraries-25a325312b5c) [## å¼€å§‹ä½¿ç”¨æ¡†æ¶å’Œåº“ä¹‹å‰éœ€è¦çš„ JavaScript æ¦‚å¿µ

### åœ¨ä½ ç†Ÿæ‚‰å®ƒä»¬ä¹‹å‰ä¸è¦å¼€å§‹

medium.com](https://medium.com/dev-together/javascript-concepts-you-need-before-starting-w-frameworks-libraries-25a325312b5c)