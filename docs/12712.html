<html>
<head>
<title>How To Put a Legacy Application in Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•å°†é—ç•™åº”ç”¨ç¨‹åºæ”¾å…¥Git</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/how-to-put-a-legacy-application-in-git-c7b1aec7cd2f?source=collection_archive---------8-----------------------#2022-06-24">https://betterprogramming.pub/how-to-put-a-legacy-application-in-git-c7b1aec7cd2f?source=collection_archive---------8-----------------------#2022-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2cc8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">éªŒè¯æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½åœ¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/956088ea109ff9c7022e539eed00a020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4EyFxquHOykUHkrK.jpg"/></div></div></figure><p id="245d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡ä¸€ä¸ªæ—§çš„åº”ç”¨ç¨‹åºï¼Œåœ¨2022å¹´ä»ç„¶ä¸åœ¨<a class="ae lq" href="https://www.atlassian.com/git/tutorials/what-is-version-control" rel="noopener ugc nofollow" target="_blank">ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</a> (VCS)ä¸‹ï¼Œæ¯”å¦‚<a class="ae lq" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> Git </a>æˆ–<a class="ae lq" href="https://subversion.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Subversion </a>ï¼Ÿä¸€ä¸ªç³»ç»Ÿï¼Œä¸ºäº†ä¿®æ”¹å®ƒï¼Œéœ€è¦è¿æ¥åº”ç”¨æ‰€åœ¨çš„æœåŠ¡å™¨ï¼Œç›´æ¥ç”¨<a class="ae lq" href="https://en.wikipedia.org/wiki/Vim_(text_editor)" rel="noopener ugc nofollow" target="_blank"> vim </a>ä¿®æ”¹æ–‡ä»¶ï¼Ÿ</p><p id="8e2b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">åœ¨èˆå¸ƒé²å…‹é•‡ï¼Œæˆ‘ä»¬çš„ä¸»è¦ç³»ç»Ÿä¹‹ä¸€æ˜¯ã€‚æœ‰äººå¾ˆå®¹æ˜“å¼•å…¥æ–°çš„å˜åŒ–æˆ–ç¼ºé™·ã€‚å”¯ä¸€åšå‡ºæ”¹å˜çš„äººä¼šçŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼</p><p id="f296" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æ˜¯æ—¶å€™å¼€å§‹è·Ÿè¸ªè¯¥ç³»ç»Ÿä¸­çš„å˜åŒ–äº†ã€‚</p><h1 id="7fde" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">ç»“æ„åŒ–</h1><p id="5020" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">ç”±äºé—ç•™ç³»ç»Ÿå¯èƒ½éå¸¸å¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦æ„é€ è‡ªå·±æ¥ç¡®å®šæˆ‘ä»¬æƒ³è¦ç‰ˆæœ¬åŒ–å®ƒçš„å†…å®¹å’Œæ–¹å¼ã€‚</p><h2 id="f8cb" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">Gitåˆ†æ”¯</h2><p id="6843" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">æˆ‘ä»¬çš„ç³»ç»Ÿæœ‰ä¸¤ä¸ªç¯å¢ƒ:ç”Ÿäº§å’Œå¼€å‘ã€‚å› ä¸ºä»–ä»¬æ¯ä¸ªäººéƒ½æœ‰ä¸åŒç‰ˆæœ¬çš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥ä»–ä»¬éœ€è¦åœ¨Gitä¸­æœ‰ç›¸åº”çš„åˆ†æ”¯:<code class="fe na nb nc nd b">main</code>å’Œ<code class="fe na nb nc nd b">develop</code>ã€‚</p><p id="f0e2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å½“ä½ è€ƒè™‘Gitçš„æ—¶å€™ï¼Œä½ å¯ä»¥å»<a class="ae lq" href="https://about.gitlab.com/" rel="noopener ugc nofollow" target="_blank"> GitLab </a>æˆ–è€…<a class="ae lq" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>åˆ›å»ºä¸€ä¸ªæ–°çš„Gitä»“åº“ã€‚ç¡®ä¿å®ƒæ˜¯ç©ºçš„ï¼Œå› ä¸ºè¿™æ ·ä¼šå®¹æ˜“å¾—å¤šã€‚</p><h2 id="d153" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">å¼€å‘æ–‡ä»¶</h2><p id="1415" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">ç”±äºå¼€å‘äººå‘˜ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œæ›´æ”¹ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å­˜åœ¨æˆ‘ä»¬ä¸æƒ³è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œæ¯”å¦‚å‰¯æœ¬æˆ–å¾…åŠäº‹é¡¹åˆ—è¡¨ã€‚</p><p id="2140" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ª<a class="ae lq" href="https://en.wikipedia.org/wiki/Whitelist" rel="noopener ugc nofollow" target="_blank"> allowlist </a>(ä¹Ÿç§°ä¸ºç™½åå•)åˆ—å‡ºæˆ‘ä»¬æƒ³è¦çš„æ–‡ä»¶ã€‚</p><p id="d680" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">æˆ‘ä»¬å¯ä»¥ä»ç”Ÿäº§æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¼€å§‹è¿™ä¸ªåˆ—è¡¨ï¼Œå› ä¸ºä¸åº”è¯¥æœ‰å¤ªå¤šæˆ‘ä»¬ä¸æƒ³è¦çš„æ–‡ä»¶ã€‚</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="472f" class="mo ls it nd b gy ni nj l nk nl">index.html<br/>api.js<br/>search.js<br/>main.js<br/>main.css<br/>README.md</span></pre><p id="0322" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä¸€ä¸ªç®€å•å‘½åä¸º<code class="fe na nb nc nd b">files.txt</code>çš„æ–‡æœ¬æ–‡ä»¶çš„ä¾‹å­ï¼Œå®ƒåˆ—å‡ºäº†å®šåˆ¶åº”ç”¨ç¨‹åºåº”è¯¥ç‰ˆæœ¬åŒ–çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><blockquote class="nm nn no"><p id="0573" class="ku kv np kw b kx ky ju kz la lb jx lc nq le lf lg nr li lj lk ns lm ln lo lp im bi translated">å¦‚æœæ‚¨çŸ¥é“æ‰€éœ€æ–‡ä»¶çš„æ‰©å±•åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼ä¸‹é¢çš„å‘½ä»¤è½»æ¾åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p><p id="d30a" class="ku kv np kw b kx ky ju kz la lb jx lc nq le lf lg nr li lj lk ns lm ln lo lp im bi translated"><code class="fe na nb nc nd b">find . -regex ".*\.js" -o -regex ".*\.css" &gt; files.txt</code></p><p id="a119" class="ku kv np kw b kx ky ju kz la lb jx lc nq le lf lg nr li lj lk ns lm ln lo lp im bi translated">å®ƒå°†åˆ—å‡ºæ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡ä»¶ã€‚æ‚¨å°†èƒ½å¤Ÿä¿®æ”¹è¿™ä¸ªåŸºæœ¬æ–‡ä»¶æ¥åŒ…å«æˆ–æ’é™¤æ›´å¤šçš„å†…å®¹ã€‚</p></blockquote><p id="5b6e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»æ„å»ºå¥½äº†ï¼Œè®©æˆ‘ä»¬è¿›å…¥è„šæœ¬é˜¶æ®µï¼</p><h1 id="3661" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">è„šæœ¬</h1><p id="3a52" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">ç”±äºæˆ‘ä»¬ä¸åº”è¯¥å°†Gitæ·»åŠ åˆ°ç”Ÿäº§æœåŠ¡å™¨(è¿™å¯èƒ½ä¼šåœ¨é‚£é‡Œå¼•å…¥æ½œåœ¨çš„æ¼æ´)ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae lq" href="https://en.wikipedia.org/wiki/Secure_copy_protocol" rel="noopener ugc nofollow" target="_blank"> scp </a>å°†æˆ‘ä»¬æƒ³è¦çš„æ–‡ä»¶ä¸‹è½½åˆ°æˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ã€‚</p><blockquote class="nm nn no"><p id="4b51" class="ku kv np kw b kx ky ju kz la lb jx lc nq le lf lg nr li lj lk ns lm ln lo lp im bi translated">å¯¹äºé‚£äº›æ„Ÿå…´è¶£çš„äººï¼Œå¦‚æœä½ æ˜¯è¿™ä¸ªå‘½ä»¤çš„æ–°æ‰‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<a class="ae lq" href="https://devhints.io/scp" rel="noopener ugc nofollow" target="_blank">æœ‰ç”¨çš„å¤‡å¿˜å•</a>ã€‚</p></blockquote><h2 id="41cd" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ¡£æ¡ˆ</h2><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="79a8" class="mo ls it nd b gy ni nj l nk nl"># From our local computer, upload the file that contains the list of files we want to version<br/>scp list.txt USERNAME@PRODUCTION_SERVER_NAME:/PATH_OF_OUR_APPLICATION<br/><br/># Connect to the production server<br/>ssh USERNAME@PRODUCTION_SERVER_NAME<br/><br/># Go to where the application is<br/>cd /PATH_OF_OUR_APPLICATION<br/><br/># Create an archive containing the files we want<br/>tar --create --preserve-permissions --file APPLICATION_NAME.tar --files-from files.txt --verbose<br/><br/># Go back to our local computer<br/>exit</span></pre><h2 id="9a44" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">å°†æºä»£ç ä¸‹è½½åˆ°æˆ‘ä»¬çš„æœ¬åœ°è®¡ç®—æœºä¸Š</h2><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="0d79" class="mo ls it nd b gy ni nj l nk nl"># Create a new directory to receive the source code<br/>mkdir -p ~/Downloads/APPLICATION_NAME<br/><br/># Download our TAR archive to our computer<br/>scp USERNAME@PRODUCTION_SERVER_NAME:/PATH_OF_OUR_APPLICATION/APPLICATION_NAME.tar ~/Downloads<br/><br/># Extract the TAR archive to our new directory<br/>tar --extract --preserve-permissions --file ~/Downloads/APPLICATION_NAME.tar --directory ~/Downloads/APPLICATION_NAME --verbose</span></pre><h2 id="1589" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">å°†æºä»£ç ä¸Šä¼ åˆ°GitLabå­˜å‚¨åº“</h2><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="249d" class="mo ls it nd b gy ni nj l nk nl"># Go in the directory that now contains our source code<br/>cd ~/Downloads/APPLICATION_NAME<br/><br/># Initialize the Git repository in that directory<br/>git init<br/>git remote add origin git@gitlab.com:benjaminrancourt/APPLICATION.git<br/><br/># Add all files to the Git repository<br/>git add .<br/><br/># Commit changes<br/>git commit -m "Source code from the production environment"<br/><br/># Create the main branch<br/>git branch -M main<br/><br/># Push the main branch to GitLab<br/>git push origin main</span></pre><h2 id="d3bb" class="mo ls it bd lt mp mq dn lx mr ms dp mb ld mt mu md lh mv mw mf ll mx my mh mz bi translated">å¯¹å¦ä¸€ä¸ªç¯å¢ƒé‡å¤ä¸Šè¿°æ­¥éª¤</h2><p id="2a58" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">è¯·è®°ä½ï¼Œæˆ‘ä»¬çš„é—ç•™åº”ç”¨ç¨‹åºåœ¨ä¸åŒçš„ç¯å¢ƒä¸­å¯èƒ½æœ‰ä¸åŒçš„ç‰ˆæœ¬ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œæ‚¨å¯èƒ½æƒ³çŸ¥é“å¯¹ç”Ÿäº§æœåŠ¡å™¨è¿˜æ²¡æœ‰åšä»€ä¹ˆæ›´æ”¹ã€‚</p><p id="87cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å°†è¿™äº›ç‰ˆæœ¬æ¨é€åˆ°Gitï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¯”è¾ƒå®ƒä»¬ã€‚</p><p id="cafc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ä¾‹å¦‚ï¼Œå¯¹äºæˆ‘çš„å¼€å‘ç¯å¢ƒï¼Œæˆ‘å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="5ec1" class="mo ls it nd b gy ni nj l nk nl"># Download the source code from the development server (follow the previous procedure)<br/><br/># Go in the directory that now contains our source code<br/>cd ~/Downloads/APPLICATION_NAME<br/><br/># Make sure we are on the main branch<br/>git checkout main<br/><br/># Create a new branch from main<br/>git checkout -b develop<br/><br/># Extract the archive from the development server <br/>tar --extract --preserve-permissions --file ~/Downloads/APPLICATION_NAME_DEV.tar --directory ~/Downloads/APPLICATION_NAME --verbose<br/><br/># Add all changes<br/>git add .<br/><br/># Commit the changes<br/>git commit -m "Source code from the development environment"<br/><br/># Push the develop branch to GitLab<br/>git push origin develop</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/8d2a0c81b5fe80533abd6e84dc91bfe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Yg-oZgjEArDZJzr7.jpg"/></div></div><p class="nu nv gj gh gi nw nx bd b be z dk translated">ä¸€ä¸ªä»<code class="fe na nb nc nd b">develop</code>åˆ°<code class="fe na nb nc nd b">main</code>çš„åˆå¹¶è¯·æ±‚ï¼Œåœ¨è¿™é‡Œæˆ‘å¯ä»¥å¾ˆå®¹æ˜“åœ°è¯†åˆ«å‡ºè¿˜æ²¡æœ‰ç”Ÿäº§çš„å˜æ›´ã€‚</p></figure><h1 id="4380" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">ç»“è®º</h1><p id="dd6a" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">é€šè¿‡å°†é—ç•™ç³»ç»Ÿæ”¾å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ‚¨å¯ä»¥å¤§å¤§é™ä½ä¸¢å¤±åº”ç”¨ç¨‹åºæºä»£ç çš„é£é™©ã€‚</p><p id="c212" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">å‘æ›´å¥½çš„ç³»ç»Ÿè¿ˆè¿›äº†ä¸€æ­¥ï¼ğŸ˜</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="bb7b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="np">æœ€åˆå‘å¸ƒäº</em><a class="ae lq" href="https://www.benjaminrancourt.ca/how-to-put-a-legacy-application-into-git/" rel="noopener ugc nofollow" target="_blank"><em class="np">www . Benjamin rancourt . ca</em></a><em class="np">ã€‚</em></p></div></div>    
</body>
</html>