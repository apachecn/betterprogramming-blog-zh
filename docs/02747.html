<html>
<head>
<title>Generate Contrasting Text for Your Random Background Color</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä¸ºæ‚¨çš„éšæœºèƒŒæ™¯é¢œè‰²ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/generate-contrasting-text-for-your-random-background-color-ac302dc87b4?source=collection_archive---------2-----------------------#2019-12-23">https://betterprogramming.pub/generate-contrasting-text-for-your-random-background-color-ac302dc87b4?source=collection_archive---------2-----------------------#2019-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e09d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">å¦‚ä½•åœ¨JavaScriptä¸­ä¸ºä½ çš„éšæœºèƒŒæ™¯é¢œè‰²è‡ªåŠ¨ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2a9494a0bac93d305357d941097fdacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o8tTGo3vsocTKnCUyz0wHA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae ky" href="https://unsplash.com/@codytdavis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">æˆ´ç»´æ–¯ç§‘</a>åœ¨<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„</p></figure><p id="73d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘ç›®å‰æ­£åœ¨å¼€å‘ä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºï¼Œä»¥æ˜¾è‘—æé«˜æˆ‘çš„<a class="ae ky" href="https://react-redux.js.org" rel="noopener ugc nofollow" target="_blank"> React Redux </a>æŠ€èƒ½ã€‚åœ¨è¿™ä¸ªæ–°é¡¹ç›®ä¸­ï¼Œç”¨æˆ·å°†èƒ½å¤Ÿå°†ä»–ä»¬é€‰æ‹©çš„é¢œè‰²åˆ†é…ç»™ä¸€äº›å®ä½“çš„èƒŒæ™¯ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªæ˜¾ç¤ºå¯¹æ¯”æ–‡æœ¬çš„è§£å†³æ–¹æ¡ˆã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0ab3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">ä¿¡ç”¨</h1><p id="0725" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">è¿™ä¸ªå‘¨æœ«æˆ‘æ­£åœ¨å¯»æ‰¾è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ï¼Œçªç„¶æƒ³èµ·<a class="ae ky" href="https://ionicframework.com/docs/theming/colors" rel="noopener ugc nofollow" target="_blank">ç¦»å­é¢œè‰²å‘ç”Ÿå™¨</a>å·²ç»è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚æˆ‘çœ‹äº†ä»–ä»¬çš„<a class="ae ky" href="https://github.com/ionic-team/ionic-docs/blob/master/src/components/color-gen/color.ts" rel="noopener ugc nofollow" target="_blank">ä»£ç </a>(ä½ ä¸€å®šä¼šå–œæ¬¢å¼€æºâ¤ï¸)å¹¶åŸºäºä»–ä»¬çš„å®ç°æå‡ºäº†è§£å†³æ–¹æ¡ˆã€‚</p><p id="89c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æˆ‘è¿˜å¿…é¡»å®ç°ä¸€ä¸ªå°†åå…­è¿›åˆ¶è½¬æ¢æˆRGBé¢œè‰²çš„å‡½æ•°ã€‚ä¸ºæ­¤ï¼Œæˆ‘åœ¨ç”±<a class="ae ky" href="https://stackoverflow.com/users/2404470/xameeramir" rel="noopener ugc nofollow" target="_blank"> xameeramir </a>æä¾›çš„<a class="ae ky" href="https://stackoverflow.com/a/5624139/5404186" rel="noopener ugc nofollow" target="_blank">å †æ ˆæº¢å‡º</a>ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªå¹²å‡€çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5193" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬</h1><p id="6d1d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">ä¸ºäº†ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç”±<a class="ae ky" href="https://www.w3.org/WAI/ER/WD-AERT/#color-contrast" rel="noopener ugc nofollow" target="_blank">ä¸‡ç»´ç½‘è”ç›Ÿ(W3C) </a>å®šä¹‰çš„ä»¥ä¸‹å…¬å¼ï¼Œä»¥ç¡®ä¿å½“æœ‰è‰²å½©ç¼ºé™·çš„äººæˆ–åœ¨é»‘ç™½å±å¹•ä¸Šè§‚çœ‹æ—¶ï¼Œå‰æ™¯å’ŒèƒŒæ™¯é¢œè‰²ç»„åˆèƒ½å¤Ÿæä¾›è¶³å¤Ÿçš„å¯¹æ¯”åº¦:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e29b" class="ne md it na b gy nf ng l nh ni">((Red value X 299) + (Green value X 587) + (Blue value X 114)) / 1000</span></pre><p id="655c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸Šè¿°ç®—æ³•é‡‡ç”¨ä»RGBå…¬å¼è½¬æ¢çš„YIQé¢œè‰²æ–¹æ¡ˆä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºé¢œè‰²çš„æ„ŸçŸ¥äº®åº¦ã€‚</p><p id="991e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯åå…­è¿›åˆ¶é¢œè‰²ï¼Œæ‰€ä»¥åœ¨èƒ½å¤Ÿè®¡ç®—äº®åº¦ä¹‹å‰ï¼Œå®ç°éœ€è¦ä¸¤æ¬¡è½¬æ¢ã€‚å®ƒé¦–å…ˆéœ€è¦å°†è¾“å…¥è½¬æ¢ä¸ºRGBï¼Œç„¶åè½¬æ¢ä¸ºYIQé¢œè‰²ã€‚</p><p id="9319" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œåœ¨é˜ˆå€¼çš„å¸®åŠ©ä¸‹ï¼Œå®ƒå¯ä»¥ç¡®å®šå¯¹æ¯”åº¦åº”è¯¥æ˜¯æš—è¿˜æ˜¯äº®ï¼Œå¹¶ä½œä¸ºç»“æœæä¾›å¯¹æ¯”æ–‡æœ¬é¢œè‰²ï¼Œé»‘è‰²æˆ–ç™½è‰²ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f90b" class="ne md it na b gy nf ng l nh ni">interface RGB {<br/>    b: number;<br/>    g: number;<br/>    r: number;<br/>}</span><span id="f3b2" class="ne md it na b gy nj ng l nh ni">function rgbToYIQ({ r, g, b }: RGB): number {<br/>    return ((r * 299) + (g * 587) + (b * 114)) / 1000;<br/>}</span><span id="d3c2" class="ne md it na b gy nj ng l nh ni">function hexToRgb(hex: string): RGB | undefined {<br/>    if (!hex || hex === undefined || hex === '') {<br/>        return undefined;<br/>    }<br/><br/>    const result: RegExpExecArray | null =<br/>          /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);<br/><br/>    return result ? {<br/>        r: parseInt(result[1], 16),<br/>        g: parseInt(result[2], 16),<br/>        b: parseInt(result[3], 16)<br/>    } : undefined;<br/>}</span><span id="3955" class="ne md it na b gy nj ng l nh ni">export function contrast(colorHex: string | undefined,<br/>                         threshold: number = 128): string {<br/>    if (colorHex === undefined) {<br/>        return '#000';<br/>    }<br/><br/>    const rgb: RGB | undefined = hexToRgb(colorHex);<br/><br/>    if (rgb === undefined) {<br/>        return '#000';<br/>    }<br/><br/>    return rgbToYIQ(rgb) &gt;= threshold ? '#000' : '#fff';<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a9d8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">ç”¨æ™®é€šJavascriptæ¼”ç¤º</h1><p id="6f70" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">è®©æˆ‘ä»¬ç”¨æ™®é€šçš„Javascriptè¯•è¯•ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/00c6f3c23d6e9f11eab8b2fb50ea6428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*33JQbJ-KqGrry-VIXHZbMA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä¸ºæ‰€é€‰é¢œè‰²è‡ªåŠ¨ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬</p></figure><p id="b41d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨HTMLé¡µé¢ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªé¢œè‰²é€‰æ‹©å™¨æ¥é€‰æ‹©ä¸€ä¸ªåŠ¨æ€å€¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸º<a class="ae ky" href="https://deckdeckgo.com" rel="noopener ugc nofollow" target="_blank"> DeckDeckGo </a>å¼€å‘çš„ç»„ä»¶ï¼Œè¿™æ˜¯æˆ‘ä»¬ç”¨äºæ¼”ç¤ºçš„webå¼€æºç¼–è¾‘å™¨ã€‚æˆ‘ä»¬ä»<a class="ae ky" href="https://unpkg.com" rel="noopener ugc nofollow" target="_blank"> unpkg </a>åŠ è½½ç»„ä»¶ï¼›è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸éœ€è¦åœ¨æœ¬åœ°å®‰è£…ä¾èµ–é¡¹çš„åŸå› ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="5885" class="ne md it na b gy nf ng l nh ni">&lt;!DOCTYPE html&gt;<br/>&lt;html dir="ltr" lang="en"&gt;<br/>&lt;head&gt;<br/>  &lt;meta charset="utf-8"&gt;<br/>  &lt;title&gt;Contrast color&lt;/title&gt;<br/><br/>  &lt;script type="module" src="https://unpkg.com/@deckdeckgo/color@latest/dist/deckdeckgo-color/deckdeckgo-color.esm.js"&gt;&lt;/script&gt;<br/>  &lt;script nomodule=""<br/>src="https://unpkg.com/@deckdeckgo/color@latest/dist/deckdeckgo-color/deckdeckgo-color.js"&gt;&lt;/script&gt;<br/>&lt;/head&gt;</span><span id="e70d" class="ne md it na b gy nj ng l nh ni">&lt;body style="background: #F78DA7;"&gt;<br/>  &lt;h1 style="font-size: 40px;"&gt;Hello World&lt;/h1&gt;</span><span id="a9c6" class="ne md it na b gy nj ng l nh ni">  &lt;deckgo-color&gt;&lt;/deckgo-color&gt;</span><span id="e142" class="ne md it na b gy nj ng l nh ni">  &lt;!-- Here we will add the contrast function --&gt;</span><span id="e1c5" class="ne md it na b gy nj ng l nh ni">  &lt;!-- Here we will bind the event and modify the colors --&gt;</span><span id="dc53" class="ne md it na b gy nj ng l nh ni">&lt;/body&gt;</span></pre><p id="5be5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç„¶åæˆ‘ä»¬æ·»åŠ ä¸Šé¢çš„å‡½æ•°æ¥ç”Ÿæˆå¯¹æ¯”æ–‡æœ¬ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åªæ˜¯åˆ é™¤äº†Typescriptéƒ¨åˆ†ï¼Œåªè§£æJavaScriptä»£ç ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d8d8" class="ne md it na b gy nf ng l nh ni">&lt;script&gt;<br/>  function rgbToYIQ({r, g, b}) {<br/>    return ((r * 299) + (g * 587) + (b * 114)) / 1000;<br/>  }<br/><br/>  function hexToRgb(hex) {<br/>    if (!hex || hex === undefined || hex === '') {<br/>      return undefined;<br/>    }<br/><br/>    const result =<br/>          /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);<br/><br/>    return result ? {<br/>      r: parseInt(result[1], 16),<br/>      g: parseInt(result[2], 16),<br/>      b: parseInt(result[3], 16)<br/>    } : undefined;<br/>  }<br/><br/>  function contrast(colorHex, threshold = 128) {<br/>    if (colorHex === undefined) {<br/>      return '#000';<br/>    }<br/><br/>    const rgb = hexToRgb(colorHex);<br/><br/>    if (rgb === undefined) {<br/>      return '#000';<br/>    }<br/><br/>    return rgbToYIQ(rgb) &gt;= threshold ? '#000' : '#fff';<br/>  }<br/>&lt;/script&gt;</span></pre><p id="1d3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ€åï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªäº‹ä»¶ç»‘å®šåˆ°é¢œè‰²é€‰æ‹©å™¨ï¼Œä»¥ä¾¦å¬æ‰€é€‰çš„é¢œè‰²ï¼Œæˆ‘ä»¬å°†è¯¥é¢œè‰²åº”ç”¨äºé¡µé¢èƒŒæ™¯ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç”Ÿæˆä¸€ä¸ªå¯¹æ¯”åº¦å€¼ï¼Œæœ€ç»ˆå°†è¯¥å€¼è®¾ç½®ä¸ºé¡µé¢æ–‡æœ¬çš„é¢œè‰²ã€‚</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="2b39" class="ne md it na b gy nf ng l nh ni">&lt;script&gt;<br/>  document.querySelector('deckgo-color')<br/>          .addEventListener('colorChange', updateColor, true);<br/><br/>  function updateColor($event) {<br/>    document.querySelector('body').style.background = <br/>                                   $event.detail.hex;<br/>    document.querySelector('body').style.color = <br/>                                   contrast($event.detail.hex);<br/>  }<br/>&lt;/script&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="514f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">è›‹ç³•ä¸Šçš„æ¨±æ¡ƒğŸ’ğŸ‚</h1><p id="415c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">æˆ‘ä»¬çš„webç»„ä»¶æ˜¯å¼€æºçš„ã€‚å®ƒæ˜¯ä¸€ä¸ª<a class="ae ky" href="https://stenciljs.com" rel="noopener ugc nofollow" target="_blank"> StencilJS </a> webç»„ä»¶ï¼Œå› æ­¤å¯ä»¥ç”¨åœ¨æ™®é€šçš„Javascriptæˆ–ä»»ä½•ç°ä»£æ¡†æ¶ä¸­ã€‚ä¹Ÿæ¯”è¾ƒè½»ä¾¿ï¼›æ ¹æ®<a class="ae ky" href="https://bundlephobia.com/result?p=@deckdeckgo/color@1.0.0-rc.3-2" rel="noopener ugc nofollow" target="_blank"> Bundlephobia </a>çš„è¯´æ³•ï¼Œå®ƒåªç»™ä»»ä½•åŒ…å¢åŠ 418å­—èŠ‚(ä¸€æ—¦ç¼©å°å’Œå‹ç¼©)ã€‚å¦‚æœæ‚¨æƒ³åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å°è¯•ä¸€ä¸‹ï¼Œè¯·æŸ¥çœ‹å®ƒçš„<a class="ae ky" href="https://docs.deckdeckgo.com/components/color" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>å¹¶å¼€å§‹å°è¯•å§ï¼</p><p id="077a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åˆ°æ— é™å’Œæ›´è¿œçš„åœ°æ–¹ï¼ğŸš€</p></div></div>    
</body>
</html>