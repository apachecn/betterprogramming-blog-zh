<html>
<head>
<title>5 Essential Terraform Tools To Use Everyday</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ—¥å¸¸ä½¿ç”¨çš„5ç§åŸºæœ¬åœ°å½¢å·¥å…·</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/5-essential-terraform-tools-to-use-everyday-e910a96e70d9?source=collection_archive---------2-----------------------#2022-02-16">https://betterprogramming.pub/5-essential-terraform-tools-to-use-everyday-e910a96e70d9?source=collection_archive---------2-----------------------#2022-02-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3189" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">é€šè¿‡Terraformæé«˜æ•ˆç‡å¹¶åˆ©ç”¨æ‚¨çš„ä»£ç </h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8d0d8d51a0659882f19510774a1054eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v42v-9babQQ4OJftLGmbzA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ç…§ç‰‡ç”±<a class="ae ky" href="https://unsplash.com/@christopher__burns?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">å…‹é‡Œæ–¯å¤šä½›Â·ä¼¯æ©æ–¯</a>åœ¨<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„</p></figure><p id="58a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Terraform ç°åœ¨æ˜¯ä¸€ä¸ªåŸºæœ¬çš„åŸºç¡€è®¾æ–½å³ä»£ç (IaC)å·¥å…·ï¼Œä½œä¸ºä¸€åDevOpsä»ä¸šè€…ï¼Œå®ƒå°†æˆä¸ºä½ å·¥å…·ç®±ä¸­çš„å¿…å¤‡å·¥å…·ã€‚å¦‚è®¸å¤šå¼€æºé¡¹ç›®ï¼Œç¤¾åŒºåˆ›å»ºå¹¶å…±äº«è®¸å¤šå·¥å…·ï¼Œä½¿å…¶æ›´åŠ å¼ºå¤§ã€‚</p><p id="4df7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ‰æ—¶å€™ä¸€ä¸ªé¡¹ç›®å‘¨å›´æœ‰å¤ªå¤šçš„å·¥å…·å’Œæ’ä»¶ï¼Œä½ å¯èƒ½ä¼šæ„Ÿåˆ°å¤±è½ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨è¿™é‡Œï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºæˆ‘æ—¥å¸¸ä½¿ç”¨çš„5ç§åœ°å½¢å·¥å…·ã€‚</p><p id="97cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å®ƒä»¬è®©æ‚¨è·å¾—é€Ÿåº¦ï¼Œå¹¶åœ¨ä½¿ç”¨Terraformæ—¶è·å¾—æ›´å¤šä¹è¶£:</p><ul class=""><li id="6441" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">åœ¨é¡¹ç›®ä¸­ä¸åŒçš„Terraformç‰ˆæœ¬ä¹‹é—´åˆ‡æ¢ã€‚</li><li id="e938" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">æ£€æµ‹é”™è¯¯å¹¶æ”¹è¿›ä»£ç ã€‚</li><li id="f60f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">è‡ªåŠ¨ç”Ÿæˆæ‚¨çš„ä»£ç æ–‡æ¡£ã€‚</li><li id="780f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">æ£€æµ‹ä»£ç ä¸­çš„æ½œåœ¨å®‰å…¨é—®é¢˜ã€‚</li><li id="807c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">è¯„ä¼°å˜æ›´çš„äº‘æˆæœ¬ã€‚</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7080" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">1.TFSwitch</h1><p id="feac" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Terraformæ˜¯ä¸€ä¸ªè¿›åŒ–ç›¸å½“å¿«çš„å·¥å…·ï¼Œä¼šæ¢ç‰ˆæœ¬ã€‚æ‚¨éœ€è¦ä»<a class="ae ky" href="https://www.terraform.io/downloads" rel="noopener ugc nofollow" target="_blank"> HashiCorpç½‘ç«™</a>ä¸‹è½½å¹¶å®‰è£…æ­£ç¡®çš„ç‰ˆæœ¬ã€‚å¯¹äºæ¯ä¸ªä¸åŒçš„ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦ç›¸å…³çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å½“æ‚¨æœ‰å‡ ä¸ªä¸åŒç‰ˆæœ¬çš„Terraformé¡¹ç›®æ—¶ï¼Œç®¡ç†èµ·æ¥ä¼šå¾ˆå¿«å˜å¾—éå¸¸å›°éš¾ã€‚</p><p id="fdd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TFSwitch æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å®ƒå…è®¸æ‚¨é€‰æ‹©æƒ³è¦ä½¿ç”¨çš„Terraformç‰ˆæœ¬å¹¶è‡ªåŠ¨å®‰è£…ã€‚</p><h2 id="2925" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Macä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="ab91" class="nn mr it oa b gy oe of l og oh">$ brew install warrensbox/tap/tfswitch</span></pre><h2 id="10e3" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Linuxä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="4553" class="nn mr it oa b gy oe of l og oh">$ curl -L <a class="ae ky" href="https://raw.githubusercontent.com/warrensbox/terraform-switcher/release/install.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/warrensbox/terraform-switcher/release/install.sh</a> | bash</span></pre><h2 id="d59c" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">å¿«é€Ÿå…¥é—¨</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/7fbd424eacdea47fe5109793a82fd507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*-PfBLFbSeoln3FPQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä»<a class="ae ky" href="https://tfswitch.warrensbox.com/" rel="noopener ugc nofollow" target="_blank">https://tfswitch.warrensbox.com/</a>çš„â€œä¸‹æ‹‰èœå•ä¸­é€‰æ‹©è¦ä½¿ç”¨çš„åœ°å½¢ç‰ˆæœ¬â€</p></figure><p id="3a71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">ã€1ã€‘</strong>:é”®å…¥<code class="fe oj ok ol oa b">tfswitch</code>ï¼Œåœ¨ç»ˆç«¯ä¸ŠæŒ‰â€œEnterâ€</p><p id="5bfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> [2]: </strong>ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©æ‚¨æƒ³è¦ä½¿ç”¨çš„Terraformç‰ˆæœ¬ã€‚</p><p id="9bdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> [3]: </strong>æŒ‰å›è½¦é”®é€‰æ‹©åœ°å½¢ç‰ˆæœ¬ã€‚</p><p id="9292" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šæä¾›Terraformç‰ˆæœ¬:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/cdadda9d298352037a2202ddaa775192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*vR5Rz9P__1ou7hly.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">æ¥è‡ªhttps://tfswitch.warrensbox.com/<a class="ae ky" href="https://tfswitch.warrensbox.com/" rel="noopener ugc nofollow" target="_blank">çš„â€œåœ¨å‘½ä»¤è¡Œä¸Šæä¾›å¹³å°â€</a></p></figure><div class="om on gp gr oo op"><a href="https://tfswitch.warrensbox.com/" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">TFSwitch</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">tfswitchå‘½ä»¤è¡Œå·¥å…·å…è®¸æ‚¨åœ¨ä¸åŒç‰ˆæœ¬çš„terraformä¹‹é—´åˆ‡æ¢ã€‚å¦‚æœä½ æ²¡æœ‰ç‰¹åˆ«çš„â€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">tfswitch.warrensbox.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd ks op"/></div></div></a></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="08d8" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">2.TFLint</h1><p id="902b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">è¿è¡Œä»£ç æ—¶ï¼Œè¯­æ³•é”™è¯¯æœ‰æ—¶ä¸å®¹æ˜“ç†è§£ã€‚Lintersæä¾›äº†åŠ é€Ÿè°ƒè¯•å’ŒèŠ‚çœå¼€å‘æ—¶é—´çš„é‡è¦ä¿¡æ¯ã€‚æ‚¨è¿˜å¯ä»¥å°†å®ƒä»¬é›†æˆåˆ°æ‚¨çš„CI/CDç®¡é“ä¸­ï¼Œä»¥å®ç°æŒç»­æ”¹è¿›ã€‚</p><p id="3454" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TerraformåŸºäºHCL (HashiCorpè¯­è¨€)ï¼Œè¿™æ˜¯ä¸€ç§æè¿°åŸºç¡€è®¾æ–½çŠ¶æ€çš„è¯­è¨€ã€‚TFLint æ˜¯ä¸€ä¸ªæ”¯æŒTerraformåŠå…¶è¯­è¨€çš„å¯æ’æ‹”linterã€‚é™¤äº†æ—æŒºä¹‹å¤–ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€šè¿‡æ’ä»¶å…·æœ‰å¯æ‰©å±•ç‰¹æ€§çš„æ¡†æ¶ã€‚</p><p id="ce60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸‹é¢æ˜¯ä½¿ç”¨TFLintå¯ä»¥ä¸ºæ‚¨çš„IaCé¡¹ç›®åšäº›ä»€ä¹ˆ:</p><ul class=""><li id="9110" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">æ‰¾å‡ºä¸»è¦äº‘æä¾›å•†å¯èƒ½çš„é”™è¯¯:AWS/Azure/GCPã€‚</li><li id="46c6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">è­¦å‘Šä¸æ°å½“çš„è¯­æ³•å’Œæœªä½¿ç”¨çš„å£°æ˜ã€‚</li><li id="e60e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">å®æ–½æœ€ä½³å®è·µå’Œå‘½åçº¦å®šã€‚</li></ul><div class="om on gp gr oo op"><a href="https://github.com/terraform-linters/tflint" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">GitHub-terra form-linters/TF lint:ä¸€ä¸ªå¯æ’æ‹”çš„Terraform Linter</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">ä¸€ä¸ªå¯æ’å…¥çš„Terraform Linter TFLintæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œæ¯ä¸ªç‰¹æ€§éƒ½ç”±æ’ä»¶æä¾›ï¼Œä¸»è¦ç‰¹æ€§å¦‚ä¸‹â€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">github.com</p></div></div><div class="oy l"><div class="pe l pa pb pc oy pd ks op"/></div></div></a></div><h2 id="ac68" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Macä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="cc62" class="nn mr it oa b gy oe of l og oh">$ brew install tflint</span></pre><h2 id="e86a" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Linuxä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e2ee" class="nn mr it oa b gy oe of l og oh">$ curl -s https://raw.githubusercontent.com/terraform-linters/tflint/master/install_linux.sh | bash</span></pre><h2 id="9f0b" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Windowsä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="3641" class="nn mr it oa b gy oe of l og oh">$ choco install tflint</span></pre><h2 id="83b0" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">å¿«é€Ÿå…¥é—¨</h2><p id="98c7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼ŒTFLintæ£€æŸ¥å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°æ¥æ›´æ”¹è¡Œä¸º:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="580c" class="nn mr it oa b gy oe of l og oh">$ tflint --help<br/>Usage:<br/>  tflint [OPTIONS] [FILE or DIR...]</span><span id="6266" class="nn mr it oa b gy pf of l og oh">Application Options:<br/>  -v, --version                                           Print TFLint version<br/>      --init                                              Install plugins<br/>      --langserver                                        Start language server<br/>  -f, --format=[default|json|checkstyle|junit|compact]    Output format<br/>                                                          (default: default)<br/>  -c, --config=FILE                                       Config file name<br/>                                                          (default: .tflint.hcl)<br/>      --ignore-module=SOURCE                              Ignore module sources<br/>      --enable-rule=RULE_NAME                             Enable rules from the<br/>                                                          command line<br/>      --disable-rule=RULE_NAME                            Disable rules from<br/>                                                          the command line<br/>      --only=RULE_NAME                                    Enable only this<br/>                                                          rule, disabling all<br/>                                                          other defaults. Can<br/>                                                          be specified multiple<br/>                                                          times<br/>      --enable-plugin=PLUGIN_NAME                         Enable plugins from<br/>                                                          the command line<br/>      --var-file=FILE                                     Terraform variable<br/>                                                          file name<br/>      --var='foo=bar'                                     Set a Terraform<br/>                                                          variable<br/>      --module                                            Inspect modules<br/>      --force                                             Return zero exit<br/>                                                          status even if issues<br/>                                                          found<br/>      --no-color                                          Disable colorized<br/>                                                          output<br/>      --loglevel=[trace|debug|info|warn|error]            Change the loglevel</span><span id="363d" class="nn mr it oa b gy pf of l og oh">Help Options:<br/>  -h, --help                                              Show this help message</span></pre><p id="21c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨è¿˜å¯ä»¥æ ¹æ®ä»¥ä¸‹ä¼˜å…ˆçº§å°†é…ç½®æ–‡ä»¶ä¼ é€’ç»™TFLint:</p><ul class=""><li id="7a1b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">å½“å‰ç›®å½•(<code class="fe oj ok ol oa b">./.tflint.hcl</code>)</li><li id="2045" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">ä¸»ç›®å½•(<code class="fe oj ok ol oa b">~/.tflint.hcl</code>)</li></ul><p id="fb48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨<code class="fe oj ok ol oa b">.tflint.hcl</code>ä¸­ï¼Œæ‚¨å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œ:</p><ul class=""><li id="5792" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">å®šä¹‰TFLinté…ç½®</li><li id="e73c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">å£°æ˜è¦ä½¿ç”¨çš„æ’ä»¶</li><li id="3a63" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">å¯ç”¨/ç¦ç”¨ç‰¹å®šçš„TFLintè§„åˆ™</li></ul><p id="6bae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªTFLinté…ç½®æ–‡ä»¶çš„ç¤ºä¾‹:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="de62" class="nn mr it oa b gy oe of l og oh">config {<br/>  plugin_dir = "~/.tflint.d/plugins"<br/><br/>  module = true<br/>  force = false<br/>  disabled_by_default = false<br/><br/>  ignore_module = {<br/>    "terraform-aws-modules/vpc/aws"            = true<br/>    "terraform-aws-modules/security-group/aws" = true<br/>  }<br/><br/>  varfile = ["example1.tfvars", "example2.tfvars"]<br/>  variables = ["foo=bar", "bar=[\"baz\"]"]<br/>}</span><span id="b6ef" class="nn mr it oa b gy pf of l og oh">plugin "aws" {<br/>  enabled = true<br/>  version = "0.12.0"<br/>  source  = "github.com/terraform-linters/tflint-ruleset-aws"<br/>}</span><span id="8408" class="nn mr it oa b gy pf of l og oh">rule "aws_instance_invalid_type" {<br/>  enabled = false<br/>}</span></pre><p id="8a90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿è¡ŒTFLintå¾ˆç®€å•:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e6d0" class="nn mr it oa b gy oe of l og oh">$ tflint</span></pre><p id="cda4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¦‚æœæ‚¨æ²¡æœ‰å¾—åˆ°é¢„æœŸçš„è¡Œä¸ºï¼Œæ‚¨å¯ä»¥åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æŸ¥çœ‹è¯¦ç»†çš„æ—¥å¿—:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="ddcb" class="nn mr it oa b gy oe of l og oh">$ TFLINT_LOG=debug tflint</span></pre><h2 id="98c5" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated"><strong class="ak">ä¸ºäº‘æä¾›å•†ä½¿ç”¨æ’ä»¶</strong></h2><p id="b4cf" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">å½“æ‚¨ä½¿ç”¨AWSã€Azureæˆ–GCPæä¾›å•†æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åº”çš„æ’ä»¶:</p><ul class=""><li id="7583" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/terraform-linters/tflint-ruleset-aws" rel="noopener ugc nofollow" target="_blank">äºšé©¬é€Šç½‘ç»œæœåŠ¡</a></li><li id="5929" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/terraform-linters/tflint-ruleset-azurerm" rel="noopener ugc nofollow" target="_blank">å¾®è½¯Azure </a></li><li id="10ff" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/terraform-linters/tflint-ruleset-google" rel="noopener ugc nofollow" target="_blank">è°·æ­Œäº‘å¹³å°</a></li></ul><p id="7ad8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸‹é¢çš„ä»£ç å—è¡¨ç¤ºä½¿ç”¨AWSæ’ä»¶:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="6880" class="nn mr it oa b gy oe of l og oh">plugin "aws" {<br/>  enabled = true<br/>  version = "0.12.0"<br/>  source  = "github.com/terraform-linters/tflint-ruleset-aws"<br/>}</span></pre><p id="9ad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»¥ä¸‹å‘½ä»¤å®‰è£…æ’ä»¶:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="39c7" class="nn mr it oa b gy oe of l og oh">$ tflint --init</span></pre><p id="51a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Terraformä¸éªŒè¯ç‰¹å®šäºæä¾›å•†çš„é—®é¢˜ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«ä»¥ä¸‹é…ç½®æ–‡ä»¶çš„ç¤ºä¾‹:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="bd69" class="nn mr it oa b gy oe of l og oh">resource "aws_instance" "foo" {<br/>  ami           = "ami-0ff8a91507f77f867"<br/>  instance_type = "t1.2xlarge" # invalid type!<br/>}</span></pre><p id="1880" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe oj ok ol oa b">t1.2xlarge</code>æ˜¯æ— æ•ˆçš„å®ä¾‹ç±»å‹ã€‚è¿è¡Œ<code class="fe oj ok ol oa b">terraform apply</code>æ—¶ä¼šå‡ºç°é”™è¯¯ã€‚ä½†æ˜¯<code class="fe oj ok ol oa b">terraform validate</code>å’Œ<code class="fe oj ok ol oa b">terraform plan</code>å‘½ä»¤æ²¡æœ‰æ˜¾ç¤ºä»»ä½•é”™è¯¯ã€‚è¿™æ˜¯æ¥è‡ªAWSæä¾›è€…çš„ç‰¹å®šé—®é¢˜ï¼Œè€Œä¸æ˜¯æ¥è‡ªTerraformè¯­æ³•ã€‚TFLintæ’ä»¶æœ‰åŠ©äºåœ¨åº”ç”¨ä»£ç ä¹‹å‰æ£€æµ‹åˆ°æ­¤é”™è¯¯:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/9bec1b9c7129362242a5e469074c8661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6YjdpiK15k_-4iGW.gif"/></div></div></figure><h1 id="4aa1" class="mq mr it bd ms mt ph mv mw mx pi mz na jz pj ka nc kc pk kd ne kf pl kg ng nh bi translated">3.åœ°å½¢æ–‡æ¡£</h1><p id="878c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">è®°å½•ä½ çš„ä»£ç å¯¹äºå›¢é˜Ÿåˆä½œå’Œå¯é‡ç”¨æ€§æ˜¯å¾ˆé‡è¦çš„ã€‚<a class="ae ky" href="https://github.com/terraform-docs/terraform-docs" rel="noopener ugc nofollow" target="_blank"> Terraform-docs </a>æ˜¯ä¸€ä¸ªä»Terraformæ¨¡å—ä»¥å„ç§è¾“å‡ºæ ¼å¼ç”Ÿæˆæ–‡æ¡£çš„å¿«é€Ÿå·¥å…·ã€‚</p><div class="om on gp gr oo op"><a href="https://github.com/terraform-docs/terraform-docs" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">GitHub-terra form-docs/terra form-docs:ä»å„ç§â€¦</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">ç”±Scalr-Terraform Automation &amp; Collaboration SoftwareèµåŠ©ï¼Œè¿™æ˜¯ä¸€ä¸ªä»Terraformç”Ÿæˆæ–‡æ¡£çš„å·¥å…·â€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">github.com</p></div></div><div class="oy l"><div class="pm l pa pb pc oy pd ks op"/></div></div></a></div><h2 id="39f9" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Macä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="7a14" class="nn mr it oa b gy oe of l og oh">$ brew install terraform-docs </span></pre><h2 id="1103" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Windowsä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="1feb" class="nn mr it oa b gy oe of l og oh">$ choco install terraform-docs</span></pre><h2 id="4fee" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Linuxä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="02fb" class="nn mr it oa b gy oe of l og oh">$ curl -Lo ./terraform-docs.tar.gz https://github.com/terraform-docs/terraform-docs/releases/download/v0.16.0/terraform-docs-v0.16.0-$(uname)-amd64.tar.gz<br/>$ tar -xzf terraform-docs.tar.gz<br/>$ chmod +x terraform-docs<br/>$ mv terraform-docs /usr/local/terraform-docs</span></pre><h2 id="3808" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">å¿«é€Ÿå…¥é—¨</h2><p id="1699" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">åˆ›å»ºTerraformæ¨¡å—æ„å‘³ç€ä½¿ç”¨è¾“å…¥ã€è¾“å‡ºã€èµ„æºä»¥åŠæœ€ç»ˆçš„æ•°æ®æºã€‚ä¸‹é¢çš„Terraformç‰‡æ®µä»AMI (Amazonæœºå™¨æ˜ åƒ)åˆ›å»ºäº†ä¸€ä¸ªAWS EC2å®ä¾‹ã€‚å°½ç®¡æ‰€æœ‰å†…å®¹éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½†å®ƒå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªæ¨¡å—:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="dded" class="nn mr it oa b gy oe of l og oh">terraform {<br/>  required_version = "&gt;= 1.0.0"<br/>  required_providers {<br/>    aws = {<br/>      source = "hashicorp/aws"<br/>    }<br/>  }<br/>}</span><span id="49a0" class="nn mr it oa b gy pf of l og oh">variable "aws_region" {<br/>  description = "The AWS region where to deploy the EC2 instance."<br/>  type        = string<br/>  default     = "us-east-1"<br/>}</span><span id="241b" class="nn mr it oa b gy pf of l og oh">variable "tags" {<br/>  description = "The tags to associate to the EC2 instance."<br/>  type        = map(string)<br/>  default     = {}<br/>}</span><span id="649e" class="nn mr it oa b gy pf of l og oh">provider "aws" {<br/>  region = var.aws_region<br/>}</span><span id="32e4" class="nn mr it oa b gy pf of l og oh">data "aws_ami" "ubuntu" {<br/>  most_recent = true</span><span id="e245" class="nn mr it oa b gy pf of l og oh">filter {<br/>    name   = "name"<br/>    values = ["ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-*"]<br/>  }</span><span id="5c6c" class="nn mr it oa b gy pf of l og oh">filter {<br/>    name   = "virtualization-type"<br/>    values = ["hvm"]<br/>  }</span><span id="2573" class="nn mr it oa b gy pf of l og oh">owners = ["099720109477"]<br/>}</span><span id="5c8f" class="nn mr it oa b gy pf of l og oh">resource "aws_instance" "default" {<br/>  ami           = data.aws_ami.ubuntu.id<br/>  instance_type = "t2.micro"</span><span id="f6b7" class="nn mr it oa b gy pf of l og oh">tags   = merge({<br/>    Name = "my-ec2-instance"<br/>  }, var.tags)<br/>}</span><span id="020c" class="nn mr it oa b gy pf of l og oh">output "arn" {<br/>  description = "EC2 instance ARN."<br/>  value       = aws_instance.default.arn<br/>}</span></pre><p id="a16c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸‹é¢çš„å‘½ä»¤è¡Œå°†åœ¨markdownä¸­ç”ŸæˆTerraformæ–‡æ¡£ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨è‡ªè¿°æ–‡ä»¶ä¸­:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e63d" class="nn mr it oa b gy oe of l og oh">$ terraform-docs markdown table --output-file README.md .</span></pre><p id="597c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">åœ¨è‡ªè¿°æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ¨¡å—ä½¿ç”¨çš„ä¸åŒå…ƒç´ ï¼Œå¹¶é“¾æ¥åˆ°æ¯ä¸ªå…ƒç´ çš„å®˜æ–¹æ–‡æ¡£:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="a2b2" class="nn mr it oa b gy oe of l og oh">&lt;!-- BEGIN_TF_DOCS --&gt;<br/>## Requirements</span><span id="aae1" class="nn mr it oa b gy pf of l og oh">| Name | Version |<br/>|------|---------|<br/>| &lt;a name="requirement_terraform"&gt;&lt;/a&gt; [terraform](#requirement\_terraform) | &gt;= 1.0.0 |</span><span id="8093" class="nn mr it oa b gy pf of l og oh">## Providers</span><span id="b4f3" class="nn mr it oa b gy pf of l og oh">| Name | Version |<br/>|------|---------|<br/>| &lt;a name="provider_aws"&gt;&lt;/a&gt; [aws](#provider\_aws) | 3.74.0 |</span><span id="b11d" class="nn mr it oa b gy pf of l og oh">## Modules</span><span id="91f7" class="nn mr it oa b gy pf of l og oh">No modules.</span><span id="f3ad" class="nn mr it oa b gy pf of l og oh">## Resources</span><span id="05c8" class="nn mr it oa b gy pf of l og oh">| Name | Type |<br/>|------|------|<br/>| [aws_instance.default](<a class="ae ky" href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance" rel="noopener ugc nofollow" target="_blank">https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/instance</a>) | resource |<br/>| [aws_ami.ubuntu](<a class="ae ky" href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami" rel="noopener ugc nofollow" target="_blank">https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/ami</a>) | data source |</span><span id="d177" class="nn mr it oa b gy pf of l og oh">## Inputs</span><span id="4b1f" class="nn mr it oa b gy pf of l og oh">| Name | Description | Type | Default | Required |<br/>|------|-------------|------|---------|:--------:|<br/>| &lt;a name="input_aws_region"&gt;&lt;/a&gt; [aws\_region](#input\_aws\_region) | The AWS region where to deploy the EC2 instance. | `string` | `"us-east-1"` | no |<br/>| &lt;a name="input_tags"&gt;&lt;/a&gt; [tags](#input\_tags) | The tags to associate to the EC2 instance. | `map(string)` | `{}` | no |</span><span id="febe" class="nn mr it oa b gy pf of l og oh">## Outputs</span><span id="0323" class="nn mr it oa b gy pf of l og oh">| Name | Description |<br/>|------|-------------|<br/>| &lt;a name="output_arn"&gt;&lt;/a&gt; [arn](#output\_arn) | EC2 instance ARN. |<br/>&lt;!-- END_TF_DOCS --&gt;</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c39c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">4.åˆ‡ç§‘å¤«</h1><p id="eac6" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Checkov æ˜¯ä¸€ä¸ªé™æ€ä»£ç åˆ†æå·¥å…·ï¼Œç”¨äºå°†åŸºç¡€è®¾æ–½æ‰«æä¸ºåŒ…æ‹¬Terraformåœ¨å†…çš„ä»£ç æ–‡ä»¶ã€‚å®ƒä¼šæŸ¥æ‰¾å¯èƒ½å¯¼è‡´å®‰å…¨æ€§æˆ–åˆè§„æ€§é—®é¢˜çš„é”™è¯¯é…ç½®ã€‚å®ƒæœ‰750ä¸ªé¢„å®šä¹‰çš„ç­–ç•¥æ¥æ£€æŸ¥å¸¸è§çš„é”™è¯¯é…ç½®é—®é¢˜ã€‚</p><div class="om on gp gr oo op"><a href="https://www.checkov.io/" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">åˆ‡ç§‘å¤«</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">Checkovæ‰«æäº‘åŸºç¡€è®¾æ–½é…ç½®ï¼Œä»¥ä¾¿åœ¨éƒ¨ç½²ä¹‹å‰å‘ç°é”™è¯¯é…ç½®ã€‚Checkovä½¿ç”¨ä¸€ä¸ªâ€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">www.checkov.io</p></div></div><div class="oy l"><div class="pn l pa pb pc oy pd ks op"/></div></div></a></div><h2 id="7568" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">è£…ç½®</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="76cf" class="nn mr it oa b gy oe of l og oh">$ pip install checkov</span></pre><h2 id="6f04" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">å¿«é€Ÿå…¥é—¨</h2><p id="5cf9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">æˆ‘ä»¬å°†é‡‡ç”¨terraform-docsä¸Šæ˜¾ç¤ºçš„é›¶ä»¶ä»£ç ã€‚æˆ‘ä»¬å°†ç”Ÿæˆåœ°å½¢å›¾ï¼Œå¹¶ä½¿ç”¨Checkovå¯¹å…¶è¿›è¡Œåˆ†æ:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="3528" class="nn mr it oa b gy oe of l og oh">$ terraform init <br/>$ terraform plan -out tf.plan <br/>$ terraform show -json tf.plan  &gt; tf.json  <br/>$ checkov -f tf.json<br/><br/>       _               _<br/>   ___| |__   ___  ___| | _______   __<br/>  / __| '_ \ / _ \/ __| |/ / _ \ \ / /<br/> | (__| | | |  __/ (__|   &lt; (_) \ V /<br/>  \___|_| |_|\___|\___|_|\_\___/ \_/</span><span id="8cb2" class="nn mr it oa b gy pf of l og oh">By bridgecrew.io | version: 2.0.528<br/>Update available 2.0.528 -&gt; 2.0.829<br/>Run pip3 install -U checkov to update</span><span id="1d5c" class="nn mr it oa b gy pf of l og oh">cloudformation scan results:</span><span id="8b4c" class="nn mr it oa b gy pf of l og oh">Passed checks: 0, Failed checks: 0, Skipped checks: 0, Parsing errors: 1</span><span id="3473" class="nn mr it oa b gy pf of l og oh">Error parsing file tf.json<br/>terraform_plan scan results:</span><span id="5325" class="nn mr it oa b gy pf of l og oh">Passed checks: 2, Failed checks: 4, Skipped checks: 0</span><span id="3ac8" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_88: "EC2 instance should not have public IP."<br/> PASSED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/public_12" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/public_12</a></span><span id="c0c7" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_46: "Ensure no hard-coded secrets exist in EC2 user data"<br/> PASSED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/bc_aws_secrets_1" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/bc_aws_secrets_1</a></span><span id="4149" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_79: "Ensure Instance Metadata Service Version 1 is not enabled"<br/> FAILED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/bc_aws_general_31" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/bc_aws_general_31</a></span><span id="2613" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_126: "Ensure that detailed monitoring is enabled for EC2 instances"<br/> FAILED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/ensure-that-detailed-monitoring-is-enabled-for-ec2-instances" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/ensure-that-detailed-monitoring-is-enabled-for-ec2-instances</a></span><span id="c8bf" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_135: "Ensure that EC2 is EBS optimized"<br/> FAILED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/ensure-that-ec2-is-ebs-optimized" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/ensure-that-ec2-is-ebs-optimized</a></span><span id="0524" class="nn mr it oa b gy pf of l og oh">Check: CKV_AWS_8: "Ensure all data stored in the Launch configuration EBS is securely encrypted"<br/> FAILED for resource: aws_instance.default<br/> File: /tf.json:0-0<br/> Guide: <a class="ae ky" href="https://docs.bridgecrew.io/docs/general_13" rel="noopener ugc nofollow" target="_blank">https://docs.bridgecrew.io/docs/general_13</a></span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="b96a" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">5.Infracost:ä»ä»£ç ä¸­ä¼°è®¡äº‘æˆæœ¬</h1><p id="b345" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Terraformæ‰€åšçš„æ›´æ”¹å¯èƒ½ä¼šæ”¹å˜äº‘æä¾›å•†æ‰˜ç®¡çš„èµ„æºçš„çŠ¶æ€ã€‚æ ¹æ®è¿™äº›æƒ…å†µï¼Œè´¹ç”¨å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚åœ¨ç¼–å†™IaCä»£ç æ—¶ï¼Œè®°ä½è¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚</p><p id="e005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Infracostæ˜¾ç¤ºäº†Terraformç­‰åŸºç¡€è®¾æ–½å³ä»£ç é¡¹ç›®çš„äº‘æˆæœ¬ä¼°ç®—ã€‚å®ƒæœ‰åŠ©äºå¿«é€ŸæŸ¥çœ‹æˆæœ¬æ˜ç»†ï¼Œå¹¶æå‰æ¯”è¾ƒä¸åŒçš„é€‰é¡¹ã€‚</p><div class="om on gp gr oo op"><a href="https://github.com/infracost/infracost" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">GitHub â€” infracost/infracost:æ‹‰å¼è¯·æ±‚ä¸­Terraformçš„äº‘æˆæœ¬ä¼°è®¡ğŸ’°ğŸ“‰çˆ±ä½ çš„â€¦</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">Infracostæ˜¾ç¤ºTerraformçš„äº‘æˆæœ¬ä¼°è®¡ã€‚å®ƒä½¿å¾·æ²ƒæ™®æ–¯ã€SREå’Œå·¥ç¨‹å¸ˆä»¬èƒ½å¤Ÿçœ‹åˆ°æˆæœ¬åˆ†è§£å’Œâ€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">github.com</p></div></div><div class="oy l"><div class="po l pa pb pc oy pd ks op"/></div></div></a></div><h2 id="146e" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Macä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="ad7a" class="nn mr it oa b gy oe of l og oh">$ brew install infracost</span></pre><h2 id="ea19" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">åœ¨Linuxä¸Šå®‰è£…</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="8384" class="nn mr it oa b gy oe of l og oh">$ /usr/local/bin<br/>curl -fsSL <a class="ae ky" href="https://raw.githubusercontent.com/infracost/infracost/master/scripts/install.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/infracost/infracost/master/scripts/install.sh</a> | sh</span></pre><h2 id="adc8" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">å¿«é€Ÿå…¥é—¨</h2><p id="1003" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">ä½¿ç”¨æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€æ³¨å†Œinfracostä»¥æ¥æ”¶APIå¯†é’¥:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="16f8" class="nn mr it oa b gy oe of l og oh">$ infracost register</span></pre><p id="855e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç°åœ¨ä½ çš„APIå¯†åŒ™åœ¨<code class="fe oj ok ol oa b">$HOME/.config/infracost/credentials.yml</code>ä¸­</p><p id="9344" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨infracostè·å¾—å®Œæ•´çš„æ¯æœˆæˆæœ¬æ˜ç»†:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="0471" class="nn mr it oa b gy oe of l og oh">$ infracost breakdown --path .                                                                                                <br/>Detected Terraform directory at .<br/>  âœ” Checking for cached plan... not found<br/>  âœ” Running terraform plan<br/>  âœ” Running terraform show<br/>  âœ” Extracting only cost-related params from terraform<br/>  âœ” Retrieving cloud prices to calculate costs</span><span id="f85e" class="nn mr it oa b gy pf of l og oh">Project: .</span><span id="7373" class="nn mr it oa b gy pf of l og oh">Name                                                 Monthly Qty  Unit   Monthly Cost</span><span id="e262" class="nn mr it oa b gy pf of l og oh">aws_instance.default<br/> â”œâ”€ Instance usage (Linux/UNIX, on-demand, t2.micro)          730  hours         $8.47<br/> â””â”€ root_block_device<br/>    â””â”€ Storage (general purpose SSD, gp2)                       8  GB            $0.80</span><span id="9ad6" class="nn mr it oa b gy pf of l og oh">OVERALL TOTAL                                                                   $9.27<br/>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>1 cloud resource was detected, rerun with --show-skipped to see details:<br/>âˆ™ 1 was estimated, 1 includes usage-based costs, see <a class="ae ky" href="https://infracost.io/usage-file" rel="noopener ugc nofollow" target="_blank">https://infracost.io/usage-file</a></span></pre><p id="2e14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨è¿˜å¯ä»¥å‘ç°ç”±äºä»£ç æ›´æ”¹è€Œå¯¼è‡´çš„æ¯æœˆè´¹ç”¨çš„å˜åŒ–:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="981f" class="nn mr it oa b gy oe of l og oh">$ infracost diff --path .<br/>Detected Terraform directory at .<br/>  âœ” Checking for cached plan... change detected<br/>  âœ” Running terraform plan<br/>  âœ” Running terraform show<br/>  âœ” Extracting only cost-related params from terraform<br/>  âœ” Retrieving cloud prices to calculate costs</span><span id="0272" class="nn mr it oa b gy pf of l og oh">Project: .</span><span id="e843" class="nn mr it oa b gy pf of l og oh">~ aws_instance.default<br/>  +$21.90 ($9.27 â†’ $31.17)</span><span id="65a7" class="nn mr it oa b gy pf of l og oh">~ Instance usage (Linux/UNIX, on-demand, t2.micro â†’ t3.medium)<br/>      +$21.90 ($8.47 â†’ $30.37)</span><span id="a865" class="nn mr it oa b gy pf of l og oh">Monthly cost change for .<br/>Amount:  +$21.90 ($9.27 â†’ $31.17)<br/>Percent: +236%</span><span id="5d6d" class="nn mr it oa b gy pf of l og oh">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br/>Key: ~ changed, + added, - removed</span><span id="003b" class="nn mr it oa b gy pf of l og oh">1 cloud resource was detected, rerun with --show-skipped to see details:<br/>âˆ™ 1 was estimated, 1 includes usage-based costs, see <a class="ae ky" href="https://infracost.io/usage-file" rel="noopener ugc nofollow" target="_blank">https://infracost.io/usage-file</a></span><span id="c8d6" class="nn mr it oa b gy pf of l og oh">Add cost estimates to your pull requests: <a class="ae ky" href="https://infracost.io/cicd" rel="noopener ugc nofollow" target="_blank">https://infracost.io/cicd</a></span></pre><p id="6026" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨ä¹Ÿå¯ä»¥ç”ŸæˆHTMLæŠ¥å‘Š:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="5c43" class="nn mr it oa b gy oe of l og oh">$ infracost breakdown --path . --format html &gt; report.html                                                                  <br/>Detected Terraform directory at .<br/>  âœ” Checking for cached plan... found<br/>  âœ” Extracting only cost-related params from terraform<br/>  âœ” Retrieving cloud prices to calculate costs</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/1ed66e7738c1dc94601522f7e78728d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XS05TyUHULfCvlPkmssxrw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Infracost HTMLæŠ¥å‘Š</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="bdba" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">ç»“è®º</h1><p id="8736" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">æˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­ä¸€èµ·çœ‹åˆ°çš„5ç§åœ°å½¢å·¥å…·å°†åœ¨å‡ ä¸ªæ–¹é¢ä¸ºæ‚¨å¸¦æ¥å¥½å¤„:</p><ul class=""><li id="075f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">ä½¿ç”¨TFLintæ›´å¿«åœ°è°ƒè¯•ä»£ç å¹¶é¢„æµ‹é”™è¯¯</li><li id="2306" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">é™åˆ¶é‡å¤æ€§ä»»åŠ¡:ä½¿ç”¨TFSwitchè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œä½¿ç”¨Terraform-Docså®ç°æ–‡æ¡£è‡ªåŠ¨åŒ–ã€‚</li><li id="5288" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">ä½¿ç”¨Checkovè¯†åˆ«å¼€å‘è¿‡ç¨‹ä¸­çš„å®‰å…¨é—®é¢˜</li><li id="b839" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">é€šè¿‡Infracostäº†è§£åŸºç¡€æ¶æ„å˜æ›´çš„æˆæœ¬å½±å“</li></ul><p id="024a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨è¿˜å¯ä»¥å°†æ‰€æœ‰è¿™äº›å·¥å…·é›†æˆåˆ°æ‚¨çš„CI/CDç®¡é“ä¸­ï¼</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8cf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è°¢è°¢å¤§å®¶ï¼ğŸ™æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ‰¾åˆ°ä¸‹ä¸€ä¸ªå¾ˆæ£’çš„Terraformå·¥å…·ã€‚æƒ³äº†è§£æ›´å¤šå…³äºDevOpsçš„çŸ¥è¯†ï¼Ÿè¦æŸ¥çœ‹æ›´å¤šåƒè¿™æ ·çš„æ–‡ç« ï¼Œå®ƒåœ¨ä¸‹é¢ï¼â¬‡ï¸</p><div class="om on gp gr oo op"><a href="https://getbetterdevops.io/" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">Getbetterdevops</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">Getbetterdevopsæ˜¯ä¸€ä¸ªdevopsåšå®¢ï¼Œå¸®åŠ©å­¦ä¹ ç°ä»£åŸºç¡€è®¾æ–½å’Œäº‘æŠ€æœ¯ï¼Œå¦‚Kubernetesâ€¦</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">getbetterdevops.io</p></div></div><div class="oy l"><div class="pq l pa pb pc oy pd ks op"/></div></div></a></div></div></div>    
</body>
</html>