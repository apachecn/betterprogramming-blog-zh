<html>
<head>
<title>JavaScript ES2021 Features With Simple Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¸¦æœ‰ç®€å•ç¤ºä¾‹çš„JavaScript ES2021ç‰¹æ€§</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/javascript-es2021-features-with-simple-examples-ada723b55355?source=collection_archive---------0-----------------------#2021-01-01">https://betterprogramming.pub/javascript-es2021-features-with-simple-examples-ada723b55355?source=collection_archive---------0-----------------------#2021-01-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1a58" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JavaScriptçš„æœ€æ–°è¿›å±•</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/64a62e15c98b993d4dd871801fa36a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_WJbyOV8GaHKulGO2v4eew.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">åœ¨<a class="ae ky" href="https://unsplash.com/s/photos/2021?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šç”±<a class="ae ky" href="https://unsplash.com/@waldemarbrandt67w?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Waldemar Brandt </a>æ‹æ‘„çš„ç…§ç‰‡</p></figure><p id="e3a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä»Šå¤©ï¼Œæˆ‘ä»¬å°†äº†è§£2015å¹´çš„ECMAScriptç‰¹æ€§:</p><ul class=""><li id="7291" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">ES2015åˆåES6</li><li id="c990" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/javascript-es2016-features-with-examples-a41b7aead589" rel="noopener"> ES2016åˆåES7 </a></li><li id="2f26" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/javascript-es2017-features-with-examples-877f8406e770" rel="noopener"> ES2017åˆåES8 </a></li><li id="49b8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/javascript-es2018-features-with-examples-30fda8ac50fa" rel="noopener"> ES2018åˆåES9 </a></li><li id="4e31" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/twelve-es10-features-in-twelve-simple-examples-6e8cc109f3d3" rel="noopener"> ES2019åˆåES10 </a></li><li id="2e54" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://medium.com/better-programming/javascript-es2020-features-with-simple-examples-d301dbef2c37" rel="noopener"> ES2020åˆåES11 </a></li><li id="5ecf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">ES2021åˆåES12</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ed95" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">ä»‹ç»</h1><p id="28c4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">ES2021æ˜¯å¯¹åº”äº2021å¹´çš„ECMAScriptç‰ˆæœ¬ã€‚è¿™ä¸ªç‰ˆæœ¬æ²¡æœ‰ES6 (2015)ä¸­å‡ºç°çš„é‚£ä¹ˆå¤šæ–°åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œå·²ç»åŠ å…¥äº†ä¸€äº›æœ‰ç”¨çš„åŠŸèƒ½ã€‚</p><p id="dc33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æœ¬æ–‡é€šè¿‡ç®€å•çš„ä»£ç ç¤ºä¾‹ä»‹ç»äº†ES2021æä¾›çš„ç‰¹æ€§ã€‚è¿™æ ·ä¸éœ€è¦å¤æ‚çš„è§£é‡Šå°±èƒ½å¿«é€Ÿç†è§£æ–°ç‰¹æ€§ã€‚</p><p id="5f40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å½“ç„¶ï¼Œæœ‰å¿…è¦å¯¹JavaScriptæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œæ‰èƒ½å®Œå…¨ç†è§£æ‰€ä»‹ç»çš„æœ€å¥½çš„ã€‚</p><p id="35fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ES2021ä¸­æ–°å¢çš„JavaScript <strong class="lb iu"> </strong>ç‰¹æ€§æœ‰:</p><p id="780c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">â¡ï¸<code class="fe nn no np nq b">String.prototype.replaceAll</code><br/>â¡ï¸<code class="fe nn no np nq b">Promise.any</code><br/>â¡ï¸<code class="fe nn no np nq b">WeakRef</code><br/>â¡ï¸é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦<br/> â¡ï¸æ•°å­—åˆ†éš”ç¬¦</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6191" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">String.protype.replaceAll</h1><p id="a538" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">ç›®å‰ï¼Œå¦‚æœä¸ä½¿ç”¨å…¨å±€regexp ( <code class="fe nn no np nq b">/regexp/g</code>)ï¼Œå°±æ— æ³•æ›¿æ¢å­—ç¬¦ä¸²ä¸­å­å­—ç¬¦ä¸²çš„æ‰€æœ‰å®ä¾‹ã€‚</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="29ea" class="nv mr it nq b gy nw nx l ny nz">const fruits = 'ğŸ+ğŸ+ğŸ“+';<br/>const fruitsWithBanana = fruits.replace(/\+/g, 'ğŸŒ');<br/>console.log(fruitsWithBanana); //ğŸğŸŒğŸğŸŒğŸ“ğŸŒ</span></pre><p id="60fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å­—ç¬¦ä¸²åŸå‹ä¸­å¢åŠ äº†ä¸€ä¸ªæ–°çš„<code class="fe nn no np nq b">replaceAll</code>æ–¹æ³•ã€‚</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="423d" class="nv mr it nq b gy nw nx l ny nz">const fruits = 'ğŸ+ğŸ+ğŸ“+';<br/>const fruitsWithBanana = fruits.replaceAll('+', 'ğŸŒ');<br/>console.log(fruitsWithBanana); //ğŸğŸŒğŸğŸŒğŸ“ğŸŒ</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3c22" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">æ‰¿è¯ºã€‚ä»»ä½•</h1><p id="083c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><code class="fe nn no np nq b">Promise.any</code>ä¸€æ—¦æ‰¿è¯ºå…‘ç°ï¼Œå°±ç»™ä½ ä¸€ä¸ªä¿¡å·ã€‚è¿™ä¸ªå’Œ<code class="fe nn no np nq b">Promise.race</code>å·®ä¸å¤šï¼Œåªä¸è¿‡<code class="fe nn no np nq b">Promise.any</code>ä¸ä¼šåœ¨å…¶ä¸­ä¸€ä¸ªæ‰¿è¯ºæ‹’ç»çš„æ—¶å€™æå‰æ‹’ç»ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6dc9" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">WeakRef</h1><p id="a6ba" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><code class="fe nn no np nq b">WeakRef</code>ææ¡ˆåŒ…å«ä¸¤ä¸ªä¸»è¦çš„æ–°åŠŸèƒ½:</p><ul class=""><li id="4a83" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">ç”¨<code class="fe nn no np nq b">WeakRef</code>ç±»åˆ›å»ºå¯¹å¯¹è±¡çš„å¼±å¼•ç”¨</li><li id="6652" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">ä½¿ç”¨<code class="fe nn no np nq b">FinalizationRegistry</code>ç±»åœ¨å¯¹è±¡è¢«åƒåœ¾æ”¶é›†åè¿è¡Œç”¨æˆ·å®šä¹‰çš„ç»ˆç»“å™¨</li></ul><p id="fa50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">è¿™äº›æ¥å£å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œè¿™å–å†³äºä½¿ç”¨æ¡ˆä¾‹ã€‚</p><p id="c29d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä¸€ä¸ª<code class="fe nn no np nq b">WeakRef</code>å¯¹è±¡åŒ…å«ä¸€ä¸ªå¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œè¿™ä¸ªå¯¹è±¡è¢«ç§°ä¸ºå®ƒçš„<em class="oc">ç›®æ ‡</em>æˆ–<em class="oc">å¼•ç”¨å¯¹è±¡</em>ã€‚å¯¹ä¸€ä¸ªå¯¹è±¡çš„<em class="oc">å¼±å¼•ç”¨</em>æ˜¯ä¸€ä¸ªä¸é˜»æ­¢å¯¹è±¡è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶çš„å¼•ç”¨ã€‚</p><p id="8054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å¼±å¼•ç”¨çš„ä¸»è¦ç”¨é€”æ˜¯å®ç°ä¿å­˜å¤§å‹å¯¹è±¡çš„ç¼“å­˜æˆ–æ˜ å°„ï¼Œå…¶ä¸­å¸Œæœ›å¤§å‹å¯¹è±¡ä¸ä¼šä»…ä»…å› ä¸ºå‡ºç°åœ¨ç¼“å­˜æˆ–æ˜ å°„ä¸­è€Œä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="dd1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nn no np nq b">FinalizationRegistry</code>æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œå½“åœ¨æ³¨å†Œè¡¨ä¸­æ³¨å†Œçš„å¯¹è±¡è¢«<em class="oc">å›æ”¶</em>(åƒåœ¾æ”¶é›†)æ—¶ï¼Œè¯·æ±‚åœ¨æŸä¸ªæ—¶é—´ç‚¹è°ƒç”¨<em class="oc">æ¸…ç†å›è°ƒ</em> ( <em class="oc">ç»ˆç»“å™¨</em>)ã€‚</p><p id="1b88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">æ‚¨åˆ›å»ºäº†ä¼ å…¥å›è°ƒçš„æ³¨å†Œè¡¨:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="486f" class="nv mr it nq b gy nw nx l ny nz">const registry = new FinalizationRegistry(heldValue =&gt; {<br/>  // ....<br/>});</span></pre><p id="8901" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ç„¶åï¼Œé€šè¿‡è°ƒç”¨<code class="fe nn no np nq b">register</code>æ–¹æ³•ï¼Œä¼ å…¥å¯¹è±¡åŠå…¶ä¿å­˜çš„å€¼ï¼Œæ³¨å†Œä»»ä½•æƒ³è¦æ¸…ç†å›è°ƒçš„å¯¹è±¡:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="c776" class="nv mr it nq b gy nw nx l ny nz">registry.register(theObject, "some value");</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="b27d" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦</h1><p id="1687" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ç»„åˆäº†é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ã€‚æœ‰ä¸¤ä¸ªæ–°è¿ç®—ç¬¦:</p><ul class=""><li id="3fdc" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">æˆ–æˆ–ç­‰äº</li><li id="0fbb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">å’Œç­‰äº</li></ul><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="e902" class="nv mr it nq b gy nw nx l ny nz">// Or Or Equals<br/>|   a   |   b   | a ||= b | a (after operation) |<br/>| true  | true  |   true  |        true         |<br/>| true  | false |   true  |        true         |<br/>| false | true  |   true  |        true         |<br/>| false | false |   false |        false        |</span><span id="5cd7" class="nv mr it nq b gy od nx l ny nz">a ||= b<br/>// Equivalent to:<br/>a || (a = b);</span><span id="7ecc" class="nv mr it nq b gy od nx l ny nz">// And And Equals<br/>|   a   |   b   | a &amp;&amp;= b | a (after operation) |<br/>| true  | true  |   true  |        true         |<br/>| true  | false |   false |        false        |<br/>| false | true  |   false |        false        |<br/>| false | false |   false |        false        |</span><span id="3104" class="nv mr it nq b gy od nx l ny nz">a &amp;&amp;= b<br/>// Equivalent to:<br/>a &amp;&amp; (a = b);</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ad0c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">æ•°å­—åˆ†éš”ç¬¦</h1><p id="1df1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">è¯¥ç‰¹æ€§å…è®¸ä½¿ç”¨æ•°å­—ç»„ä¹‹é—´çš„å¯è§†åˆ†éš”æ¥æé«˜æ•°å€¼çš„å¯è¯»æ€§ã€‚</p><p id="0e8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ä½¿ç”¨ä¸‹åˆ’çº¿(_ï¼ŒU+005F)ä½œä¸ºåˆ†éš”ç¬¦æœ‰åŠ©äºæé«˜æ•°å€¼çš„å¯è¯»æ€§:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="ad89" class="nv mr it nq b gy nw nx l ny nz">1_000_000_000           // A billion<br/>101_475_938.38          // Hundreds of millions</span><span id="0757" class="nv mr it nq b gy od nx l ny nz">const amount = 12345_00;  // 12,345 (1234500 cents, apparently)<br/>const amount = 123_4500;  // 123.45 (4-fixed financial)<br/>const amount = 1_234_500; // 1,234,500</span><span id="d39c" class="nv mr it nq b gy od nx l ny nz">0.000_001 // 1 millionth<br/>1e10_000  // 10^10000 -- granted, far less useful / in-range...</span><span id="e806" class="nv mr it nq b gy od nx l ny nz"><br/>const binary_literals = 0b1010_0001_1000_0101;<br/>const hex_literals = 0xA0_B0_C0;<br/>const bigInt_literals = 1_000_000_000_000n;<br/>const octal_literal = 0o1234_5670;</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a59a" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">ç»“è®º</h1><p id="ee59" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">JavaScriptæ˜¯ä¸€ç§æ´»çš„è¯­è¨€ï¼Œè¿™å¯¹äºwebå¼€å‘æ¥è¯´æ˜¯éå¸¸æœ‰ç›Šçš„ã€‚è‡ª2015å¹´ES6å‡ºç°ä»¥æ¥ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨ç»å†è¿™ç§è¯­è¨€çš„è“¬å‹ƒå‘å±•ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†ES2021ä¸­å‡ºç°çš„ç‰¹æ€§ã€‚</p><p id="979d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">å°½ç®¡è¿™äº›ç‰¹æ€§ä¸­çš„è®¸å¤šå¯¹äºwebåº”ç”¨ç¨‹åºçš„å¼€å‘æ¥è¯´å¯èƒ½å¹¶ä¸é‡è¦ï¼Œä½†å®ƒä»¬æä¾›äº†ä»¥å‰åªéœ€æŠ€å·§æˆ–å¤§é‡èµ˜è¿°å°±èƒ½å®ç°çš„å¯èƒ½æ€§ã€‚</p></div></div>    
</body>
</html>