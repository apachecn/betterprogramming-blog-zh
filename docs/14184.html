<html>
<head>
<title>Whatâ€™s New in TypeScript 4.9?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript 4.9æœ‰ä»€ä¹ˆæ–°åŠŸèƒ½ï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/whats-new-in-typescript-4-9-6bce2387aa31?source=collection_archive---------1-----------------------#2022-11-15">https://betterprogramming.pub/whats-new-in-typescript-4-9-6bce2387aa31?source=collection_archive---------1-----------------------#2022-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e16f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">æ»¡è¶³è¿ç®—ç¬¦ã€è‡ªåŠ¨è®¿é—®å™¨å­—æ®µç­‰</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e7692ade753e4f1ed14c5992a54e9455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JxqHB7UyEswO6_nbHpSR6Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä½œè€…æ•è·</p></figure><p id="c257" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‰“å­—ç¨¿<code class="fe lu lv lw lx b">4.9</code>ç‰ˆæœ¬è®¡åˆ’äº11æœˆ15æ—¥å‘å¸ƒğŸ‰ã€‚è¿™å°†æ˜¯2022å¹´çš„æœ€åä¸€æ¬¡ã€‚å¯¹äºTypeScriptæ¥è¯´ï¼Œè¿™æ˜¯å¾ˆæ£’çš„ä¸€å¹´ã€‚</p><p id="e95d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç»æœ€ç›¸å…³çš„æ–°ç‰¹æ€§ã€‚ä»¥ä¸‹æ˜¯æ‘˜è¦:</p><ul class=""><li id="aae3" class="ly lz it la b lb lc le lf lh ma ll mb lp mc lt md me mf mg bi translated">æ»¡è¶³è¿ç®—ç¬¦</li><li id="2d4e" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">æ”¯æŒè‡ªåŠ¨è®¿é—®å™¨å­—æ®µ</li><li id="2765" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">æ”¹è¿›å¯¹<code class="fe lu lv lw lx b">in</code>æ“ä½œå™¨çš„æ£€æŸ¥</li><li id="6d62" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated">ä¸å…è®¸ä¸<code class="fe lu lv lw lx b">NaN</code>è¿›è¡Œæ¯”è¾ƒ</li></ul><p id="b36b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åƒå¾€å¸¸ä¸€æ ·ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨è¿™é‡Œçš„TypeScript playgroundã€‘æ¥éµå¾ªä»»ä½•ç¤ºä¾‹ã€‚æœ€å¥½çš„å­¦ä¹ æ–¹æ³•æ€»æ˜¯äº’åŠ¨åœ°è¿›è¡Œã€‚</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h2 id="472c" class="mu mv it bd mw mx my dn mz na nb dp nc lh nd ne nf ll ng nh ni lp nj nk nl nm bi translated">æ»¡è¶³è¿ç®—ç¬¦</h2><p id="2954" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">å½“è¾“å…¥ä¸€ä¸ªå˜é‡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å†³å®šæ˜¯æ‰‹åŠ¨å®šä¹‰å®ƒçš„ç±»å‹è¿˜æ˜¯ä¾é æ¨ç†ã€‚ä¸å¯èƒ½ä¸¤è€…å…¼è€Œæœ‰ä¹‹ã€‚</p><p id="722a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å‡è®¾æˆ‘ä»¬æƒ³å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå®ƒçš„é”®å¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å€¼æ˜¯ä¸€ä¸ªæ•°å­—ã€‚</p><p id="e189" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœæˆ‘ä»¬ä»…ä»…ä¾é æ¨ç†ï¼Œé™¤äº†äº¤æ¢ä¹‹å¤–ï¼Œæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸èƒ½å®æ–½ï¼Œæˆ‘ä»¬çŸ¥é“å¯†é’¥æ˜¯<code class="fe lu lv lw lx b">a | b | c</code></p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="34fc" class="nw mv it lx b be nx ny l nz oa">// relying on inference to do the typing for us<br/>const foo = {<br/>    a: 255,<br/>    b: 255,<br/>    c: 255<br/>};<br/><br/>// typeof foo is <br/>// const foo: {<br/>//    a: number;<br/>//    b: number;<br/>//    c: number;<br/>// }</span></pre><p id="b010" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬å°è¯•å°†é”®å€¼å¼ºåˆ¶ä¸ºä¸€ä¸ªæ•°å­—:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="f5af" class="nw mv it lx b be nx ny l nz oa">const foo: Record&lt;string, number&gt; = {<br/>    a: 255,<br/>    b: 255,<br/>    c: 255<br/>};<br/><br/>// typeof foo is <br/>// const foo: Record&lt;string, number&gt;</span></pre><p id="0d49" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å®ƒçš„å·¥ä½œï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬å¤±å»äº†é”®çš„ç±»å‹ä¿¡æ¯è¢«<code class="fe lu lv lw lx b">a | b | c</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æä¾›æ˜ å°„é”®æ¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="792b" class="nw mv it lx b be nx ny l nz oa">type Keys = 'a' | 'b' | 'c';<br/>const foo: Record&lt;Keys, number&gt; = {<br/>    a: 255,<br/>    b: 255,<br/>    c: 255<br/>};<br/><br/>// typeof foo is <br/>// const foo: Record&lt;Keys, number&gt;</span></pre><p id="76d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä»¥ä¸Šæ˜¯å¥½çš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæƒè¡¡ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªé”®ï¼Œæˆ‘ä»¬å¿…é¡»å°†å®ƒæ·»åŠ åˆ°<code class="fe lu lv lw lx b">Keys</code>ç±»å‹å’Œ<code class="fe lu lv lw lx b">foo</code>å˜é‡ä¸­ã€‚</p><p id="15e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æ‰€ä»¥æ²¡æœ‰å¥½çš„æ–¹æ³•æ¥è¡¨è¾¾å¯¹ç±»å‹çš„é™åˆ¶è€Œä¸æ”¹å˜å®ƒã€‚ç›´åˆ°ç°åœ¨ã€‚ä½¿ç”¨æ–°çš„<code class="fe lu lv lw lx b">satisfies</code>æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜å˜é‡æ¨æ–­ç±»å‹çš„æƒ…å†µä¸‹å®æ–½ç±»å‹é™åˆ¶ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="9a0c" class="nw mv it lx b be nx ny l nz oa">const foo = {<br/>    a: 255,<br/>    b: 255,<br/>    c: 255,<br/>    // âŒ We get the error Type 'string' is not assignable to type 'number'<br/>    d: 'bar'<br/>} satisfies Record&lt;string, number&gt;;<br/><br/>// âœ… We are not losing any type inferance information<br/>// typeof foo is <br/>// const foo: {<br/>//    a: number;<br/>//    b: number;<br/>//    c: number;<br/>//    d: string;<br/>// }</span></pre><p id="f621" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒçš„å¥½å¤„ã€‚æˆ‘ä»¬èƒ½å¤Ÿå¼ºåˆ¶å¯¹è±¡<code class="fe lu lv lw lx b">foo</code>é”®æ€»æ˜¯å±äº<code class="fe lu lv lw lx b">number</code>ç±»å‹ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ä¿ç•™å…³äºå¯¹è±¡çš„æ¨ç†ä¿¡æ¯ã€‚</p><p id="a80e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿‡å‰©çš„æˆ¿äº§æ€ä¹ˆåŠï¼Ÿä¼šå¤±è´¥è¿˜æ˜¯ä¼šé€šè¿‡ï¼Ÿå…³äºè¿™ä¸€ç‚¹ä¸€ç›´æœ‰äº‰è®ºã€‚è¿™æœ‰ç‚¹æ£˜æ‰‹ï¼Œå› ä¸ºä½ å¯ä»¥æå‡ºæ”¯æŒæˆ–åå¯¹çš„æœ‰åŠ›è®ºæ®ã€‚</p><p id="23a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æœ€åçš„å†³å®šä¼¼ä¹æ˜¯ï¼Œå¤šä½™çš„å±æ€§å°†è¢«ç¦æ­¢ï¼Œå¯¼è‡´ç¼–è¯‘æ—¶å‡ºé”™ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="09e3" class="nw mv it lx b be nx ny l nz oa">type Point = {<br/>    x: number,<br/>    y: number<br/>};<br/><br/>const origin = {<br/>    x: 0,<br/>    y: 0,<br/>    // âŒ Type '{ x: number; y: number; z: number; }' does not satisfy<br/>    // the expected type 'Point'<br/>    z: 0<br/>} satisfies Point;</span></pre><p id="457d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™ä¸ªç‰¹æ€§å¯èƒ½ä¼šåœ¨æœªæ¥å‘å±•ï¼Œä¹Ÿè®¸ä¼šè®©<code class="fe lu lv lw lx b">satisfies</code>æ“ä½œç¬¦ç”¨äºå‡½æ•°å£°æ˜æˆä¸ºå¯èƒ½ã€‚</p><p id="0b80" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šçš„ç»†èŠ‚æˆ–èƒŒæ™¯ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹çœ‹æœ€åˆçš„æè®®<a class="ae mm" href="https://github.com/microsoft/TypeScript/issues/47920" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="5939" class="ob mv it bd mw oc od oe mz of og oh nc jz oi ka nf kc oj kd ni kf ok kg nl ol bi translated">æ”¯æŒè‡ªåŠ¨è®¿é—®å™¨å­—æ®µ</h1><p id="50b4" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">ECMAScript decoratorsææ¡ˆå·²ç»åœ¨<code class="fe lu lv lw lx b">Stage 3</code>(è¿™é‡Œçš„<a class="ae mm" href="https://github.com/tc39/proposal-decorators" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>)ä¸­ã€‚è¿™ä¸ªç‰¹æ€§å°†å¯ç”¨å±æ€§è‡ªåŠ¨è®¿é—®å™¨æ„é€ ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="4c0b" class="nw mv it lx b be nx ny l nz oa">class C {<br/>  accessor x = 1;<br/>}</span></pre><p id="11d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½œä¸ºè¿™ä¸ªç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œ<code class="fe lu lv lw lx b">accessor</code>å­—æ®µå£°æ˜å·²ç»å¯ä»¥åœ¨TypeScriptä¸­ä½¿ç”¨ã€‚å®ƒåœ¨å¹•åä½¿ç”¨è£…é¥°è€…çš„åŠŸèƒ½ã€‚</p><p id="caf2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒ</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="8991" class="nw mv it lx b be nx ny l nz oa">class Foo {<br/>    accessor a: string = 'a';<br/>}<br/><br/>const instance = new Foo();<br/><br/>// âœ… it works and prints 'a' <br/>console.log(instance.a);</span></pre><p id="c441" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¯·æ³¨æ„æˆ‘ä»¬å¦‚ä½•è®¿é—®<code class="fe lu lv lw lx b">a</code>å±æ€§ï¼Œè€Œä¸éœ€è¦ä»»ä½•é¢å¤–çš„æ ·æ¿æ–‡ä»¶ã€‚æ ¹æ®é€‰æ‹©çš„<code class="fe lu lv lw lx b">target</code>è¾“å‡ºï¼Œ<code class="fe lu lv lw lx b">JavaScript</code>è¾“å‡ºå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨æœ€æ–°çš„<code class="fe lu lv lw lx b">Es2022</code>ï¼Œè¾“å‡ºå°†ä¾èµ–äºå»å¹´å‘å¸ƒçš„JavaScriptç§æœ‰å˜é‡ã€‚</p><p id="fcb5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹<code class="fe lu lv lw lx b">tsconfig</code>ç›®æ ‡è®¾ç½®ä¸º<code class="fe lu lv lw lx b">Es2022</code>æ—¶çš„<code class="fe lu lv lw lx b">js</code>è¾“å‡ºä»£ç :</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="1699" class="nw mv it lx b be nx ny l nz oa">"use strict";<br/>class Foo {<br/>    constructor() {<br/>        this.#a_accessor_storage = 'a';<br/>    }<br/>    #a_accessor_storage;<br/>    get a() { return this.#a_accessor_storage; }<br/>    set a(value) { this.#a_accessor_storage = value; }<br/>}<br/><br/>const instance = new Foo();<br/>// âœ… it works and prints 'a' <br/>console.log(instance.a);</span></pre><p id="e169" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™ä¸ªç‰¹å¾å¹¶æ²¡æœ‰å°±æ­¤ç»“æŸã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿<code class="fe lu lv lw lx b">accessors</code>ç§æœ‰ï¼Œä»¥é™åˆ¶å¯¹ç±»å®ä¾‹å†…éƒ¨çš„è®¿é—®ï¼Œæˆ–è€…ä½¿<code class="fe lu lv lw lx b">static</code>å¯ç”¨ï¼Œè€Œä¸éœ€è¦æœ‰ä¸€ä¸ªå®ä¾‹ã€‚</p><p id="1fd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªè¿™ä¸¤ç§ç”¨æ³•çš„ä¾‹å­:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="16c7" class="nw mv it lx b be nx ny l nz oa">class Foo {<br/>    accessor a: string = 'a';<br/>    accessor #b: string = 'b';<br/>    static accessor c: string = 'c';<br/>    <br/>    log() {<br/>        // âœ… it works and prints 'b'<br/>        console.log(this.#b)<br/>    }<br/>}<br/><br/>const instance = new Foo();<br/><br/>// âŒ does not work since property is private<br/>console.log(instance.#b);<br/><br/>// âœ… it works and prints 'c' <br/>console.log(Foo.c);</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="82b6" class="ob mv it bd mw oc od oe mz of og oh nc jz oi ka nf kc oj kd ni kf ok kg nl ol bi translated">æ”¹è¿›å¯¹<code class="fe lu lv lw lx b">in</code>æ“ä½œå™¨çš„æ£€æŸ¥</h1><p id="c30d" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">TypeScript <code class="fe lu lv lw lx b">in</code>æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå¯ä»¥æ­£ç¡®æ£€æŸ¥å¯èƒ½åªå­˜åœ¨äºè”åˆä¸­çš„ä¸€ä¸ªå¯¹è±¡ä¸­çš„å†…å®¹ã€‚</p><p id="dc39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="8749" class="nw mv it lx b be nx ny l nz oa">type Car = {<br/>  wheels: number;<br/>  topSpeed: number;<br/>}<br/><br/>type Plane = {<br/>  topSpeed: number;<br/>}<br/><br/>function log(vehicle: Car | Plane) {<br/>  if ('wheels' in vehicle) {<br/>    // âœ… vehicle.wheels is of type string<br/>    console.log(`vehicle has ${vehicle.wheels} wheels`)<br/>  }<br/>  console.log(`vehicle top topSpeed is ${vehicle.topSpeed} km/h`)<br/>}</span></pre><p id="fcda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å½“ç±»å‹æœªçŸ¥æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿåœ¨é”®å…¥è„šæœ¬<code class="fe lu lv lw lx b">4.9</code>ä¹‹å‰ï¼Œä¸å¯èƒ½å¯¹å…¶è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæ‰“å­—é”™è¯¯ã€‚</p><p id="fc23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆä½¿ç”¨<code class="fe lu lv lw lx b">in</code>æ“ä½œç¬¦å’Œ<code class="fe lu lv lw lx b">typeof</code>æ¥ç¼©å°ç±»å‹ã€‚å¦‚æœ<code class="fe lu lv lw lx b">typeof</code>ä¸å­˜åœ¨ï¼Œå®ƒå°†è¢«è¾“å…¥ä¸º<code class="fe lu lv lw lx b">unknown</code>ã€‚</p><p id="8ae9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¸¦æœ‰<code class="fe lu lv lw lx b">typeof</code>çš„ç¤ºä¾‹:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="eac9" class="nw mv it lx b be nx ny l nz oa">function log(vehicle: {}) {<br/>  // âœ… Works, item.wheels is now of type number<br/>  if ('wheels' in vehicle &amp;&amp; typeof vehicle.wheels === "number") {<br/>    console.log(`the entity has ${vehicle.wheels} wheels`)<br/>  }<br/>}<br/><br/>log({ wheels : 4, topSpeed: 20, })</span></pre><p id="4647" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä¸å¸¦<code class="fe lu lv lw lx b">typeof</code>çš„ç¤ºä¾‹:</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="31c2" class="nw mv it lx b be nx ny l nz oa">function log(vehicle: {}) {<br/>  // âœ… Works, item.wheels is now of type unknown<br/>  if ('wheels' in vehicle) {<br/>    console.log(`the entity has ${vehicle.wheels} wheels`)<br/>  }<br/>}<br/><br/>log({ wheels : 4, topSpeed: 20, })</span></pre><p id="190e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">å¯¹<code class="fe lu lv lw lx b">in</code>æ“ä½œç¬¦çš„å¦ä¸€ä¸ªæ”¹å˜æ˜¯<code class="fe lu lv lw lx b">key in obj</code>çš„é”®ç°åœ¨è¢«çº¦æŸåˆ°äº†<code class="fe lu lv lw lx b">string | number | symbol</code>ã€‚ä»¥å‰ï¼Œå…è®¸<code class="fe lu lv lw lx b">key</code>ä¸ºæ— çº¦æŸç±»å‹çš„å‚æ•°ç±»å‹ã€‚</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="86a9" class="ob mv it bd mw oc od oe mz of og oh nc jz oi ka nf kc oj kd ni kf ok kg nl ol bi translated">ä¸å…è®¸ä¸<code class="fe lu lv lw lx b">NaN</code>è¿›è¡Œæ¯”è¾ƒ</h1><p id="defc" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">æµ®ç‚¹è¿ç®—æ ‡å‡†æ˜¯æµ®ç‚¹è¿ç®—çš„æŠ€æœ¯æ ‡å‡†ã€‚å®ƒå¯¹äºæ‰€æœ‰ä½¿ç”¨æµ®ç‚¹çš„è¯­è¨€éƒ½æ˜¯åŒç­‰å®ç°çš„ã€‚</p><p id="8735" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe lu lv lw lx b">IEEE 754</code>è§„èŒƒå£°æ˜<code class="fe lu lv lw lx b">NaN</code>å€¼æ°¸è¿œä¸ç›¸ç­‰ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="e6d7" class="nw mv it lx b be nx ny l nz oa">NaN === NaN // false<br/>NaN !== NaN // false</span></pre><p id="60e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">é‚£æˆ‘ä»¬æ€ä¹ˆèƒ½æ°å½“åœ°æ¯”è¾ƒè¿™äº›å‘¢ï¼Ÿåœ¨JavaScriptä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe lu lv lw lx b">Number.isNaN</code>å®ç”¨å‡½æ•°ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="6449" class="nw mv it lx b be nx ny l nz oa">Number.isNaN(NaN) // true<br/>Number.isNaN(0) // false</span></pre><p id="c455" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ä½œä¸ºTypeScript <code class="fe lu lv lw lx b">4.9</code>ç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œç¼–è¯‘å™¨åœ¨æ¯”è¾ƒ<code class="fe lu lv lw lx b">NaN</code>å€¼æ—¶ä¼šç»™å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p><pre class="kj kk kl km gt ns lx nt bn nu nv bi"><span id="af3f" class="nw mv it lx b be nx ny l nz oa">function logValue(value: Number | NaN) {<br/>  // âŒ Error: This condition will always return 'true'<br/>  // Did you mean '!Number.isNaN(value)'<br/>  if (value !== NaN) { <br/>    console.log('It is NaN');<br/>  }<br/>  console.log(value);<br/>}</span></pre><p id="f99b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">è¿™ä¸ªæ–¹ä¾¿çš„é”™è¯¯å°†èŠ‚çœå¤§é‡çš„è°ƒè¯•æ—¶é—´ï¼Œå°¤å…¶æ˜¯å¯¹åˆå­¦è€…æ¥è¯´ã€‚</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c863" class="ob mv it bd mw oc od oe mz of og oh nc jz oi ka nf kc oj kd ni kf ok kg nl ol bi translated">åŒ…è£¹</h1><p id="ed30" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€æ¬¡ä¼Ÿå¤§çš„å‘å¸ƒã€‚æˆ‘çœ‹åˆ°è‡ªå·±åœ¨ç›¸å½“å¤šçš„åœºæ™¯ä¸­ä½¿ç”¨<code class="fe lu lv lw lx b">satisfies</code>æ“ä½œç¬¦ã€‚æˆ‘ç›¸ä¿¡å®ƒä¼šå¾ˆå¿«æµè¡Œèµ·æ¥ã€‚åªæœ‰è¿™ä¸ªåŠŸèƒ½å€¼å¾—å‡çº§ã€‚</p><p id="1576" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">åƒç°åœ¨å˜å¾—å¸¸è§çš„é‚£æ ·ï¼Œè¿˜æœ‰ä¸€äº›æ€§èƒ½æ”¹è¿›ã€‚</p><p id="df6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">æˆ‘æ²¡æœ‰è®²å¤ªå¤šç»†èŠ‚ï¼Œä½†ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šä¿¡æ¯:</p><ul class=""><li id="a56f" class="ly lz it la b lb lc le lf lh ma ll mb lp mc lt md me mf mg bi translated"><em class="om">ä¼˜åŒ–#1: </em>äº¤æ¢<code class="fe lu lv lw lx b">forEachChild</code>ä½¿ç”¨ä¸€ä¸ªå‡½æ•°è¡¨ï¼Œè€Œä¸æ˜¯è¿™é‡Œçš„<code class="fe lu lv lw lx b">switch</code>è¯­å¥<a class="ae mm" href="https://github.com/microsoft/TypeScript/pull/50225" rel="noopener ugc nofollow" target="_blank"/>ã€‚</li><li id="bb48" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated"><em class="om">ä¼˜åŒ–#2: </em>åœ¨æ­¤æ·»åŠ ä¸€ä¸ª<code class="fe lu lv lw lx b">visitEachChild</code> <a class="ae mm" href="https://github.com/microsoft/TypeScript/pull/50266" rel="noopener ugc nofollow" target="_blank">çš„è·³è½¬è¡¨ã€‚</a></li><li id="85c4" class="ly lz it la b lb mh le mi lh mj ll mk lp ml lt md me mf mg bi translated"><em class="om">ä¼˜åŒ–#3: </em>ä¼˜åŒ–æ›¿æ¢ç±»å‹<a class="ae mm" href="https://github.com/microsoft/TypeScript/pull/50397" rel="noopener ugc nofollow" target="_blank">æ­¤å¤„</a>ã€‚</li></ul></div></div>    
</body>
</html>