# JavaScript å†…éƒ¨:åœ¨æµè§ˆå™¨çš„å¼•æ“ç›–ä¸‹

> åŸæ–‡ï¼š<https://betterprogramming.pub/javascript-internals-under-the-hood-of-a-browser-f357378cc922>

## å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œä»£ç 

![](img/4018faa454aeb4c8841fdc402367eeac.png)

# ä»‹ç»

Javascript å¾ˆå¥‡æ€ªã€‚æœ‰äººå–œæ¬¢ï¼Œæœ‰äººè®¨åŒã€‚å®ƒæœ‰å¾ˆå¤šç‹¬ç‰¹çš„æœºåˆ¶ï¼Œè¿™äº›æœºåˆ¶åœ¨å…¶ä»–æµè¡Œè¯­è¨€ä¸­æ²¡æœ‰å‡ºç°ï¼Œä¹Ÿæ²¡æœ‰å¯¹åº”çš„æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œä»£ç æ‰§è¡Œé¡ºåºï¼Œæœ‰æ—¶å¯èƒ½ä¸ç›´è§‚ï¼Œä½†è‚¯å®šå¾ˆçªå‡ºã€‚

äº†è§£æµè§ˆå™¨ç¯å¢ƒï¼Œå®ƒæ˜¯ç”±ä»€ä¹ˆç»„æˆçš„ï¼Œå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¼šè®©ä½ åœ¨ç¼–å†™ JavaScript æ—¶æ›´æœ‰ä¿¡å¿ƒï¼Œå¹¶ä¸ºå¯èƒ½å‘ç”Ÿçš„æ½œåœ¨é—®é¢˜åšå¥½å……åˆ†å‡†å¤‡ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è¯•ç€è§£é‡Šä¸€ä¸‹ Chrome æµè§ˆå™¨èƒŒåå‘ç”Ÿçš„äº‹æƒ…ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹:

*   V8 Javascript å¼•æ“â€”â€”ç¼–è¯‘æ­¥éª¤ã€å †å’Œå†…å­˜ç®¡ç†ä»¥åŠè°ƒç”¨å †æ ˆã€‚
*   æµè§ˆå™¨è¿è¡Œæ—¶â€”å¹¶å‘æ¨¡å‹ã€äº‹ä»¶å¾ªç¯ä»¥åŠé˜»å¡å’Œéé˜»å¡ä»£ç ã€‚

# JavaScript å¼•æ“

æœ€æµè¡Œçš„ JavaScript å¼•æ“æ˜¯ V8ï¼Œå®ƒæ˜¯ç”¨ C++ç¼–å†™çš„ï¼Œè¢« Chromeã€Opera ç”šè‡³ Edge ç­‰åŸºäº Chromium çš„æµè§ˆå™¨ä½¿ç”¨ã€‚

åŸºæœ¬ä¸Šï¼Œå¼•æ“æ˜¯ä¸€ä¸ªå°† JavaScript ç¿»è¯‘æˆæœºå™¨ä»£ç å¹¶åœ¨è®¡ç®—æœºçš„ä¸­å¤®å¤„ç†å™¨(CPU)ä¸Šæ‰§è¡Œç»“æœçš„ç¨‹åºã€‚

## æ±‡ç¼–

å½“æµè§ˆå™¨åŠ è½½ JavaScript æ–‡ä»¶æ—¶ï¼ŒV8 çš„è§£æå™¨ä¼šå°†å…¶è½¬æ¢æˆæŠ½è±¡è¯­æ³•æ ‘(AST)ã€‚è¿™ä¸ªæ ‘ç”± Ignition ä½¿ç”¨ï¼ŒIgnition æ˜¯ä¸€ä¸ªäº§ç”Ÿå­—èŠ‚ç çš„è§£é‡Šå™¨ã€‚å­—èŠ‚ç æ˜¯æœºå™¨ä»£ç çš„æŠ½è±¡ï¼Œèƒ½å¤Ÿé€šè¿‡ç¼–è¯‘æˆéä¼˜åŒ–çš„æœºå™¨ä»£ç æ¥æ‰§è¡Œã€‚V8 åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œå®ƒï¼Œè€Œä¼˜åŒ–ç¼–è¯‘å™¨æ¶¡æ‰‡åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­è¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼Œå¹¶äº§ç”Ÿä¼˜åŒ–çš„æœºå™¨ä»£ç ã€‚

è¿™ä¸ªç®¡é“å«åš[å®æ—¶(JIT)ç¼–è¯‘ã€‚](https://en.wikipedia.org/wiki/Just-in-time_compilation)

![](img/3b21b603d3af05aad59730aea58c34bb.png)

## è°ƒç”¨æ ˆ

JavaScript æ˜¯ä¸€ç§å…·æœ‰å•ä¸€è°ƒç”¨å †æ ˆçš„å•çº¿ç¨‹ç¼–ç¨‹è¯­è¨€ã€‚è¿™æ„å‘³ç€æ‚¨çš„ä»£ç æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚æ¯å½“ä¸€ä¸ªå‡½æ•°è¿è¡Œæ—¶ï¼Œå®ƒå°†åœ¨ä»»ä½•å…¶ä»–ä»£ç è¿è¡Œä¹‹å‰å®Œå…¨è¿è¡Œã€‚

å½“ V8 è°ƒç”¨æ‚¨çš„ JavaScript å‡½æ•°æ—¶ï¼Œå®ƒå¿…é¡»å°†è¿è¡Œæ—¶æ•°æ®å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ã€‚*è°ƒç”¨å †æ ˆ*æ˜¯å†…å­˜ä¸­ç”±å †æ ˆå¸§ç»„æˆçš„ä½ç½®ã€‚æ¯ä¸ªå †æ ˆå¸§å¯¹åº”äºä¸€ä¸ªå°šæœªå› è¿”å›è€Œç»ˆæ­¢çš„å‡½æ•°è°ƒç”¨ã€‚å †å æ¡†æ¶ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆ:

*   å±€éƒ¨å˜é‡
*   è‡ªå˜é‡å‚æ•°
*   å›ä¿¡åœ°å€

å¦‚æœæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒV8 ä¼šå°† frame æ¨åˆ°æ ˆé¡¶ã€‚å½“æˆ‘ä»¬ä»ä¸€ä¸ªå‡½æ•°è¿”å›æ—¶ï¼ŒV8 ä»æ¡†æ¶ä¸­å¼¹å‡ºã€‚

![](img/babdb4d8f472af49576a3c3a0efbb98b.png)

Chrome å¼€å‘å·¥å…·ä¸­çš„è°ƒç”¨å †æ ˆ

æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­çœ‹åˆ°çš„ï¼Œåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºä¸€ä¸ªæ¡†æ¶ï¼Œå¹¶åœ¨æ¯æ¬¡è¿”å›è¯­å¥æ—¶ç§»é™¤*(æ›´å¤šå…³äºè°ƒç”¨å †æ ˆä¸­å­˜å‚¨çš„å†…å®¹ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé˜…è¯»*[](https://medium.com/better-programming/javascript-internals-execution-context-bdeee6986b3b)**)*ã€‚*

*å…¶ä»–æ‰€æœ‰ä¸œè¥¿éƒ½è¢«åŠ¨æ€åˆ†é…åˆ°ä¸€ä¸ªå«åš*å †*çš„å¤§å‹éç»“æ„åŒ–å†…å­˜ä¸­ã€‚*

## *è®¸å¤š*

*æœ‰æ—¶ V8 åœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“ä¸€ä¸ªå¯¹è±¡å˜é‡éœ€è¦å¤šå°‘å†…å­˜ã€‚æ­¤ç±»æ•°æ®çš„æ‰€æœ‰å†…å­˜åˆ†é…éƒ½å‘ç”Ÿåœ¨å †ä¸­â€”â€”å†…å­˜çš„éç»“æ„åŒ–åŒºåŸŸã€‚åœ¨æˆ‘ä»¬é€€å‡ºåˆ†é…å†…å­˜çš„å‡½æ•°åï¼Œå †ä¸Šçš„å¯¹è±¡ä»ç„¶å­˜åœ¨ã€‚*

*V8 æœ‰ä¸€ä¸ªå†…ç½®çš„åƒåœ¾æ”¶é›†å™¨(GC)ã€‚åƒåœ¾æ”¶é›†æ˜¯å†…å­˜ç®¡ç†çš„ä¸€ç§å½¢å¼ã€‚å®ƒå°±åƒä¸€ä¸ªæ”¶é›†å™¨ï¼Œè¯•å›¾é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªå˜é‡ä¸¢å¤±äº†å®ƒæ‰€æœ‰çš„å¼•ç”¨æ—¶ï¼ŒGC ä¼šå°†è¿™ä¸ªå†…å­˜æ ‡è®°ä¸ºâ€œä¸å¯è®¿é—®â€å¹¶é‡Šæ”¾å®ƒã€‚*

*æ‚¨å¯ä»¥é€šè¿‡åœ¨ Chrome Dev Tools ä¸­åˆ¶ä½œå¿«ç…§æ¥ç ”ç©¶ heapã€‚*

*![](img/0b93e9e90a21658a3816c065b910c36c.png)*

**Chrome å¼€å‘å·¥å…·ä¸­çš„å †å¿«ç…§(ç©ºç™½é¡µ 2.2 MBï¼)**

*æ¯ä¸ªè¢«å®ä¾‹åŒ–çš„ JavaScript å¯¹è±¡éƒ½è¢«åˆ†ç»„åˆ°å…¶æ„é€ å‡½æ•°ç±»ä¸‹ã€‚å¸¦æ‹¬å·çš„åˆ†ç»„è¡¨ç¤ºä¸èƒ½ç›´æ¥è°ƒç”¨çš„æœ¬æœºæ„é€ å‡½æ•°ã€‚å¦‚ä½ æ‰€è§ï¼Œæœ‰è®¸å¤š`(compiled code)`å’Œ`(system)`å®ä¾‹ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ä¼ ç»Ÿçš„ JavaScript å¯¹è±¡ï¼Œå¦‚`Math`ã€`String`ã€`Array`ç­‰ç­‰ã€‚*

# *æµè§ˆå™¨è¿è¡Œæ—¶*

*å› æ­¤ï¼ŒV8 å¯ä»¥æ ¹æ®æ ‡å‡†åŒæ­¥æ‰§è¡Œ JavaScriptï¼Œä½¿ç”¨å•ä¸ªè°ƒç”¨å †æ ˆã€‚ä½†æ˜¯æˆ‘ä»¬å¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚æˆ‘ä»¬éœ€è¦å‘ˆç°ç”¨æˆ·ç•Œé¢ã€‚æˆ‘ä»¬éœ€è¦å¤„ç†ç”¨æˆ·ä¸ UI çš„äº¤äº’ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘å‡ºç½‘ç»œè¯·æ±‚çš„åŒæ—¶å¤„ç†ç”¨æˆ·äº¤äº’ã€‚ä½†æ˜¯å½“æˆ‘ä»¬æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯åŒæ­¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¦‚ä½•å®ç°å¹¶å‘å‘¢ï¼Ÿå¤šäºäº†æµè§ˆå™¨å¼•æ“æ‰æœ‰å¯èƒ½ã€‚*

*æµè§ˆå™¨å¼•æ“è´Ÿè´£ç”¨ HTML å’Œ CSS æ¸²æŸ“é¡µé¢ã€‚åœ¨ Chrome ä¸­å®ƒè¢«ç§°ä¸º Blinkã€‚å®ƒæ˜¯ [WebCore](https://en.wikipedia.org/wiki/WebKit#WebCore) çš„åˆ†æ”¯ï¼ŒWebCore æ˜¯ä¸€ä¸ªå¸ƒå±€ã€æ¸²æŸ“å’Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹(DOM)åº“ã€‚Blink æ˜¯ç”¨ C++å®ç°çš„ï¼Œå®ƒå…¬å¼€äº† Web APIsï¼Œæ¯”å¦‚ DOM å…ƒç´ å’Œäº‹ä»¶ã€`XMLHttpRequest`ã€`fetch`ã€`setTimeout`ã€`setInterval`ç­‰ç­‰ï¼Œå¯ä»¥é€šè¿‡ JavaScript **è®¿é—®ã€‚***

*è®©æˆ‘ä»¬è€ƒè™‘ä¸‹é¢è¿™ä¸ª`setTimeout(onTimeout, 0)`çš„ä¾‹å­:*

*![](img/6a728c95d9c81e99ff9b56ba6e519dfd.png)*

*Chrome å¼€å‘å·¥å…·ä¸­è¶…æ—¶çš„è°ƒç”¨å †æ ˆ*

*æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼Œ`f1()`å’Œ`f2()`å‡½æ•°é¦–å…ˆè¢«æ¨å…¥å †æ ˆï¼Œç„¶å`onTimeout`è¢«æ‰§è¡Œã€‚*

*å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬æ³¨å†Œäº†ä¸€ä¸ªç¨åè¿è¡Œçš„å‡½æ•°ã€‚æ— è®ºæ˜¯ç”¨æˆ·ç‚¹å‡»è¿˜æ˜¯è¶…æ—¶ã€‚æˆ‘ä»¬çš„å¼‚æ­¥å›è°ƒåªæœ‰åœ¨ç›¸åº”çš„äº‹ä»¶è¢«è§¦å‘åæ‰ç”± V8 æ‰§è¡Œã€‚*

*é‚£ä¹ˆä¸Šé¢çš„ä¾‹å­æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ*

## *å¹¶å‘*

*åœ¨æ‰§è¡Œå®Œ`setTimeout`å‡½æ•°åï¼Œæµè§ˆå™¨å¼•æ“å°†`setTimeout`çš„å›è°ƒå‡½æ•°æ”¾å…¥*äº‹ä»¶è¡¨* **ã€‚**è¿™æ˜¯ä¸€ä¸ªå°†æ³¨å†Œçš„å›è°ƒæ˜ å°„åˆ°äº‹ä»¶çš„æ•°æ®ç»“æ„ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­`onTimeout`å‡½æ•°æ˜ å°„åˆ°è¶…æ—¶äº‹ä»¶ã€‚*

*ä¸€æ—¦å®šæ—¶å™¨åˆ°æœŸï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå½“æˆ‘ä»¬å°† 0 ms ä½œä¸ºå»¶è¿Ÿæ—¶ï¼Œäº‹ä»¶è¢«è§¦å‘ï¼Œå¹¶ä¸”`onTimeout`å‡½æ•°è¢«æ”¾å…¥*äº‹ä»¶é˜Ÿåˆ—* (ä¹Ÿç§°ä¸ºå›è°ƒé˜Ÿåˆ—æˆ–æ¶ˆæ¯é˜Ÿåˆ—æˆ–ä»»åŠ¡é˜Ÿåˆ—)ã€‚äº‹ä»¶é˜Ÿåˆ—æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”±å°†æ¥è¦å¤„ç†çš„å›è°ƒå‡½æ•°(ä»»åŠ¡)ç»„æˆã€‚*

*æœ€åä½†åŒæ ·é‡è¦çš„æ˜¯ï¼Œ*äº‹ä»¶å¾ªç¯*ï¼Œä¸€ä¸ªæŒç»­è¿è¡Œçš„å¾ªç¯ï¼Œæ£€æŸ¥è°ƒç”¨æ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œåˆ™æ‰§è¡Œäº‹ä»¶é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ·»åŠ çš„å›è°ƒï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°è°ƒç”¨å †æ ˆä¸­ã€‚*

*å‡½æ•°çš„å¤„ç†ç»§ç»­è¿›è¡Œï¼Œç›´åˆ°è°ƒç”¨å †æ ˆå†æ¬¡ä¸ºç©ºã€‚ç„¶åäº‹ä»¶å¾ªç¯å°†å¤„ç†äº‹ä»¶é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå›è°ƒ(å¦‚æœæœ‰çš„è¯)ã€‚*

```
*const fn1 = () => console.log('fn1')
const fn2 = () => console.log('fn2')
const callback = () => console.log('timeout')fn1()
setTimeout(callback, 1000)
fn2()// output:
// fn1
// fn2
// timeout*
```

*![](img/f2a28264cd2ad014642a8cfd3bce3f1c.png)*

*ECMAScript 2015 å¼•å…¥äº†*ä½œä¸šé˜Ÿåˆ—* (åˆåå¾®ä»»åŠ¡é˜Ÿåˆ—)çš„æ¦‚å¿µã€‚è¿™ä¸ªé˜Ÿåˆ—å……æ»¡äº†æ‰¿è¯º`resolve`å’Œ`reject`åŠŸèƒ½ã€‚ä½œä¸šé˜Ÿåˆ—ä¸­çš„å›è°ƒæ¯”äº‹ä»¶é˜Ÿåˆ—ä¸­çš„å›è°ƒå…·æœ‰æ›´é«˜çš„æ‰§è¡Œä¼˜å…ˆçº§ã€‚è¿™æ„å‘³ç€äº‹ä»¶å¾ªç¯å°†åœ¨äº‹ä»¶é˜Ÿåˆ—ä¸­çš„ä»»ä½•å…¶ä»–å›è°ƒä¹‹å‰é€ä¸ªæ‰§è¡Œå®ƒä»¬ã€‚*

```
*const fn1 = () => console.log('fn1')
const fn2 = () => console.log('fn2')
const onTimeout = () => console.log('timeout')
const onResolve1 = () => console.log('resolved1')
const onResolve2 = () => console.log('resolved2')fn1()
setTimeout(onTimeout, 0)
Promise.resolve()
  .then(onResolve1)
  .then(onResolve2)fn2()// output:
// fn1
// fn2
// resolved1
// resolved2
// timeout*
```

*![](img/19b60521ebdbf0518615d4cd82555e03.png)*

*æ³¨æ„`onResolve1`ã€`onResolve2`ã€`onTimeout`å›è°ƒçš„æ‰§è¡Œé¡ºåºã€‚*

## *é˜»å¡ä¸éé˜»å¡*

*ç®€å•æ¥è¯´ï¼Œæ‰€æœ‰çš„ JavaScript ä»£ç éƒ½è¢«è®¤ä¸ºæ˜¯*é˜»å¡äº†*ã€‚å½“ V8 å¿™äºå¤„ç†å †æ ˆå¸§æ—¶â€”â€”æµè§ˆå™¨å¡ä½äº†ã€‚ä½ çš„åº”ç”¨çš„ç”¨æˆ·ç•Œé¢è¢«é˜»æ­¢ã€‚ç”¨æˆ·å°†æ— æ³•ç‚¹å‡»ã€å¯¼èˆªæˆ–æ»šåŠ¨ã€‚åœ¨ V8 å®Œæˆå·¥ä½œä¹‹å‰ï¼Œä¸ä¼šå¤„ç†æ¥è‡ªç½‘ç»œè¯·æ±‚çš„å“åº”ã€‚*

*æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨å¿…é¡»åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ç¨‹åºä¸­è§£æä¸€å¹…å›¾åƒã€‚*

```
*const fn1 = () => console.log('fn1')
const onResolve = () => console.log('resolved')
const parseImage = () => { /* long running parsing algorithm */ }fn1()
Promise.resolve().then(onResolve) // or any other Web API async fn
parseImage()*
```

*![](img/3734b5a64daeaffdf210c7ec28f946f0.png)*

*åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œäº‹ä»¶å¾ªç¯è¢«é˜»å¡ã€‚å®ƒä¸èƒ½å¤„ç†æ¥è‡ª*äº‹ä»¶/ä½œä¸šé˜Ÿåˆ—*çš„å›è°ƒï¼Œå› ä¸º*è°ƒç”¨æ ˆ*åŒ…å«å¸§ã€‚*

*Web API è®©æˆ‘ä»¬æœ‰å¯èƒ½é€šè¿‡å¼‚æ­¥å›è°ƒç¼–å†™*éé˜»å¡*ä»£ç ã€‚å½“è°ƒç”¨åƒ`setTimeout`æˆ–`fetch`è¿™æ ·çš„å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰çš„å·¥ä½œå§”æ‰˜ç»™è¿è¡Œåœ¨å•ç‹¬çº¿ç¨‹ä¸­çš„ C++æœ¬åœ°ä»£ç ã€‚æ“ä½œä¸€å®Œæˆï¼Œå›è°ƒå°±è¢«æ”¾å…¥*äº‹ä»¶é˜Ÿåˆ—*ã€‚åŒæ—¶ï¼ŒV8 å¯ä»¥ç»§ç»­è¿›ä¸€æ­¥æ‰§è¡Œ JavaScript ä»£ç ã€‚*

*æœ‰äº†è¿™æ ·çš„å¹¶å‘æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†ç½‘ç»œè¯·æ±‚ã€ç”¨æˆ·ä¸ UI çš„äº¤äº’ç­‰ç­‰ï¼Œè€Œä¸ä¼šé˜»å¡ JavaScript æ‰§è¡Œçº¿ç¨‹ã€‚*

# *ç»“å°¾éƒ¨åˆ†*

*ç†è§£ JavaScript ç¯å¢ƒæ˜¯ç”±ä»€ä¹ˆç»„æˆçš„å¯¹äºæ¯ä¸ªæƒ³è¦è§£å†³å¤æ‚ä»»åŠ¡çš„å¼€å‘äººå‘˜æ¥è¯´æ˜¯è‡³å…³é‡è¦çš„ã€‚ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¼‚æ­¥ JavaScript å¦‚ä½•å·¥ä½œï¼Œè°ƒç”¨æ ˆã€äº‹ä»¶å¾ªç¯ã€äº‹ä»¶é˜Ÿåˆ—å’Œä½œä¸šé˜Ÿåˆ—åœ¨å…¶å¹¶å‘æ¨¡å‹ä¸­çš„ä½œç”¨ã€‚*

*æ­£å¦‚ä½ å¯èƒ½å·²ç»çŒœåˆ°çš„ï¼ŒV8 å¼•æ“å’Œæµè§ˆå™¨å¼•æ“èƒŒåæœ‰æ›´å¤šçš„ä¸œè¥¿ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¤§å¤šæ•°äººåªéœ€è¦å¯¹æ‰€æœ‰è¿™äº›æ¦‚å¿µæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚è¯·ç‚¹å‡»æ‹æ‰‹ğŸ‘ï¼Œå¦‚æœä¸Šé¢çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚*

# *å‚è€ƒ*

*[](https://medium.com/dailyjs/understanding-v8s-bytecode-317d46c94775) [## ç†è§£ V8 çš„å­—èŠ‚ç 

### V8 æ˜¯è°·æ­Œçš„å¼€æº JavaScript å¼•æ“ã€‚Chromeã€Node.js å’Œå…¶ä»–è®¸å¤šåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨ V8ã€‚è¿™ç¯‡æ–‡ç« â€¦

medium.com](https://medium.com/dailyjs/understanding-v8s-bytecode-317d46c94775) [](https://medium.com/fhinkel/confused-about-stack-and-heap-2cf3e6adb771) [## å¯¹æ ˆå’Œå †æ„Ÿåˆ°å›°æƒ‘ï¼Ÿ

### å¦ç™½è¯´ï¼Œæˆ‘æ€»æ˜¯å¾ˆéš¾æŠŠå †æ ˆå’Œå †åˆ†å¼€ã€‚æ˜¯çš„ï¼Œæˆ‘è¯»è¿‡å†…å­˜ç®¡ç†ï¼Œç„¶åâ€¦

medium.com](https://medium.com/fhinkel/confused-about-stack-and-heap-2cf3e6adb771) [](https://blog.sessionstack.com/how-javascript-works-memory-management-how-to-handle-4-common-memory-leaks-3f28b94cfbec) [## JavaScript å¦‚ä½•å·¥ä½œ:å†…å­˜ç®¡ç†+å¦‚ä½•å¤„ç† 4 ç§å¸¸è§çš„å†…å­˜æ³„æ¼

### å‡ å‘¨å‰ï¼Œæˆ‘ä»¬å¼€å§‹äº†ä¸€ä¸ªç³»åˆ—ï¼Œæ—¨åœ¨æ›´æ·±å…¥åœ°æŒ–æ˜ JavaScript åŠå…¶å®é™…å·¥ä½œæ–¹å¼:æˆ‘ä»¬è®¤ä¸ºâ€¦

blog.sessionstack.com](https://blog.sessionstack.com/how-javascript-works-memory-management-how-to-handle-4-common-memory-leaks-3f28b94cfbec) [](https://blog.sessionstack.com/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code-ac089e62b12e) [## JavaScript å¦‚ä½•å·¥ä½œ:V8 å¼•æ“å†…éƒ¨+å¦‚ä½•ç¼–å†™ä¼˜åŒ–ä»£ç çš„ 5 ä¸ªæŠ€å·§

### å‡ å‘¨å‰ï¼Œæˆ‘ä»¬å¼€å§‹äº†ä¸€ä¸ªç³»åˆ—ï¼Œæ—¨åœ¨æ›´æ·±å…¥åœ°æŒ–æ˜ JavaScript åŠå…¶å®é™…å·¥ä½œæ–¹å¼:æˆ‘ä»¬è®¤ä¸ºâ€¦

blog.sessionstack.com](https://blog.sessionstack.com/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code-ac089e62b12e) [](https://v8.dev/blog/ignition-interpreter) [## å¯åŠ¨ç‚¹ç«è§£é‡Šå™¨ V8

### ç¼–è¾‘æè¿°

v8.dev](https://v8.dev/blog/ignition-interpreter)  [## ä½¿ç”¨ Chrome è°ƒè¯•å™¨å·¥å…·ï¼Œç¬¬ 6 éƒ¨åˆ†:å †åˆ†æå™¨

### ä¸Šä¸€æ¬¡ï¼Œæˆ‘è°ˆåˆ°äº† Chrome å†…ç½®çš„ CPU profilerï¼Œå®ƒå¯ä»¥è®©æ‚¨æ£€æµ‹ Javascript ä»£ç å¹¶â€¦

commandlinefanatic.com](https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art038)*