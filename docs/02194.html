<html>
<head>
<title>Vegetarian-Friendly State for React â€” Easy-Peasy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç´ é£Ÿä¸»ä¹‰è€…å‹å¥½çš„å›½å®¶ååº”â€”â€”å®¹æ˜“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/vegetarian-friendly-state-for-react-easy-peasy-e4b4604a6ecc?source=collection_archive---------18-----------------------#2019-11-12">https://betterprogramming.pub/vegetarian-friendly-state-for-react-easy-peasy-e4b4604a6ecc?source=collection_archive---------18-----------------------#2019-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8aeb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Easy Peasyä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªç›´è§‚çš„APIæ¥å¿«é€Ÿæ–¹ä¾¿åœ°ç®¡ç†Reactåº”ç”¨ç¨‹åºçš„çŠ¶æ€</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d8784a97e0f513b6f66acd6a978c02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bUugv0Y55gK3ts4QGq6c8w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/ctrlplusb/easy-peasy" rel="noopener ugc nofollow" target="_blank">https://github.com/ctrlplusb/easy-peasy</a></p></figure><h1 id="8f4d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">ä¸ºä»€ä¹ˆè¿™ä¹ˆç®€å•ï¼Ÿ</h1><p id="ca77" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://github.com/ctrlplusb/easy-peasy" rel="noopener ugc nofollow" target="_blank"> Easy Peasy </a>ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªç›´è§‚çš„APIæ¥å¿«é€Ÿæ–¹ä¾¿åœ°ç®¡ç†Reactåº”ç”¨ç¨‹åºçš„çŠ¶æ€ã€‚ä¸Reduxç­‰å…¶ä»–å·¥å…·ç›¸æ¯”ï¼Œå®ƒä½¿ç”¨çš„ä»£ç æ›´å°‘ï¼Œå¤æ‚åº¦æ›´ä½ã€‚</p><p id="6245" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ä¸éœ€è¦é¢å¤–çš„é…ç½®æ¥æ”¯æŒæ´¾ç”ŸçŠ¶æ€ã€APIè°ƒç”¨å’Œæ€§èƒ½ä¼˜åŒ–ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒå®Œå…¨æ”¯æŒ<strong class="lt iu"> Redux </strong>å¼€å‘è€…å·¥å…·ã€‚</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="12b9" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">ä¸»è¦ç‰¹å¾</h1><ul class=""><li id="0f1d" class="ne nf it lt b lu lv lx ly ma ng me nh mi ni mm nj nk nl nm bi translated">é›¶é…ç½®ï¼Œæ— æ ·æ¿æ–‡ä»¶</li><li id="b121" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">ReactåŸºäºé’©å­çš„API</li><li id="d78f" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">æ•°æ®æå–/å‰¯ä½œç”¨</li><li id="a325" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">å°†çŠ¶æ€ä¿å­˜åˆ°ä¼šè¯/æœ¬åœ°å­˜å‚¨</li><li id="a3cb" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">å¹¿æ³›çš„ç±»å‹è„šæœ¬æ”¯æŒ</li><li id="8685" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated">å…¨å±€ã€å…±äº«æˆ–ç»„ä»¶çº§å­˜å‚¨</li><li id="3d69" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><strong class="lt iu">ååº”åŸç”Ÿ</strong>æ”¯æŒ</li><li id="a698" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><strong class="lt iu">æ”¯æŒReduxå¼€å‘å·¥å…·</strong></li><li id="ca4b" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><strong class="lt iu">æ”¯æŒçƒ­é‡è£…</strong></li></ul><p id="f244" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">åœ¨å¼€å‘ä½ çš„åŸç”Ÿåº”ç”¨æˆ–æµè§ˆå™¨webåº”ç”¨æ—¶ï¼Œèƒ½å¤Ÿæ”¯æŒæœ€åä¸‰ä»¶äº‹å¯¹ä½ ç‰¹åˆ«æœ‰å¸®åŠ©ã€‚</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="4754" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">è£…ç½®</h1><p id="a658" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">å®‰è£…Easy-Peasyåªéœ€è¦ä¸€ä¸ªç®€å•çš„å‘½ä»¤ã€‚å¦‚æœæ‚¨ä½¿ç”¨NPM:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="fde9" class="nx la it nt b gy ny nz l oa ob">npm install <!-- -->easy-peasy</span></pre><p id="b2ed" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æˆ–è€…ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨<a class="ae ky" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">çº±çº¿</a>:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="8dbe" class="nx la it nt b gy ny nz l oa ob">yarn add <!-- -->easy-peasy</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="f8fc" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">åŸºæœ¬ç”¨æ³•</h1><ol class=""><li id="712b" class="ne nf it lt b lu lv lx ly ma ng me nh mi ni mm oc nk nl nm bi translated">å®šä¹‰ä¸€ä¸ªåŒ…å«å•†åº—å’Œå¯¹è¿™äº›å¯¹è±¡çš„å„ç§æ“ä½œçš„æ¨¡å‹ã€‚</li><li id="4d13" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm oc nk nl nm bi translated">æˆ‘ä»¬åªéœ€è¦å¯¼å…¥åŠ¨ä½œæ¥å®šä¹‰è‡ªå®šä¹‰åŠ¨ä½œï¼Œæ¯ä¸ªç»„ä»¶éƒ½ä¼šè°ƒç”¨è¿™äº›åŠ¨ä½œã€‚å¼€å§‹æ—¶ï¼Œæ‚¨å°†æ¯ä¸ªå¯å…¬å¼€è®¿é—®çš„å˜é‡æ”¾åœ¨storeéƒ¨åˆ†ã€‚</li></ol></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="4f0b" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">å•†åº—</h1><p id="ceb0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç®€å•çš„ç‚¹é¤ç³»ç»Ÿï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥<strong class="lt iu">æ·»åŠ </strong>ã€<strong class="lt iu">åˆ é™¤</strong>æˆ–<strong class="lt iu">å®Œæˆ</strong>è‡ªå·±é¤é¦†çš„ä»»ä½•è®¢å•ï¼</p><p id="a49e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">æˆ‘ä»¬é¦–å…ˆç”¨å„ç§å‡½æ•°å’Œè®¢å•åˆ—è¡¨æ¥å®šä¹‰æ¨¡å‹:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="a8a2" class="nx la it nt b gy ny nz l oa ob">import { action, thunk } from "easy-peasy";<br/>import uuid from "uuid";<br/><br/>const model = {<br/>  // Store<br/>  foods: [],<br/>  // Subroutines to load from API<br/>  fetchFoods: thunk(async actions =&gt; {<br/>    const res = await fetch(<br/>      "https://jsonplaceholder.typicode.com/todos?_limit=4"<br/>    );<br/>    const foodsFromAPI = await res.json();<br/>    actions.setFoods(foodsFromAPI);<br/>  }),<br/>  // Actions<br/>  setFoods: action((state, foods) =&gt; {<br/>    state.foods = foods;<br/>  }),<br/>  add: action((state, food) =&gt; {<br/>    food.id = uuid.v4();<br/>    state.foods = [...state.foods, food];<br/>  }),<br/>  toggle: action((state, id) =&gt; {<br/>    state.foods.map(food =&gt; {<br/>      if (food.id === id) {<br/>        food.completed = !food.completed;<br/>      }<br/>      return food;<br/>    });<br/>  }),<br/>  remove: action((state, id) =&gt; {<br/>    state.foods = state.foods.filter(food =&gt; food.id !== id);<br/>  })<br/>};<br/><br/>export default model;</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="67db" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">å®šä¹‰å•†åº—æä¾›å•†</h1><p id="4cd6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">åœ¨è¿™é‡Œï¼Œæ‚¨å°†ä½¿ç”¨è¿™ä¸¤ä¸ªæŒ‚é’©æ¥æ„å»ºä¸€ä¸ªå­˜å‚¨ï¼Œå¹¶ä¸ºå…¶ä½™çš„Reactç»„ä»¶æä¾›å…¶æ“ä½œå’Œå¯¹è±¡ã€‚</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="1310" class="nx la it nt b gy ny nz l oa ob">import React from "react";<br/>import model from "./model";<br/>import { StoreProvider, createStore } from "easy-peasy";<br/>import Orders from "./components/Orders";<br/>import AddFood from "./components/AddFood";<br/>import "./App.css";<br/><br/>const store = createStore(model);<br/><br/>function App() {<br/>  return (<br/>    &lt;StoreProvider store={store}&gt;<br/>      &lt;div className="container"&gt;<br/>        &lt;Orders /&gt;<br/>        &lt;AddFood /&gt;<br/>        &lt;br /&gt;<br/>        &lt;img<br/>          src="https://easy-peasy.now.sh/assets/img/happy-peas.dc3eb36b.png"<br/>          alt=""<br/>        /&gt;<br/>      &lt;/div&gt;<br/>    &lt;/StoreProvider&gt;<br/>  );<br/>}<br/><br/>export default App;</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="5e24" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">æœ€åï¼Œä½¿ç”¨è¡ŒåŠ¨å’Œå•†åº—ï¼</h1><p id="47f6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">æˆ‘ä»¬å°†æ„å»ºä¸¤ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªåŒ…å«æ‰€æœ‰è®¢å•çš„å®Œæ•´åˆ—è¡¨ï¼Œå®ƒè¿˜å°†è¦æ±‚å•†åº—ä»APIåˆå§‹åŒ–å€¼ã€‚</p><p id="b27b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">è®¢å•:</strong>ä½ è¦ç”¨ä¸¤ä¸ªæœ€æ¼‚äº®çš„é’©å­:</p><ul class=""><li id="cb2c" class="ne nf it lt b lu mn lx mo ma od me oe mi of mm nj nk nl nm bi translated"><code class="fe og oh oi nt b">useStore</code>ä»å­˜å‚¨å™¨ä¸­åŠ è½½ç‰¹å®šçŠ¶æ€</li><li id="6ead" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><code class="fe og oh oi nt b">useActions</code>ä»å•†åº—è°ƒç”¨ä¸€ä¸ªç‰¹å®šåŠ¨ä½œï¼Œå¦‚<code class="fe og oh oi nt b">fetchFoods</code></li></ul><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="0efc" class="nx la it nt b gy ny nz l oa ob">import React, { Fragment, useEffect } from "react";<br/>import { useStore, useActions } from "easy-peasy";<br/>import FoodItem from "./FoodItem";<br/><br/>const Orders = () =&gt; {<br/>  const foods = useStore(state =&gt; state.foods);<br/>  const fetchFoods = useActions(actions =&gt; actions.fetchFoods);<br/><br/>  useEffect(() =&gt; {<br/>    fetchFoods();<br/>    // eslint-disable-next-line<br/>  }, []);<br/><br/>  function foodList() {<br/>    return foods.map(food =&gt; &lt;FoodItem todo={food} key={food.id} /&gt;);<br/>  }<br/><br/>  return (<br/>    &lt;Fragment&gt;<br/>      &lt;h1&gt;easy-peasy&lt;/h1&gt;<br/>      &lt;h2&gt;Food Order System&lt;/h2&gt;<br/>      &lt;p&gt;<br/>        Click an order to complete it!<br/>        &lt;span role="img" aria-label=""&gt;<br/>          ğŸ¥¦<br/>        &lt;/span&gt;<br/>      &lt;/p&gt;<br/>      &lt;hr /&gt;<br/>      {foodList()}<br/>    &lt;/Fragment&gt;<br/>  );<br/>};<br/><br/>export default Orders;</span></pre><p id="1df8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe og oh oi nt b">AddFood</code>:ç¬¬äºŒä¸ªç±»ä¼¼ç»„ä»¶å°†æ˜¯å‘åˆ—è¡¨æ·»åŠ æ–°è®¢å•çš„è¡¨å•ï¼›æ€»æ˜¯ä½¿ç”¨ä¸åŒå‡½æ•°çš„<code class="fe og oh oi nt b">useActions</code>é’©å­â€”â€”åœ¨æœ¬ä¾‹ä¸­æ˜¯addå‡½æ•°ï¼Œå®ƒè¿½åŠ ä¸€ä¸ªæ–°è®¢å•ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="14d9" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">å®Œæ•´çš„Codesandbox</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol ok l"/></div></figure><p id="3790" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ã€https://codesandbox.io/s/easy-peasy-food-orders-g9yxcã€‘code sandboxé“¾æ¥:<a class="ae ky" href="https://codesandbox.io/s/easy-peasy-food-orders-g9yxc" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="1dbd" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºé’©å­çš„çŸ¥è¯†</h1><p id="ee54" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">å½“æˆ‘å¼€å§‹ä½¿ç”¨é’©å­æ—¶ï¼Œæˆ‘äº²è‡ªé˜…è¯»äº†<strong class="lt iu">"</strong><a class="ae ky" href="https://amzn.to/2Y8hoX9" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu">Learn React Hooks</strong></a><strong class="lt iu">"</strong>ï¼Œå®ƒå¸®åŠ©æˆ‘ç†è§£å®ƒä»¬å¦‚ä½•ä½¿ç”¨å·¥å…·ï¼Œä¾‹å¦‚<strong class="lt iu">use actions</strong>:<a class="ae ky" href="https://amzn.to/2Y8hoX9" rel="noopener ugc nofollow" target="_blank">https://amzn.to/2Y8hoX9</a></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="2d87" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">å‚è€ƒèµ„æ–™å’Œèµ„æº</h1><ul class=""><li id="7a9c" class="ne nf it lt b lu lv lx ly ma ng me nh mi ni mm nj nk nl nm bi translated"><a class="ae ky" href="https://easy-peasy.now.sh/" rel="noopener ugc nofollow" target="_blank">https://easy-peasy.now.sh/</a></li><li id="9437" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><a class="ae ky" href="https://github.com/ctrlplusb/easy-peasy" rel="noopener ugc nofollow" target="_blank">https://github.com/ctrlplusb/easy-peasy</a></li><li id="9d10" class="ne nf it lt b lu nn lx no ma np me nq mi nr mm nj nk nl nm bi translated"><a class="ae ky" href="https://codesandbox.io/s/easy-peasy-food-orders-g9yxc" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/easy-peasy-food-orders-g9yxc</a></li></ul></div></div>    
</body>
</html>