<html>
<head>
<title>Writing Your Own TypeScript CLI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç¼–å†™æ‚¨è‡ªå·±çš„ç±»å‹è„šæœ¬CLI</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/writing-your-own-typescript-cli-6f9c5688ad34?source=collection_archive---------3-----------------------#2021-12-06">https://betterprogramming.pub/writing-your-own-typescript-cli-6f9c5688ad34?source=collection_archive---------3-----------------------#2021-12-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="82f1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">å†™CLIæ„Ÿè§‰åƒæ˜¯è¶…èƒ½åŠ›</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a1665b52bead073b75410764a8b5bef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dckgllYi2EJomfuaKvcmxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ä½œè€…å›¾ç‰‡</p></figure><h1 id="ad97" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">TLï¼›é€Ÿåº¦ä¸‰è§’å½¢å®šä½æ³•(dead reckoning)</h1><ul class=""><li id="4df8" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">ğŸ³æ‚¨å¯ä»¥è½»æ¾ç¼–å†™CLIã€‚æ¯”ä½ æƒ³è±¡çš„è¦ç®€å•:)</li><li id="5e41" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ğŸ—¼æˆ‘ä»¬å°†ä¸€èµ·ç¼–å†™ä¸€ä¸ªCLIæ¥ç”ŸæˆLighthouseæ€§èƒ½æŠ¥å‘Šã€‚</li><li id="dae3" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ğŸ”¦æ‚¨å°†çœ‹åˆ°å¦‚ä½•é…ç½®TypeScriptã€ESLintå’Œæ›´æ¼‚äº®çš„ã€‚</li><li id="46a1" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ğŸ“šæ‚¨å°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨ä¸€äº›å¾ˆæ£’çš„åº“ï¼Œå¦‚<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/chalk/chalk" rel="noopener ugc nofollow" target="_blank">chalk</a></code>å’Œ<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank">commander</a></code>ã€‚</li><li id="113e" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ğŸ§‘â€ğŸ”¬æ‚¨å°†çœ‹åˆ°å¦‚ä½•ç”Ÿæˆå¤šä¸ªè¿›ç¨‹ã€‚</li><li id="be07" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ğŸš€æ‚¨å°†çœ‹åˆ°å¦‚ä½•åœ¨GitHubæ“ä½œä¸­ä½¿ç”¨æ‚¨çš„CLIã€‚</li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="aa1f" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">çœŸå®ä¸–ç•Œçš„ç”¨ä¾‹</h1><p id="a0de" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated"><a class="ae mr" href="https://developers.google.com/web/tools/lighthouse/" rel="noopener ugc nofollow" target="_blank"> Lighthouse </a>æ˜¯æœ€æµè¡Œçš„å¼€å‘å·¥å…·ä¹‹ä¸€ï¼Œå¯ä»¥æ´å¯Ÿç½‘é¡µæ€§èƒ½ã€‚å®ƒæä¾›äº†ä¸€ä¸ªCLIå’ŒèŠ‚ç‚¹æ¨¡å—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–ç¨‹æ¥è¿è¡Œå®ƒã€‚ç„¶è€Œï¼Œæ‚¨ä¼šæ³¨æ„åˆ°ï¼Œå¦‚æœæ‚¨åœ¨åŒä¸€ç½‘é¡µä¸Šå¤šæ¬¡è¿è¡ŒLighthouseï¼Œå¾—åˆ†ä¼šæœ‰æ‰€ä¸åŒã€‚è¿™æ˜¯å› ä¸ºå­˜åœ¨å·²çŸ¥çš„<a class="ae mr" href="https://developers.google.com/web/tools/lighthouse/variability" rel="noopener ugc nofollow" target="_blank">å¯å˜æ€§</a>ã€‚æœ‰è®¸å¤šå› ç´ ä¼šå½±å“ç¯å¡”çš„å¯å˜æ€§ã€‚å¤„ç†æ–¹å·®çš„ä¸€ä¸ªæ¨èç­–ç•¥æ˜¯å¤šæ¬¡è¿è¡ŒLighthouseã€‚</p><p id="6b8f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨CLIæ¥å®ç°è¿™ä¸€ç­–ç•¥ã€‚å®æ–½å°†åŒ…æ‹¬:</p><ul class=""><li id="e62a" class="lq lr it ls b lt nr lv ns lx nw lz nx mb ny md me mf mg mh bi translated">è¿è¡Œå¤šä¸ªç¯å¡”åˆ†æ</li><li id="3285" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">æ±‡æ€»æ•°æ®å¹¶è®¡ç®—ä¸­å€¼åˆ†æ•°</li></ul><p id="bc0a" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘å¸Œæœ›ä½ å¾ˆå…´å¥‹ï¼</p><h1 id="599a" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">ä½¿é¡¹ç›®çš„æ–‡ä»¶ç»“æ„è¾¾åˆ°é¡¶å³°</h1><p id="e2d6" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">è¿™æ˜¯é…ç½®å·¥å…·åæ–‡ä»¶ç»“æ„çš„æ ·å­ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="1cf7" class="od kz it mq b gy oe of l og oh">my-script<br/>â”œâ”€â”€ .eslintrc.js<br/>â”œâ”€â”€ .prettierrc.json<br/>â”œâ”€â”€ package.json<br/>â”œâ”€â”€ tsconfig.json<br/>â”œâ”€â”€ bin<br/>â””â”€â”€ src<br/>    â”œâ”€â”€ utils.ts<br/>    â””â”€â”€ index.ts</span></pre><p id="947d" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æºæ–‡ä»¶ä½äº<code class="fe mn mo mp mq b">/src</code>ç›®å½•ä¸­ã€‚æˆ‘ä»¬å°†ç¼–è¯‘å®ƒä»¬å¹¶åœ¨<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ä¸‹è¾“å‡º<code class="fe mn mo mp mq b">.js</code>æ–‡ä»¶ã€‚</p><p id="5a0d" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å½“æ‚¨çš„ç”¨æˆ·ä½¿ç”¨CLIæ—¶ï¼Œ<code class="fe mn mo mp mq b">/bin</code>ç›®å½•å°†æ˜¯è¯¥å‘½ä»¤çš„å…¥å£ç‚¹ã€‚ç¨åæ‚¨å°†äº†è§£å¦‚ä½•é…ç½®å®ƒã€‚</p><h1 id="c91f" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">é…ç½®å·¥å…·</h1><p id="bd81" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æˆ‘ä»¬å°†ä½¿ç”¨<a class="ae mr" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">çº±</a>ä½œä¸ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„åŒ…è£…ç»ç†ã€‚å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥éšæ„ä½¿ç”¨<a class="ae mr" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>ã€‚</p><p id="490f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬å¯åŠ¨è¿™ä¸ªé¡¹ç›®ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe mn mo mp mq b">my-script</code>çš„ç›®å½•:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="d2d3" class="od kz it mq b gy oe of l og oh">$ mkdir my-script &amp;&amp; cd my-script</span></pre><p id="aea1" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨é¡¹ç›®æ ¹ï¼Œè®©æˆ‘ä»¬ç”¨Yarnåˆ›å»ºä¸€ä¸ª<code class="fe mn mo mp mq b">package.json</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="c8d4" class="od kz it mq b gy oe of l og oh">$ yarn init</span></pre><h2 id="2242" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">é…ç½®TypeScript</h2><p id="076b" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">è¦å®‰è£…<a class="ae mr" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>å’Œ<a class="ae mr" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>çš„ç±»å‹ï¼Œè¿è¡Œ:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="ae7d" class="od kz it mq b gy oe of l og oh">$ yarn add --dev typescript @types/node</span></pre><p id="314e" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨æˆ‘ä»¬å‡†å¤‡åœ¨é¡¹ç›®ä¸­é…ç½®TypeScriptã€‚æˆ‘ä»¬å¯ä»¥ç”¨<code class="fe mn mo mp mq b">tsc</code>å¯åŠ¨<code class="fe mn mo mp mq b">tsconfig.json</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="b81f" class="od kz it mq b gy oe of l og oh">$ npx tsc --init</span></pre><p id="3202" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ä¸ºäº†ç¼–è¯‘TypeScriptä»£ç å¹¶å°†ç»“æœè¾“å‡ºåˆ°<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code class="fe mn mo mp mq b">tsconfig.json</code>çš„<code class="fe mn mo mp mq b">compilerOptions</code>ä¸­æŒ‡å®šã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="6e3e" class="od kz it mq b gy oe of l og oh">// tsconfig.json</span><span id="a892" class="od kz it mq b gy ot of l og oh">{<br/>  "compilerOptions": {<br/>+    "outDir": "./bin"<br/>    /* rest of the default options */<br/>  }<br/>}</span></pre><p id="8e93" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><p id="f62f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤åœ¨<code class="fe mn mo mp mq b">/src</code>ä¸­åˆ›å»ºä¸€ä¸ª<code class="fe mn mo mp mq b">index.ts</code>æ–‡ä»¶ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="f840" class="od kz it mq b gy oe of l og oh">$ mkdir src &amp;&amp; touch src/index.ts</span></pre><p id="8147" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨<code class="fe mn mo mp mq b">index.ts</code>ä¸­ï¼Œæˆ‘ä»¬å°†æ”¾ç½®ä¸€ä¸ªç®€å•çš„<code class="fe mn mo mp mq b">console.log</code>å¹¶è¿è¡ŒTypeScriptç¼–è¯‘å™¨æ¥æŸ¥çœ‹ç¼–è¯‘åçš„æ–‡ä»¶æ˜¯å¦åœ¨<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ä¸­ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="3a6d" class="od kz it mq b gy oe of l og oh">// src/index.ts</span><span id="a070" class="od kz it mq b gy ot of l og oh">console.log('Hello from my-scriptğŸ‘‹')</span></pre><p id="0f53" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æ·»åŠ ä¸€ä¸ªè„šæœ¬ï¼Œç”¨<code class="fe mn mo mp mq b">tsc</code>ç¼–è¯‘TypeScriptã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="b91d" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="a82b" class="od kz it mq b gy ot of l og oh">+ "scripts": {<br/>+   "tsc": "tsc"<br/>+ },</span></pre><p id="9155" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç„¶åè¿è¡Œ:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="d8ba" class="od kz it mq b gy oe of l og oh"># compile `/src`<br/>$ yarn tsc</span></pre><p id="9632" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æ‚¨åº”è¯¥ä¼šåœ¨<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ä¸­çœ‹åˆ°ä¸€ä¸ª<code class="fe mn mo mp mq b">index.js</code>æ–‡ä»¶ã€‚</p><p id="7276" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬ä»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ï¼Œ</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="4ccd" class="od kz it mq b gy oe of l og oh">$ node bin</span><span id="7ab6" class="od kz it mq b gy ot of l og oh"># Hello from my-script ğŸ‘‹</span></pre><h2 id="4879" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">é…ç½®ESLint</h2><p id="69e6" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">ç°åœ¨æˆ‘ä»¬å‡†å¤‡å¥½å»T21äº†ã€‚æˆ‘ä»¬å¯ä»¥ç»§ç»­å®‰è£…å®ƒ:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="293d" class="od kz it mq b gy oe of l og oh">$ yarn add --dev eslint</span></pre><p id="e119" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ESLintæ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„æ£‰ç»’ã€‚å®ƒæ²¡æœ‰ç±»å‹è„šæœ¬æ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å®‰è£…ä¸€ä¸ª<a class="ae mr" href="https://github.com/typescript-eslint/typescript-eslint/tree/6e159ee7cf8ef2028792cb8ee636cf6143fa967f/packages/parser" rel="noopener ugc nofollow" target="_blank">ç±»å‹è„šæœ¬è§£æå™¨</a>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="c40b" class="od kz it mq b gy oe of l og oh">$ yarn add --dev @typescript-eslint/parser @typescript-eslint/eslint-plugin</span></pre><p id="2527" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬è¿˜å®‰è£…äº†<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/typescript-eslint/typescript-eslint/tree/6e159ee7cf8ef2028792cb8ee636cf6143fa967f/packages/eslint-plugin" rel="noopener ugc nofollow" target="_blank">@typescript-eslint/eslint-plugin</a></code>ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦å®ƒæ¥ä¸ºç‰¹å®šäºTypeScriptçš„ç‰¹æ€§æ‰©å±•ESLintè§„åˆ™ã€‚</p><p id="8273" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é…ç½®eslintã€‚æˆ‘ä»¬å°†åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code class="fe mn mo mp mq b">.eslintrc.js</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="2190" class="od kz it mq b gy oe of l og oh">touch .eslintrc.js</span></pre><p id="0687" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨<code class="fe mn mo mp mq b">.eslintrc.js</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚ä¸‹é…ç½®eslint:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="1702" class="od kz it mq b gy oe of l og oh">// .eslintrc.js</span><span id="322e" class="od kz it mq b gy ot of l og oh">module.exports = {<br/>  parser: '@typescript-eslint/parser',<br/>  plugins: ['@typescript-eslint'],<br/>  extends: ['plugin:@typescript-eslint/recommended'],<br/>}</span></pre><p id="0393" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ä¸ºäº†æ›´å¥½åœ°ç†è§£é…ç½®ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨<code class="fe mn mo mp mq b">@typescript-eslint/parser</code>æ¥å¯ç”¨ESLintç†è§£TypeScriptè¯­æ³•çš„èƒ½åŠ›ã€‚ç„¶åæˆ‘ä»¬åº”ç”¨<code class="fe mn mo mp mq b">@typescript-eslint/eslint-plugin</code>æ’ä»¶æ¥æ‰©å±•è§„åˆ™ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ç”¨äº†æ‰€æœ‰æ¨èçš„è§„åˆ™è¡¨å•<code class="fe mn mo mp mq b">@typescript-eslint/eslint-plugin</code>ã€‚</p><p id="3983" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å¦‚æœä½ æœ‰å…´è¶£äº†è§£æ›´å¤šå…³äºé…ç½®çš„ä¿¡æ¯ï¼Œä½ å¯ä»¥æŸ¥çœ‹<a class="ae mr" href="https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin#usage" rel="noopener ugc nofollow" target="_blank">å®˜æ–¹æ–‡æ¡£</a>äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p><p id="95e8" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬ç°åœ¨å¯ä»¥ç»™<code class="fe mn mo mp mq b">package.json</code>æ·»åŠ ä¸€ä¸ªæ—æŒºè„šæœ¬:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="60e4" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="5375" class="od kz it mq b gy ot of l og oh">{<br/>  "scripts": {<br/>+    "lint": "eslint '**/*.{js,ts}' --fix",<br/>  }<br/>}</span></pre><p id="1af3" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¦è¿è¡Œè„šæœ¬:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="f629" class="od kz it mq b gy oe of l og oh">$ yarn lint</span></pre><h2 id="6d27" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">é…ç½®æ›´æ¼‚äº®</h2><p id="e9a2" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æ¼‚äº®çš„æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ ¼å¼åŒ–ç¨‹åºã€‚å®ƒé™„å¸¦äº†ä¸€å¥—è§„åˆ™æ¥æ ¼å¼åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚æœ‰æ—¶è¿™äº›è§„åˆ™ä¼šä¸ESLintè§„åˆ™å†²çªï¼Œæ‰€ä»¥æˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•é…ç½®å®ƒä»¬ã€‚</p><p id="e087" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">é¦–å…ˆå®‰è£…Prettierå¹¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code class="fe mn mo mp mq b">.prettierrc.json</code>æ–‡ä»¶æ¥ä¿å­˜é…ç½®ï¼Œ</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="e8b2" class="od kz it mq b gy oe of l og oh">$ yarn add --dev --exact prettier &amp;&amp; touch .prettierrc.json</span></pre><p id="30c2" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æ‚¨å¯ä»¥ç¼–è¾‘<code class="fe mn mo mp mq b">.prettierrc.json</code>å¹¶æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰è§„åˆ™ã€‚ä½ å¯ä»¥åœ¨å®˜æ–¹æ–‡ä»¶ä¸­æ‰¾åˆ°<a class="ae mr" href="https://prettier.io/docs/en/options.html" rel="noopener ugc nofollow" target="_blank">é€‰é¡¹ã€‚</a></p><p id="98db" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="41c4" class="od kz it mq b gy oe of l og oh">// .prettierrc.json</span><span id="5e99" class="od kz it mq b gy ot of l og oh">{<br/>  "trailingComma": "all",<br/>  "singleQuote": true<br/>}</span></pre><p id="480f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">Prettieræä¾›äº†ä¸ESLintçš„ä¾¿æ·é›†æˆã€‚æˆ‘ä»¬å°†éµå¾ªå®˜æ–¹æ–‡æ¡£ä¸­çš„<a class="ae mr" href="https://github.com/prettier/eslint-plugin-prettier#recommended-configuration" rel="noopener ugc nofollow" target="_blank">æ¨èé…ç½®</a>ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="4a2b" class="od kz it mq b gy oe of l og oh">$ yarn add --dev eslint-config-prettier eslint-plugin-prettier</span></pre><p id="914e" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬å°†åœ¨<code class="fe mn mo mp mq b">extensions</code>æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®æ·»åŠ æ’ä»¶ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="2d9f" class="od kz it mq b gy oe of l og oh">// .eslintrc.js</span><span id="003e" class="od kz it mq b gy ot of l og oh">module.exports = {<br/>  extends: [<br/>    'plugin:@typescript-eslint/recommended',<br/>+    'plugin:prettier/recommended',<br/>  ],<br/>}</span></pre><p id="fcd3" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œæ¼‚äº®æ˜¯æœ€åä¸€ä¸ªåˆ†æœºã€‚é€šè¿‡åº”ç”¨lastï¼Œå®ƒç¦ç”¨äº†æ‰€æœ‰ä¸æ ¼å¼ç›¸å…³çš„ESLintè§„åˆ™ï¼Œå› æ­¤å†²çªå°†é€€å›åˆ°æ›´æ¼‚äº®ã€‚</p><p id="685f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬ç°åœ¨å¯ä»¥ç»™<code class="fe mn mo mp mq b">package.json</code>æ·»åŠ ä¸€ä¸ª<code class="fe mn mo mp mq b">prettier</code>è„šæœ¬:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="70e0" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="8fb5" class="od kz it mq b gy ot of l og oh">{<br/>  "scripts": {<br/>+    "prettier": "prettier --write ."<br/>  }<br/>}</span></pre><p id="5f99" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¦è¿è¡Œè„šæœ¬:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="8fe9" class="od kz it mq b gy oe of l og oh">$ yarn prettier</span></pre><h1 id="96e9" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">é…ç½®<code class="fe mn mo mp mq b">package.json</code></h1><p id="2c25" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æˆ‘ä»¬å‡ ä¹å‡†å¤‡å¥½äº†æˆ‘ä»¬çš„é…ç½®ã€‚å”¯ä¸€ç¼ºå°‘çš„æ˜¯åƒæ‰§è¡Œå‘½ä»¤ä¸€æ ·æ‰§è¡Œé¡¹ç›®çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿç›´æ¥è°ƒç”¨å‘½ä»¤ï¼Œè€Œä¸æ˜¯ç”¨<code class="fe mn mo mp mq b">node</code>æ‰§è¡Œ<code class="fe mn mo mp mq b">/bin</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="03bb" class="od kz it mq b gy oe of l og oh"># instead of "node bin", we want to call the command by its name like this:<br/>$ my-script</span></pre><p id="2b6e" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„<code class="fe mn mo mp mq b">src/index.ts</code>é¡¶éƒ¨æ·»åŠ ä¸€ä¸ª<a class="ae mr" href="https://en.wikipedia.org/wiki/Shebang_(Unix)" rel="noopener ugc nofollow" target="_blank"> Shebang </a>ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="cb82" class="od kz it mq b gy oe of l og oh">+ #!/usr/bin/env node</span><span id="f766" class="od kz it mq b gy ot of l og oh">console.log('Hello from my-scriptğŸ‘‹')</span></pre><p id="8256" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">Shebangé€šçŸ¥ç±»Unixæ“ä½œç³»ç»Ÿè¿™æ˜¯NodeJSå¯æ‰§è¡Œæ–‡ä»¶ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸æŒ‡å®š<code class="fe mn mo mp mq b">node</code>ç›´æ¥è°ƒç”¨è„šæœ¬ã€‚</p><p id="e649" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬é‡æ–°ç¼–è¯‘ä¸€ä¸‹ï¼Œ</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="fa88" class="od kz it mq b gy oe of l og oh">$ yarn tsc</span></pre><p id="da1d" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨ä¸€åˆ‡æ­£å¸¸ä¹‹å‰æˆ‘ä»¬è¿˜éœ€è¦ä¸€æ ·ä¸œè¥¿ã€‚æˆ‘ä»¬éœ€è¦å°†å¯æ‰§è¡Œæƒé™åˆ†é…ç»™<code class="fe mn mo mp mq b">bin/index.js</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="4f5a" class="od kz it mq b gy oe of l og oh">$ chmod u+x ./bin/index.js</span></pre><p id="0306" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬è¯•ä¸€è¯•:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="8406" class="od kz it mq b gy oe of l og oh"># execute directly<br/>$ ./bin/index.js</span><span id="ec94" class="od kz it mq b gy ot of l og oh"># Hello from my-scriptğŸ‘‹</span></pre><p id="e450" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å¾ˆå¥½ï¼Œæˆ‘ä»¬å¿«åˆ°äº†ã€‚æœ€åä¸€ä»¶äº‹æ˜¯åœ¨å‘½ä»¤å’Œå¯æ‰§è¡Œæ–‡ä»¶ä¹‹é—´åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code class="fe mn mo mp mq b">package.json</code>ä¸­æŒ‡å®š<code class="fe mn mo mp mq b">bin</code>å±æ€§ï¼Œå¹¶å°†å‘½ä»¤æŒ‡å‘<code class="fe mn mo mp mq b">bin/index.js</code>ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="8ee7" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="a840" class="od kz it mq b gy ot of l og oh">{<br/>+  "bin": {<br/>+    "my-script": "./bin/index.js"<br/>+  }<br/>}</span></pre><p id="1e40" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å…¶æ¬¡ï¼Œåœ¨é¡¹ç›®æ ¹åˆ›å»ºä¸€ä¸ªå¸¦æœ‰Yarnçš„ç¬¦å·é“¾æ¥:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="8153" class="od kz it mq b gy oe of l og oh">$ yarn link</span><span id="54bb" class="od kz it mq b gy ot of l og oh"># You can always unlink: "yarn unlink my-script"</span></pre><p id="7e0c" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦æœ‰æ•ˆã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="81c9" class="od kz it mq b gy oe of l og oh">$ my-script</span><span id="950e" class="od kz it mq b gy ot of l og oh"># Hello from my-scriptğŸ‘‹</span></pre><p id="9462" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å®ƒå·¥ä½œäº†ğŸ‰</p><p id="9fd5" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ä¸ºäº†ä½¿å¼€å‘æ›´å®¹æ˜“ï¼Œæˆ‘ä»¬å°†åœ¨<code class="fe mn mo mp mq b">package.json</code>ä¸­æ·»åŠ å‡ ä¸ªè„šæœ¬:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="c942" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="a0a6" class="od kz it mq b gy ot of l og oh">{<br/>  "scripts": {<br/>+    "build": "yarn tsc &amp;&amp; yarn chmod",<br/>+    "chmod": "chmod u+x ./bin/index.js",<br/>  }<br/>}</span></pre><p id="1f89" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œ<code class="fe mn mo mp mq b">yarn build</code>æ¥ç¼–è¯‘å¹¶è‡ªåŠ¨åˆ†é…å…¥å£æ–‡ä»¶çš„å¯æ‰§è¡Œæƒé™ã€‚</p><h1 id="4941" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">ç¼–å†™CLIæ¥è¿è¡ŒLighthouse</h1><p id="1e78" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æ˜¯æ—¶å€™å®ç°æˆ‘ä»¬çš„æ ¸å¿ƒé€»è¾‘äº†ã€‚æˆ‘ä»¬å°†æ¢ç´¢å‡ ä¸ªæ–¹ä¾¿çš„npmåŒ…æ¥å¸®åŠ©æˆ‘ä»¬ç¼–å†™CLIï¼Œå¹¶æ·±å…¥äº†è§£Lighthouseçš„é­”åŠ›ã€‚</p><h2 id="6b22" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">ç”¨<code class="fe mn mo mp mq b">chalk</code>ç»™<code class="fe mn mo mp mq b">console.log</code>ç€è‰²</h2><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="98fa" class="od kz it mq b gy oe of l og oh">$ yarn add <!-- -->chalk@4.1.2</span></pre><p id="c34e" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç¡®ä¿æ‚¨æ­£åœ¨å®‰è£…<code class="fe mn mo mp mq b">chalk 4</code>ã€‚<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/chalk/chalk/releases/tag/v5.0.0" rel="noopener ugc nofollow" target="_blank">chalk 5</a></code> <a class="ae mr" href="https://github.com/chalk/chalk/releases/tag/v5.0.0" rel="noopener ugc nofollow" target="_blank">æ˜¯çº¯ESM </a>åœ¨TypeScript 4.6å‘å¸ƒä¹‹å‰æˆ‘ä»¬ä¸èƒ½ç”¨TypeScript <a class="ae mr" href="https://github.com/microsoft/TypeScript/issues/46452" rel="noopener ugc nofollow" target="_blank">æ¥ä½¿ç”¨å®ƒã€‚</a></p><p id="91b1" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/chalk/chalk" rel="noopener ugc nofollow" target="_blank">chalk</a></code>ç»™ä½ çš„<code class="fe mn mo mp mq b">console.log</code>èµ‹äºˆè‰²å½©ã€‚ä¾‹å¦‚:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="f16a" class="od kz it mq b gy oe of l og oh">// src/index.ts</span><span id="49a1" class="od kz it mq b gy ot of l og oh">import chalk from 'chalk'</span><span id="b1af" class="od kz it mq b gy ot of l og oh">console.log(chalk.green('Hello from my-scriptğŸ‘‹'))</span></pre><p id="796b" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ<code class="fe mn mo mp mq b">yarn build &amp;&amp; my-script</code>å¹¶æŸ¥çœ‹æ—¥å¿—ã€‚</p><p id="1fcf" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬ç”¨æ›´æœ‰æ„ä¹‰çš„æ–¹å¼æ¥ä½¿ç”¨<code class="fe mn mo mp mq b">chalk</code>ã€‚<a class="ae mr" href="https://web.dev/performance-scoring/#color-coding" rel="noopener ugc nofollow" target="_blank"> Lighthouseè¡¨æ¼”åˆ†æ•°ç”¨é¢œè‰²ç¼–ç </a>ã€‚æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªæ•ˆç”¨å‡½æ•°ï¼Œç”¨åŸºäºæ€§èƒ½åˆ†æ•°çš„é¢œè‰²æ¥æ˜¾ç¤ºæ˜¾ç¤ºå€¼ã€‚</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="279e" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨<code class="fe mn mo mp mq b">src/index.ts</code>ä¸­ä½¿ç”¨å®ƒï¼Œå¹¶å°è¯•ç”¨<code class="fe mn mo mp mq b">draw()</code>è®°å½•ä¸€äº›ä¸œè¥¿ä»¥æŸ¥çœ‹ç»“æœã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="3632" class="od kz it mq b gy oe of l og oh">// src/index.ts</span><span id="56e8" class="od kz it mq b gy ot of l og oh">import { draw } from './utils'</span><span id="b4e1" class="od kz it mq b gy ot of l og oh">console.log(`Perf score is ${draw(0.64, 64)}`)</span></pre><h2 id="26d8" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">ä½¿ç”¨<code class="fe mn mo mp mq b">commander</code>è®¾è®¡å‘½ä»¤</h2><p id="0a18" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">ä¸ºäº†ä½¿æˆ‘ä»¬çš„CLIå…·æœ‰äº¤äº’æ€§ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿè¯»å–ç”¨æˆ·è¾“å…¥å¹¶è§£æå®ƒä»¬ã€‚<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank">commander</a></code>æ˜¯å®šä¹‰æ¥å£çš„æè¿°æ€§æ–¹å¼ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§éå¸¸ç®€æ´å’Œæ–‡æ¡£åŒ–çš„æ–¹å¼å®ç°æˆ‘ä»¬çš„æ¥å£ã€‚</p><p id="1422" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·å¦‚ä½•ä¸CLIäº¤äº’æ˜¯ç®€å•åœ°ä¼ é€’ä¸€ä¸ªè¿è¡ŒLighthouseçš„URLã€‚æˆ‘ä»¬è¿˜æƒ³ä¼ å…¥ä¸€ä¸ªé€‰é¡¹æ¥æŒ‡å®šLighthouseåº”è¯¥åœ¨URLä¸Šè¿è¡Œå¤šå°‘æ¬¡ã€‚åƒè¿™æ ·:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="cb7e" class="od kz it mq b gy oe of l og oh"># without an option<br/>$ my-script https://dawchihliou.github.io/</span><span id="2ffa" class="od kz it mq b gy ot of l og oh"># with an option<br/>$ my-script https://dawchihliou.github.io/ --iteration=3</span></pre><p id="c358" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹ç”¨<code class="fe mn mo mp mq b">commander</code>å®ç°æˆ‘ä»¬çš„è®¾è®¡æœ‰å¤šå¿«ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="4259" class="od kz it mq b gy oe of l og oh">$ yarn add commander</span></pre><p id="2910" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è®©æˆ‘ä»¬æ¸…é™¤<code class="fe mn mo mp mq b">src/index.ts</code>å¹¶é‡æ–°å¼€å§‹:</p><p id="8ec9" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated"><code class="fe mn mo mp mq b">src/index.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="d091" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬é¦–å…ˆå®ä¾‹åŒ–äº†ä¸€ä¸ª<code class="fe mn mo mp mq b">Command</code>ï¼Œå¹¶ä½¿ç”¨å®ä¾‹<code class="fe mn mo mp mq b">program</code>æ¥å®šä¹‰:</p><ul class=""><li id="6547" class="lq lr it ls b lt nr lv ns lx nw lz nx mb ny md me mf mg mh bi translated">æˆ‘ä»¬ç»™å®ƒèµ·äº†ä¸€ä¸ªåå­—<code class="fe mn mo mp mq b">url</code>å’Œä¸€ä¸ªæè¿°</li><li id="e17a" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ä¸€ä¸ª<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/tj/commander.js#options" rel="noopener ugc nofollow" target="_blank">option</a></code>:æˆ‘ä»¬ç»™äº†å®ƒä¸€ä¸ªçŸ­æ ‡å¿—ã€ä¸€ä¸ªé•¿æ ‡å¿—ã€ä¸€ä¸ªæè¿°å’Œä¸€ä¸ªé»˜è®¤å€¼</li></ul><p id="dba1" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ä¸ºäº†ä½¿ç”¨å‚æ•°å’Œé€‰é¡¹ï¼Œæˆ‘ä»¬é¦–å…ˆè§£æå‘½ä»¤å¹¶è®°å½•å˜é‡ã€‚</p><p id="a9c6" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œå‘½ä»¤å¹¶è§‚å¯Ÿæ—¥å¿—ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="0184" class="od kz it mq b gy oe of l og oh">$ yarn build</span><span id="229c" class="od kz it mq b gy ot of l og oh"># without an option<br/>$ my-script https://dawchihliou.github.io/</span><span id="8949" class="od kz it mq b gy ot of l og oh"># url: https://dawchihliou.github.io/, iteration: 5</span><span id="cbc6" class="od kz it mq b gy ot of l og oh"># with an option<br/>$ my-script https://dawchihliou.github.io/ --iteration=3<br/># or<br/>$ my-script https://dawchihliou.github.io/ -i 3</span><span id="1f47" class="od kz it mq b gy ot of l og oh"># url: https://dawchihliou.github.io/, iteration: 3</span></pre><p id="3d14" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å¾ˆé…·å§ï¼Ÿï¼å¦ä¸€ä¸ªå¾ˆé…·çš„åŠŸèƒ½æ˜¯<code class="fe mn mo mp mq b">commander</code>è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/tj/commander.js#automated-help" rel="noopener ugc nofollow" target="_blank">help</a></code>æ¥æ‰“å°å¸®åŠ©ä¿¡æ¯ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="7421" class="od kz it mq b gy oe of l og oh">$ my-script --help</span></pre><h2 id="42d2" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">åœ¨å•ç‹¬çš„æ“ä½œç³»ç»Ÿè¿›ç¨‹ä¸­è¿è¡Œå¤šä¸ªLighthouseåˆ†æ</h2><p id="6ea0" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">åœ¨å‰ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è§£æç”¨æˆ·è¾“å…¥ã€‚æ˜¯æ—¶å€™æ·±å…¥CLIçš„æ ¸å¿ƒäº†ã€‚</p><p id="c35d" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¿è¡Œå¤šä¸ªLighthouseçš„å»ºè®®æ˜¯åœ¨<a class="ae mr" href="https://github.com/GoogleChrome/lighthouse/issues/7187" rel="noopener ugc nofollow" target="_blank">å•ç‹¬çš„è¿›ç¨‹</a>ä¸­è¿è¡Œå®ƒä»¬ï¼Œä»¥æ¶ˆé™¤å¹²æ‰°çš„é£é™©ã€‚<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/moxystudio/node-cross-spawn" rel="noopener ugc nofollow" target="_blank">cross-spawn</a></code>æ˜¯ä¸€ä¸ªé’ˆå¯¹äº§åµè¿‡ç¨‹çš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒåŒæ­¥ç”Ÿæˆæ–°çš„è¿›ç¨‹æ¥è¿è¡ŒLighthouseã€‚</p><p id="8b9c" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¦å®‰è£…<code class="fe mn mo mp mq b">cross-spawn</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="820e" class="od kz it mq b gy oe of l og oh">$ yarn add cross-spawn<br/>$ yarn add --dev @types/cross-spawn</span><span id="27c9" class="od kz it mq b gy ot of l og oh"># Let's install lighthouse tooâœ¨<br/>$ yarn add lighthouse</span></pre><p id="03c9" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘ä»¬æ¥ç¼–è¾‘ä¸€ä¸‹<code class="fe mn mo mp mq b">src/index.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="8d10" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬åŸºäºç”¨æˆ·è¾“å…¥å¤šæ¬¡ç”Ÿæˆæ–°æµç¨‹ã€‚åœ¨æ¯ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨headless Chromeè¿è¡ŒLighthouseæ€§èƒ½åˆ†æï¼Œå¹¶æ”¶é›†JSONæ•°æ®ã€‚<code class="fe mn mo mp mq b">result</code>å˜é‡å°†åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¿å­˜ä¸€ç»„ç‹¬ç«‹çš„æ€§èƒ½æ•°æ®ã€‚ä¸‹ä¸€æ­¥æ˜¯æ±‡æ€»æ•°æ®å¹¶è®¡ç®—æœ€å¯é çš„æ€§èƒ½å¾—åˆ†ã€‚</p><p id="86f8" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å¦‚æœä½ æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå…³äº<code class="fe mn mo mp mq b">require</code>çš„æ—æŒºé”™è¯¯ã€‚<code class="fe mn mo mp mq b">require.resolve</code>è§£ææ¨¡å—çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯æ¨¡å—æœ¬èº«ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…è®¸ç¼–è¯‘<code class="fe mn mo mp mq b">.eslintrc.js</code>ä¸­çš„<code class="fe mn mo mp mq b">@typescript-eslint/no-var-requires</code>è§„åˆ™ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="b3bf" class="od kz it mq b gy oe of l og oh">// .eslintrc.js</span><span id="b5ea" class="od kz it mq b gy ot of l og oh">module.exports = {<br/>+  rules: {<br/>+    // allow require<br/>+    '@typescript-eslint/no-var-requires': 0,<br/>+  },<br/>}</span></pre><h2 id="8235" class="od kz it bd la oi oj dn le ok ol dp li lx om on lk lz oo op lm mb oq or lo os bi translated">è®¡ç®—å¯é çš„ç¯å¡”åˆ†æ•°</h2><p id="a858" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">ä¸€ç§ç­–ç•¥æ˜¯é€šè¿‡è®¡ç®—ä¸­ä½æ•°æ¥æ±‡æ€»æŠ¥å‘Šã€‚Lighthouseæä¾›å†…éƒ¨åŠŸèƒ½<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/lib/median-run.js" rel="noopener ugc nofollow" target="_blank">computeMedianRun</a></code>ã€‚è®©æˆ‘ä»¬ä½¿ç”¨å®ƒã€‚</p><p id="fb80" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated"><code class="fe mn mo mp mq b">src/index.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="cf86" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨å¼•æ“ç›–ä¸‹ï¼Œ<code class="fe mn mo mp mq b">computeMedianRun</code>è¿”å›æœ€æ¥è¿‘ç¬¬ä¸€ä¸ªå†…å®¹ä¸°å¯Œçš„ç»˜ç”»çš„ä¸­å€¼å’Œäº¤äº’æ—¶é—´çš„ä¸­å€¼çš„åˆ†æ•°ã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬ä»£è¡¨äº†é¡µé¢åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸä¸­æœ€æ—©å’Œæœ€æ™šçš„æ—¶åˆ»ã€‚è¿™æ˜¯ä¸€ç§æ¯”ç®€å•çš„æ–¹æ³•æ›´å¯é çš„ç¡®å®šä¸­ä½æ•°çš„æ–¹æ³•ï¼Œå³ä»å•ä¸ªæµ‹é‡å€¼ä¸­æ‰¾å‡ºä¸­ä½æ•°ã€‚</p><p id="f7ea" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨å†æ¬¡å°è¯•è¯¥å‘½ä»¤ï¼Œçœ‹çœ‹ç»“æœï¼</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="9e21" class="od kz it mq b gy oe of l og oh">$ yarn build &amp;&amp; my-script https://dawchihliou.github.io --iteration=3</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/0a4d154080eadf4876a66e5c8065e707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*UMvjO60iN_xJaFZv1LPNeQ.png"/></div></figure><p id="eaef" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç“¦æ‹‰ğŸ‰</p><h1 id="3ebd" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">åœ¨GitHubæ“ä½œä¸­ä½¿ç”¨CLI</h1><p id="c5a5" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æˆ‘ä»¬çš„å®ç°å·²ç»å®Œæˆã€‚è®©æˆ‘ä»¬åœ¨è‡ªåŠ¨åŒ–å·¥ä½œæµä¸­ä½¿ç”¨CLIï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨CD/CIç®¡é“ä¸­è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•ã€‚</p><p id="2e28" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨npmä¸Šå‘å¸ƒè¿™ä¸ªåŒ…(å‡è®¾)ã€‚</p><p id="c605" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">æˆ‘å‘å¸ƒäº†ä¸€ä¸ªnpmåŒ…<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/DawChihLiou/dx-scripts/" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu">dx-scripts</strong></a></code>ï¼Œå…¶ä¸­åŒ…å«äº†<code class="fe mn mo mp mq b">my-script</code>çš„ç”Ÿäº§å°±ç»ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe mn mo mp mq b">dx-scripts</code>ç¼–å†™GitHub Actionså·¥ä½œæµæ¥æ¼”ç¤ºæˆ‘ä»¬çš„CLIçš„åº”ç”¨ã€‚</p><h1 id="80f9" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">åœ¨å›½å®¶é¢„é˜²æœºåˆ¶ä¸Šå‘å¸ƒ(ä¸€ä¸ªä¾‹å­)</h1><p id="dad5" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æˆ‘ä»¬å°†åœ¨<code class="fe mn mo mp mq b">package.json</code>ä¸­æ·»åŠ ä¸€ä¸ª<code class="fe mn mo mp mq b">files</code>å±æ€§æ¥å‘å¸ƒ<code class="fe mn mo mp mq b">/bin</code>ç›®å½•ã€‚</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="c7a3" class="od kz it mq b gy oe of l og oh">// package.json</span><span id="31c4" class="od kz it mq b gy ot of l og oh">{<br/>+  "files": ["bin"],<br/>}</span></pre><p id="09b4" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç„¶åç®€å•åœ°è¿è¡Œ:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="06b2" class="od kz it mq b gy oe of l og oh">$ yarn publish</span></pre><p id="e309" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨åŒ…åœ¨npmä¸Š(å‡è®¾)ï¼</p><h1 id="6471" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">ç¼–å†™å·¥ä½œæµ</h1><p id="d682" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹å·¥ä½œæµç¨‹ã€‚æˆ‘ä»¬å¸Œæœ›å·¥ä½œæµç¨‹èƒ½å¤Ÿ:</p><ul class=""><li id="5d0a" class="lq lr it ls b lt nr lv ns lx nw lz nx mb ny md me mf mg mh bi translated">å½“æœ‰æ›´æ–°æ—¶ï¼Œæ ¹æ®æ‹‰è¯·æ±‚è¿è¡Œ</li><li id="cf42" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">æ ¹æ®åŠŸèƒ½åˆ†æ”¯é¢„è§ˆURLè¿è¡ŒLighthouseæ€§èƒ½åˆ†æ</li><li id="9602" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ç”¨åˆ†ææŠ¥å‘Šé€šçŸ¥æ‹‰å–è¯·æ±‚</li></ul><p id="2e2f" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å› æ­¤ï¼Œåœ¨å·¥ä½œæµç¨‹æˆåŠŸå®Œæˆåï¼Œæ‚¨å°†çœ‹åˆ°GitHub Action Botçš„è¯„è®ºï¼Œå…¶ä¸­åŒ…å«æ‚¨çš„Lighthouseåˆ†æ•°ã€‚</p><p id="51d5" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ä¸ºäº†å…³æ³¨æˆ‘ä»¬çš„CLIçš„åº”ç”¨ï¼Œæˆ‘å°†åœ¨å·¥ä½œæµä¸­ç¡¬ç¼–ç ç‰¹æ€§åˆ†æ”¯é¢„è§ˆURLã€‚</p><p id="ee59" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºå­˜å‚¨åº“ä¸­ï¼Œå®‰è£…<code class="fe mn mo mp mq b">dx-scripts</code>:</p><pre class="kj kk kl km gt nz mq oa ob aw oc bi"><span id="bb14" class="od kz it mq b gy oe of l og oh">$ yarn add --dev dx-scripts</span></pre><p id="0ff2" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å°†<code class="fe mn mo mp mq b">lighthouse-dev-ci.yaml</code>æ·»åŠ åˆ°æ‚¨çš„GitHubå·¥ä½œæµç›®å½•:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="7106" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">åœ¨â€œRun Lighthouseâ€æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬è¿è¡Œäº†<code class="fe mn mo mp mq b">dx-script lighthouse</code> CLIï¼Œæ›¿æ¢äº†ç‰¹æ®Šå­—ç¬¦ä»¥ä¾¿æ‰“å°å¤šè¡Œè¾“å‡ºï¼Œå¹¶ä¸”æˆ‘ä»¬åœ¨å˜é‡<code class="fe mn mo mp mq b">lighthouse_report</code>ä¸­è®¾ç½®äº†è¾“å‡ºã€‚åœ¨â€œNotify PRâ€æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ç”¨â€œRun Lighthouseâ€æ­¥éª¤çš„è¾“å‡ºç¼–å†™äº†ä¸€ä¸ªæ³¨é‡Šï¼Œå¹¶ä½¿ç”¨<code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/marketplace/actions/auto-comment" rel="noopener ugc nofollow" target="_blank">wow-actions/auto-comment</a></code> <a class="ae mr" href="https://github.com/marketplace/actions/auto-comment" rel="noopener ugc nofollow" target="_blank"> </a>åŠ¨ä½œæ¥å‘å¸ƒæ³¨é‡Šã€‚</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/9ded29e5ac1024bdbe40674d26d46d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*7ejNUKrokHdsXNXeF-WigQ.png"/></div></figure><p id="81b8" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">å°±æ˜¯è¿™æ ·ï¼å¤šå¥½çš„æ—…ç¨‹å•Šã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ä½ ä¸€è·¯è·Ÿéšã€‚</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="069e" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">ç»¼ä¸Š</h1><p id="2b24" class="pw-post-body-paragraph ne nf it ls b lt lu ju ng lv lw jx nh lx ni nj nk lz nl nm nn mb no np nq md im bi translated">å†™ä¸ªCLIä¹Ÿä¸ç®—å¤ªå·®å§ï¼Ÿè®©æˆ‘ä»¬æ¥çœ‹çœ‹æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡çš„æ‰€æœ‰å†…å®¹:</p><ul class=""><li id="5294" class="lq lr it ls b lt nr lv ns lx nw lz nx mb ny md me mf mg mh bi translated">é…ç½®TypeScript</li><li id="d8be" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">é…ç½®ESLint</li><li id="109a" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">é…ç½®æ›´æ¼‚äº®</li><li id="71b8" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">åœ¨æœ¬åœ°æ‰§è¡Œæ‚¨çš„å‘½ä»¤</li><li id="dc79" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ç”¨<code class="fe mn mo mp mq b">chalk</code>ç»™åŸæœ¨ç€è‰²</li><li id="bfdb" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ç”¨<code class="fe mn mo mp mq b">commander</code>å®šä¹‰æ‚¨çš„å‘½ä»¤</li><li id="f4b3" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">äº§åµè¿‡ç¨‹</li><li id="6c19" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">æ‰§è¡Œç¯å¡”CLI</li><li id="865c" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">ä½¿ç”¨Lighthouseçš„å†…éƒ¨åº“æ¥è®¡ç®—ä¸­å€¼æ€§èƒ½åˆ†æ•°</li><li id="ffcd" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">å°†æ‚¨çš„å‘½ä»¤å‘å¸ƒä¸ºnpmåŒ…</li><li id="3655" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">å°†æ‚¨çš„å‘½ä»¤åº”ç”¨åˆ°GitHubåŠ¨ä½œå·¥ä½œæµç¨‹</li></ul><p id="f80b" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">ç°åœ¨è¶…èƒ½åŠ›ä¹Ÿæ˜¯ä½ çš„äº†</p><h1 id="2473" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">èµ„æº</h1><ul class=""><li id="449b" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated"><a class="ae mr" href="https://developers.google.com/web/tools/lighthouse" rel="noopener ugc nofollow" target="_blank">ç¯å¡”å®˜ç½‘</a></li><li id="7b39" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><a class="ae mr" href="https://web.dev/performance-scoring/#color-coding" rel="noopener ugc nofollow" target="_blank">ç¯å¡”ç»©æ•ˆè¯„åˆ†</a></li><li id="4108" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><a class="ae mr" href="https://developers.google.com/web/tools/lighthouse/variability" rel="noopener ugc nofollow" target="_blank">ç¯å¡”å¯å˜æ€§</a></li><li id="c9de" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank">commander</a></code> <a class="ae mr" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank"> GitHubèµ„æºåº“</a></li><li id="8d58" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/chalk/chalk" rel="noopener ugc nofollow" target="_blank">chalk</a></code> <a class="ae mr" href="https://github.com/chalk/chalk" rel="noopener ugc nofollow" target="_blank"> GitHubèµ„æºåº“</a></li><li id="3673" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/moxystudio/node-cross-spawn" rel="noopener ugc nofollow" target="_blank">cross-spawn</a></code> <a class="ae mr" href="https://github.com/moxystudio/node-cross-spawn" rel="noopener ugc nofollow" target="_blank"> GitHubèµ„æºåº“</a></li><li id="1804" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/parser" rel="noopener ugc nofollow" target="_blank">@typescript-eslint/parser</a></code> GitHubèµ„æºåº“</li><li id="5994" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin#usage" rel="noopener ugc nofollow" target="_blank">@typescript-eslint/eslint-plugin</a></code> GitHubä»“åº“</li><li id="7853" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/DawChihLiou/dx-scripts/" rel="noopener ugc nofollow" target="_blank">dx-scripts</a></code> <a class="ae mr" href="https://github.com/DawChihLiou/dx-scripts/" rel="noopener ugc nofollow" target="_blank"> GitHubèµ„æºåº“</a></li><li id="c42b" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><a class="ae mr" href="https://github.com/prettier/eslint-plugin-prettier#recommended-configuration" rel="noopener ugc nofollow" target="_blank">æ›´æ¼‚äº®&amp; ESLintåœ¨GitHubä¸Šæ¨èçš„é…ç½®</a></li><li id="e945" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/lib/median-run.js" rel="noopener ugc nofollow" target="_blank">lighthouse/lighthouse-core/lib/median-run.js</a></code>GitHubä¸Š</li><li id="92d4" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated"><code class="fe mn mo mp mq b"><a class="ae mr" href="https://github.com/marketplace/actions/auto-comment" rel="noopener ugc nofollow" target="_blank">wow-actions/auto-comment </a></code> <a class="ae mr" href="https://github.com/marketplace/actions/auto-comment" rel="noopener ugc nofollow" target="_blank"> GitHubè¡ŒåŠ¨å¸‚åœº</a></li></ul></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="dc4d" class="pw-post-body-paragraph ne nf it ls b lt nr ju ng lv ns jx nh lx nt nj nk lz nu nm nn mb nv np nq md im bi translated">è¿™ç¯‡æ–‡ç« æœ€åˆå‘å¸ƒåœ¨<a class="ae mr" href="https://dawchihliou.github.io/articles/writing-your-own-typescript-cli" rel="noopener ugc nofollow" target="_blank">é“æ™ºçš„ç½‘ç«™</a>ã€‚</p></div></div>    
</body>
</html>