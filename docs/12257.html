<html>
<head>
<title>Developing a Flutter Native Plugin â€”A Real-world Scenario</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¼€å‘ä¸€ä¸ªFlutteråŸç”Ÿæ’ä»¶â€”â€”ä¸€ä¸ªçœŸå®çš„åœºæ™¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://betterprogramming.pub/developing-flutter-native-plugin-a-real-world-scenario-f062bcdcda9f?source=collection_archive---------5-----------------------#2022-05-23">https://betterprogramming.pub/developing-flutter-native-plugin-a-real-world-scenario-f062bcdcda9f?source=collection_archive---------5-----------------------#2022-05-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="810d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">åœ¨Xcodeå’ŒAndroid Studioä¸­ç¼–å†™åŸç”Ÿä»£ç ä¸Flutteré€šä¿¡</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e67cbd28c0ac09705672c73983bd8e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Casl7bLiaEWSj3_a"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Artur Shamsutdinov åœ¨<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</p></figure><p id="f54c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½ æœ‰æ²¡æœ‰æƒ³è¿‡å’ŒiOS / Android OSå¯¹è¯ï¼Œåšä¸€äº›Flutteræ²¡æœ‰çš„ç‰¹å®šåŠ¨ä½œï¼Ÿä¹Ÿè®¸ä½ çš„å›¢é˜Ÿä¸ºiOSå’ŒAndroidå¹³å°å‡†å¤‡äº†å•ç‹¬çš„<em class="ls">å†…éƒ¨</em>åŒ…ï¼Œä½ ç°åœ¨éœ€è¦åœ¨Flutterä¸­ä½¿ç”¨å®ƒã€‚ä½†æ˜¯æ€ä¹ˆåšå‘¢ï¼Ÿ</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="0617" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘é‡åˆ°äº†ä¸€ä¸ªæ¥è‡ªNaurtå›¢é˜Ÿçš„è¯·æ±‚ï¼Œä¸ºä»–ä»¬çš„iOSå’ŒAndroid SDKåˆ›å»ºä¸€ä¸ªFlutteræ’ä»¶ã€‚ä»–ä»¬çš„äº§å“æ˜¯ä½ç½®ä¼˜åŒ–SDKæ‰€ä»¥ä»–ä»¬å¸Œæœ›ä»–ä»¬çš„SDKä¹Ÿèƒ½ç”¨äºFlutteråº”ç”¨ã€‚</p><h1 id="7664" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</strong></h1><ol class=""><li id="fb94" class="ms mt iq ky b kz mu lc mv lf mw lj mx ln my lr mz na nb nc bi translated">åˆ›å»ºé¢¤æŒ¯æ’ä»¶</li><li id="ff2a" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ä»å¹³å°å®ç°ä¸­åˆ†ç¦»æ’ä»¶è¡Œä¸º(<a class="ae kv" href="https://docs.flutter.dev/development/packages-and-plugins/developing-packages" rel="noopener ugc nofollow" target="_blank">è”åˆåŒ…</a>)</li><li id="92a6" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">å‘æœ¬æœºå¹³å°å‘é€æ¶ˆæ¯ã€‚</li><li id="8368" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">æ¥æ”¶æ¥è‡ªæœ¬æœºå¹³å°çš„å“åº”ã€‚</li><li id="2181" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ä»æœ¬åœ°åˆ°Flutterçš„æµäº‹ä»¶</li><li id="87c9" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ä»æœ¬æœºè°ƒç”¨dartæ–¹æ³•</li><li id="076a" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ä¸ºSDKæ¼”ç¤ºä¸€ä¸ªå¯è¿è¡Œçš„ç¤ºä¾‹åº”ç”¨ç¨‹åº</li><li id="477e" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ç”¨Xcodeç¼–å†™ä¸dartä»£ç é€šä¿¡çš„iOSæœ¬åœ°ä»£ç </li><li id="0247" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">åœ¨Android Studioä¸­ç¼–å†™ä¸dartä»£ç é€šä¿¡çš„Androidæœ¬æœºä»£ç </li></ol><h1 id="31d7" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">è§£å†³åŠæ³•</h1><p id="88a6" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">Flutterä½¿ç”¨<strong class="ky ir">æ–¹æ³•é€šé“</strong>æ¥è°ƒç”¨ç‰¹å®šäºå¹³å°çš„APIã€‚</p><p id="1aff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ–¹æ³•é€šé“æ˜¯ä¸€ä¸ªçµæ´»çš„æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿï¼Œå…è®¸åœ¨åº”ç”¨ç¨‹åºçš„Flutteréƒ¨åˆ†å’ŒéDartéƒ¨åˆ†ä¹‹é—´è¿›è¡ŒåŒå‘é€šä¿¡ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/a9af25c2f5c0e9da2f432fc6617de4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NjKaEY8LGSbzfpTS_kUkw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">æ–¹æ³•é€šé“æ¶æ„æ¦‚è¿°</p></figure><ol class=""><li id="3d3d" class="ms mt iq ky b kz la lc ld lf nm lj nn ln no lr mz na nb nc bi translated">Flutter appå¯ä»¥å‘ä¸»æœºå‘é€æ¶ˆæ¯ï¼Œä¸»æœºæ¥æ”¶æ¶ˆæ¯å¹¶è°ƒç”¨ç‰¹å®šäºå¹³å°çš„APIâ€”â€”ç”¨æœ¬åœ°è¯­è¨€ã€‚</li><li id="7b72" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">ä¸»æœºå¯ä»¥å°†å“åº”å‘é€å›Flutteråº”ç”¨ç¨‹åº</li></ol><p id="1b2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨å¯ä»¥å°†æ–¹æ³•é€šé“è§†ä¸ºHTTPæ–¹æ³•ã€‚<em class="ls">æˆ‘ä»¬ä¸ä½¿ç”¨å®ƒä»¬æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„å‡½æ•°</em>ï¼Œè€Œæ˜¯æ†ç»‘ä¿¡æ¯ï¼Œä»¥æœåŠ¡å™¨å¯ä»¥ç†è§£çš„æ ¼å¼å‘é€ï¼Œå¹¶å›å¤ä¸€ä¸ªå“åº”ã€‚</p><p id="6182" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å› æ­¤ï¼Œå½“Flutteråº”ç”¨ç¨‹åºä¸ºAndroidå¼€å‘æ—¶ï¼Œå®ƒå°†Android SDKåµŒå…¥åˆ°Androidåº”ç”¨ç¨‹åºæ†ç»‘åŒ…ä¸­ï¼Œè€Œå½“å®ƒä¸ºiOSå¼€å‘æ—¶ï¼Œå®ƒå°†iOS SDKåµŒå…¥åˆ°iOSåº”ç”¨ç¨‹åºæ†ç»‘åŒ…ä¸­ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/444f66fcea889601becdca7873ec008f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0fW6FFLKgfYGWP4yiG_x5A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">åµŒå…¥å¹³å°äºŒè¿›åˆ¶æ–‡ä»¶çš„SDK</p></figure><h1 id="432c" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">æ­¥éª¤1 â€”åˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶é¡¹ç›®</h1><p id="ccfb" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">ä¸ºäº†åˆ›å»ºä¸€ä¸ªFlutteræ’ä»¶ï¼Œæ‰“å¼€VSCodeï¼Œç„¶å<code class="fe nq nr ns nt b">View &gt; Command Palette &gt; Flutter: New Project</code>é€‰æ‹©<code class="fe nq nr ns nt b">Plugin Template </code>å¹¶å‘½åä¸º<em class="ls"> naurt </em>ã€‚é¡¹ç›®åˆ›å»ºåï¼Œå°†æ–‡ä»¶å¤¹é‡å‘½åä¸º<code class="fe nq nr ns nt b">naurt_platform_interface.</code>ï¼Œæ³¨æ„<code class="fe nq nr ns nt b">package</code>å’Œ<code class="fe nq nr ns nt b">plugin</code>çš„åŒºåˆ«ã€‚åŒ…åªåŒ…å«dartä»£ç ã€‚è€Œæ˜¯ç”¨æ¥ä¸åº•å±‚å¹³å°é€šä¿¡çš„æ’ä»¶ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/80e67aae6d832c59831da2aa53e6d734.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCiXR7pT2qIVV8jbp3Vc5Q.png"/></div></div></figure><p id="5549" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">naurt_platform_interface</code>åªåŒ…å«æŠ½è±¡ç±»ï¼Œè¿™äº›æŠ½è±¡ç±»å®šä¹‰äº†æ’ä»¶åŒ…å¯¹ç‰¹å®šäºå¹³å°çš„å®ç°çš„è¦æ±‚ã€‚æ‰€ä»¥æ–¹æ³•æ²¡æœ‰å®ç°ã€‚</p><p id="aaa1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">PlatformInterface</code>æ˜¯ä¸€ä¸ªå¸®åŠ©ç±»ï¼Œç¡®ä¿<code class="fe nq nr ns nt b">NaurtPlatform</code>çš„å­ç±»æ‰©å±•è¿™ä¸ªç±»ï¼Œè€Œä¸æ˜¯å®ç°å®ƒã€‚è¿™æœ‰åŠ©äºæ‚¨ä»¥åå‘æ¥å£æ·»åŠ ä»»ä½•æ–¹æ³•ï¼Œå®ƒä¸ä¼šç ´åæ‰€æœ‰å¹³å°ç‰¹å®šçš„å®ç°ã€‚</p><p id="6cd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åˆ é™¤<code class="fe nq nr ns nt b">naurt</code>æ–‡ä»¶ã€<code class="fe nq nr ns nt b">example</code>æ–‡ä»¶å¤¹å’Œ<code class="fe nq nr ns nt b">getPlatfromVersion()</code>ã€‚</p><p id="39f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç›®æ ‡æ–‡ä»¶å¤¹ç»“æ„:</p><ul class=""><li id="37aa" class="ms mt iq ky b kz la lc ld lf nm lj nn ln no lr nv na nb nc bi translated"><code class="fe nq nr ns nt b">Naurt</code><br/>â€“<code class="fe nq nr ns nt b">naurt_platform_interface</code><br/>â€“<code class="fe nq nr ns nt b">naurt_ios</code><br/>â€“<code class="fe nq nr ns nt b">naurt_android</code><br/>â€“<code class="fe nq nr ns nt b">naurt_plugin</code></li></ul><p id="020f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">naurt_ios</code>å’Œ<code class="fe nq nr ns nt b">naurt_android</code>æ˜¯<code class="fe nq nr ns nt b">naurt_platform_interface</code>çš„å¹³å°ç‰¹å®šå®ç°ã€‚<code class="fe nq nr ns nt b">naurt_plugin</code>å¼•ç”¨äº†æ‰€æœ‰è¿™äº›åŒ…ï¼Œåœ¨Flutteråº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†<code class="fe nq nr ns nt b">naurt_plugin</code>è®¾ç½®ä¸ºä¾èµ–ã€‚æ‰€ä»¥ä»¥åå¦‚æœéœ€è¦ä¸€ä¸ªwindowsæ’ä»¶ï¼Œå®ƒéœ€è¦åˆ›å»ºå¦ä¸€ä¸ªä¸“é—¨ä¸ºwindowså®ç°æ¥å£çš„åŒ…ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/8112ba342813b915f9375181c74f3cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkpJHqv5LU7iD4NQyI7Sow.png"/></div></div></figure><h1 id="f838" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated"><strong class="ak">å®šä¹‰å¹³å°æ¥å£æ–¹æ³•å’Œå±æ€§</strong></h1><p id="e314" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">çœ‹ä¸¤ä¸ª<a class="ae kv" href="https://gist.github.com/AnBowell/8a44250b1f2490df4230ba20c7b28295#file-naurt_object_properties-swift" rel="noopener ugc nofollow" target="_blank">iOS</a>/<a class="ae kv" href="https://gist.github.com/AnBowell/3e62482ee813fcfa734ea71d5a746ecf#file-naurt_object_properties-kt" rel="noopener ugc nofollow" target="_blank">Android</a>SDKæ–¹æ³•ã€‚å®ƒä»¬å‡ ä¹å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æœ‰ä¸€ç‚¹ä¸åŒã€‚ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªæ‰€æœ‰å¹³å°éƒ½åº”è¯¥ä½¿ç”¨çš„å…¬å…±æ¥å£ã€‚æ­¤å¤–ï¼Œè¯¥å›¢é˜Ÿæåˆ°ï¼Œç‰¹å®šäºå¹³å°çš„SDKä¸­çš„å±æ€§æ˜¯å¯è§çš„ï¼Œç”¨æˆ·å¯ä»¥å¬åˆ°å®ƒä»¬çš„å˜åŒ–ã€‚è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚åœ¨iOS / Androidä¸­ï¼Œå¦‚æœå®¢æˆ·ç«¯æƒ³è¦ç›‘æ§ä½ç½®æ›´æ–°ï¼Œä»–ä»¬éœ€è¦ç›‘å¬<code class="fe nq nr ns nt b">lastNaurtPoint</code>å±æ€§ã€‚</p><p id="7c38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è®©æˆ‘ä»¬è½¬æ¢ä¸€ä¸ªæ–¹æ³•å’Œä¸€ä¸ªå±æ€§ã€‚å…¶ä½™çš„éƒ½ä¸€æ ·ã€‚</p><p id="d3e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> iOS </strong> : <code class="fe nq nr ns nt b"> Naurt.shared.initialise( apiKey: String, precision: Int)</code></p><p id="6c98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">å®‰å“</strong> : <code class="fe nq nr ns nt b">Naurt.initialise( apiKey: String, context: Context, precision: Int): CompletableFuture&lt;NaurtTrackingStatus&gt;</code></p><p id="b258" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¹¶æ£€æŸ¥SDKæ˜¯å¦æ­£ç¡®åˆå§‹åŒ–ï¼Œæœ‰å¯è§‚å¯Ÿçš„<code class="fe nq nr ns nt b">isInitialised </code>å±æ€§ã€‚</p><p id="037d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">iOS:</strong>T3ã€‘</p><p id="c91c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">å®‰å“:</strong>T4ã€‘</p><p id="858c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é€šè¿‡è§‚å¯Ÿç‰¹å®šäºå¹³å°çš„è¯­è¨€(Swiftã€Kotlin)ä¸­çš„<code class="fe nq nr ns nt b">isInitialised</code>ï¼Œç‰‡åˆ»ä¹‹åï¼ŒSDKä¼šé€šçŸ¥æ‚¨å®ƒæ˜¯å¦è¢«æ­£ç¡®åˆå§‹åŒ–ã€‚æˆ‘ä»¬å¹¶ä¸å¯»æ±‚åˆ¤æ–­å®ƒä»¬çš„å®ç°ã€‚æˆ‘ä»¬éœ€è¦åœ¨Dartä¸­å®šä¹‰ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä»¥é€‚åº”æˆ‘ä»¬åœ¨Flutteråº”ç”¨ç¨‹åºä¸­çš„ç”¨ä¾‹ã€‚</p><p id="8f2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">å»ºè®®é•–æ³•:</strong> <code class="fe nq nr ns nt b">Future&lt;bool&gt; initialize({required String apiKey, required int precision})</code></p><p id="807b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬å·²ç»å°†ä¸Šè¿°ä¸¤ä¸ªæ–¹æ³•å’Œå±æ€§ç»“åˆåœ¨ä¸€ä¸ªç»Ÿä¸€çš„Dartæ–¹æ³•ä¸­ï¼Œå¹¶ä½¿ç”¨boolè¿”å›å€¼æ¥ç®€åŒ–æˆ‘ä»¬åœ¨Flutteråº”ç”¨ç¨‹åºä¸­çš„æ’ä»¶ä½¿ç”¨ã€‚</p><p id="a010" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç›®æ ‡æ˜¯:</p><ol class=""><li id="1c18" class="ms mt iq ky b kz la lc ld lf nm lj nn ln no lr mz na nb nc bi translated">æ­£ç¡®åœ°ä¸å›¢é˜Ÿæ²Ÿé€šï¼Œç†è§£ä»–ä»¬çš„æ„æ€</li><li id="5182" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">æå‡ºä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</li></ol><p id="e6e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨æˆ‘ä»¬å¦‚ä½•æ˜ å°„åˆ°dartæ—¶ï¼Œæœ‰ä¸¤ä¸ªæœ‰è¶£çš„å±æ€§:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="7472" class="ob mb iq nt b gy oc od l oe of">/** Is Naurt's Locomotion running at the moment? */<br/>@Published isRunning: Bool</span><span id="3e4a" class="ob mb iq nt b gy og od l oe of">/** Most recent naurt point for the current journey* nil if no data is available */<br/>@Published naurtPoint: NaurtLocation?</span></pre><h2 id="5e86" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">é£é•–æ–¹æ³•</strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="de17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨Dartä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe nq nr ns nt b">Stream</code>æˆ–<code class="fe nq nr ns nt b">callBacks</code>æ¥è§‚å¯Ÿå˜åŒ–ã€‚æˆ‘æ›´å–œæ¬¢ç”¨æµæ¥æ”¹å˜ä½ç½®ï¼Œå› ä¸ºæˆ‘å¯ä»¥ç”¨ã€<code class="fe nq nr ns nt b">map</code>ã€<code class="fe nq nr ns nt b">reduce</code>æ¥æ“ä½œæµæ•°æ®ï¼Œä½†ä¸èƒ½ç”¨å›è°ƒã€‚Booleançš„å›è°ƒæ¯”<code class="fe nq nr ns nt b">Stream</code> sè¦æ–¹ä¾¿å¾—å¤šã€‚</p><p id="fb17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨å¯ä»¥åœ¨æ­¤æŸ¥çœ‹å¹³å°æ¥å£æ–¹æ³•:</p><div class="ou ov gp gr ow ox"><a href="https://github.com/haashem/flutter-native-plugin-tutorial/blob/35188521c5e55407a562302da8ab1ff577f42b9e/naurt_platfrom_interface/lib/naurt_platform_interface.dart" rel="noopener  ugc nofollow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">flutter-native-plugin-tutorial/naurt _ platform _ interface . dart atâ€¦</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">github.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl kp ox"/></div></div></a></div><h1 id="b7e0" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">æ­¥éª¤2:åˆ›å»ºiOSå®ç°</h1><p id="76de" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åˆ›å»ºå¦ä¸€ä¸ªæ’ä»¶é¡¹ç›®ï¼Œå‘½åä¸º<code class="fe nq nr ns nt b">naurt_ios</code>ï¼Œå¹¶ä¿å­˜åœ¨<code class="fe nq nr ns nt b">naurt</code>ç›®å½•ä¸­ã€‚æ‰“å¼€<code class="fe nq nr ns nt b">pubspec.yaml</code>å¹¶æ·»åŠ <code class="fe nq nr ns nt b">naurt_platfrom_interface</code>ä½œä¸ºä¾èµ–:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="53f1" class="ob mb iq nt b gy oc od l oe of">naurt_platfrom_interface:<br/>  path: ../naurt_platfrom_interface/</span></pre><p id="fd71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ­¤å¤–ï¼Œåœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ <code class="fe nq nr ns nt b">publish_to: 'none'</code>â€”â€”å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬ä¸ä¼šå‘å¸ƒåˆ°pub . devâ€”â€”å¦åˆ™æ‰€æœ‰çš„ä¾èµ–é¡¹éƒ½å¿…é¡»ä¸Šä¼ åˆ°<code class="fe nq nr ns nt b">pub.dev</code>ã€‚</p><p id="fbdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å°†<code class="fe nq nr ns nt b">naurt_ios_method_channel</code>é‡å‘½åä¸º<code class="fe nq nr ns nt b">naurt_ios</code>ï¼Œå°†å…¶ç±»é‡å‘½åä¸º<code class="fe nq nr ns nt b">NaurtIOS</code>ï¼Œåˆ é™¤<code class="fe nq nr ns nt b">lib</code>æ–‡ä»¶å¤¹ä¸­çš„å…¶ä»–æ–‡ä»¶ã€‚ä¹Ÿåˆ é™¤<code class="fe nq nr ns nt b">example</code>å’Œ<code class="fe nq nr ns nt b">test</code>æ–‡ä»¶å¤¹ã€‚</p><h2 id="2b52" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">åˆ›å»ºä¸€ä¸ªä¸¢å¤±çš„iOSæ–‡ä»¶å¤¹</strong></h2><p id="ea09" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åœ¨ç»ˆç«¯ä¸­è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œç”¨<code class="fe nq nr ns nt b">iOS</code>æ–‡ä»¶å¤¹é‡æ–°åˆ›å»ºæ’ä»¶é¡¹ç›®ã€‚æˆ‘ä»¬å°†åœ¨iOSæ–‡ä»¶å¤¹ä¸­ç¼–å†™Swiftä»£ç ï¼Œä»¥å¤„ç†æ¥è‡ªFlutteråº”ç”¨ç¨‹åºçš„æ¶ˆæ¯:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="9240" class="ob mb iq nt b gy oc od l oe of">flutter create --template=plugin --org=com.naurt --platforms=ios .</span></pre><p id="86d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‰“å¼€<code class="fe nq nr ns nt b">pubspec.yaml</code>æ–‡ä»¶ï¼Œåœ¨flutteréƒ¨åˆ†è®¾ç½®iOSçš„æ’ä»¶ç±»:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="f798" class="ob mb iq nt b gy oc od l oe of">plugin:<br/>  platforms:<br/>    ios:<br/>      dartPluginClass: NaurtIOS<br/>      pluginClass: NaurtIosPlugin</span></pre><p id="38e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">NaurtIOS</code>æ˜¯å®ç°è¯¥æ¥å£çš„Dartç±»çš„åç§°ï¼Œ</p><p id="f3b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">NaurtIosPlugin</code>æ˜¯æ–¹æ³•é€šé“å°†æ¶ˆæ¯ä¼ è¾“åˆ°çš„iOSç±»çš„åç§°ã€‚ä½ å¯ä»¥åœ¨<code class="fe nq nr ns nt b">ios/classes</code>è·¯å¾„ä¸Šæ‰¾åˆ°è¿™ä¸ªç±»ã€‚Flutterè‡ªåŠ¨ç”ŸæˆSwiftç‰ˆæœ¬ï¼Œåç§°ä¸º<code class="fe nq nr ns nt b">SwiftNaurtIosPlugin</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/17c1b4b7e3af2077c06feda9528371c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*ULvS-K14pYjBIYMtL0aJaA.png"/></div></figure><p id="2a67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‰“å¼€<code class="fe nq nr ns nt b">NaurtIOS</code>æ–‡ä»¶ï¼Œä»<code class="fe nq nr ns nt b">NaurtPlatform</code>æ‰©å±•å®ƒå¹¶è¦†ç›–æ–¹æ³•:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="a6a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º<code class="fe nq nr ns nt b">com.naurt.ios</code>çš„æ–¹æ³•é€šé“æ¥å‘iOSå‘é€æ¶ˆæ¯ã€‚</p><p id="6159" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">registerWith</code>å°†åœ¨å¯åŠ¨æ—¶è¢«<code class="fe nq nr ns nt b">naurt_plugin </code>åŒ…è°ƒç”¨ï¼Œæ³¨å†Œå·²ç»å®ç°å¹³å°æ¥å£çš„dartç±»ï¼Œå¹¶ä¸åŸç”Ÿå¹³å°é€šä¿¡ã€‚æˆ‘ä»¬ç¨åå°†è®¨è®ºè¿™ä¸€ç‚¹ã€‚</p><p id="8b86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨æœ€åˆçš„Naurt SDKè‡ªè¿°æ–‡ä»¶ä¸­ï¼Œä¹Ÿæåˆ°äº†SDKåº”è¯¥æ˜¯å•ä¾‹çš„ã€‚æ‰€ä»¥dartä¸­çš„singletonå°±æ˜¯ç”¨<code class="fe nq nr ns nt b">_</code>æ·»åŠ å‘½åæ„é€ å‡½æ•°é‚£ä¹ˆç®€å•ã€‚</p><p id="21ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨<code class="fe nq nr ns nt b">initialize</code>æ–¹æ³•ä¸­ï¼Œæ–¹æ³•é€šé“è°ƒç”¨ç”¨<code class="fe nq nr ns nt b">apiKey</code>å’Œ<code class="fe nq nr ns nt b">precision</code>å‚æ•°å‘é¡¹ç›®çš„iOSç«¯å‘é€ä¸€ä¸ªè¦åˆå§‹åŒ–çš„æ¶ˆæ¯åã€‚æˆ‘ä»¬ç”¨â€œå‘é€æ¶ˆæ¯â€è¿™ä¸ªè¯ï¼Œå› ä¸ºiOSç«¯å¯ä»¥å¿½ç•¥è¿™ä¸ªæ¶ˆæ¯ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p><h2 id="166c" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">æ·»åŠ Naurt iOS SDKä¾èµ–å…³ç³»</strong></h2><p id="02d6" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">æ‰“å¼€<code class="fe nq nr ns nt b">iOS/naurt_ios.podspec</code>ï¼Œæ·»åŠ Naurt iOS SDKä¾èµ–:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="90cf" class="ob mb iq nt b gy oc od l oe of">s.dependency 'naurt_cocoapod', '0.6.0'<br/>s.xcconfig = { 'ENABLE_BITCODE' =&gt; 'NO', }<br/>s.platform = :ios, '13.4'</span></pre><p id="4c20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬è¿˜ç¦ç”¨äº†ä¾èµ–é¡¹çš„ä½ä»£ç ï¼Œå› ä¸ºSDKæ–‡æ¡£ä¸­æåˆ°åº”è¯¥ç¦ç”¨å®ƒã€‚</p><p id="7cdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœåœ¨æ‚¨çš„æƒ…å†µä¸‹ï¼Œä¾èµ–é¡¹åœ¨<code class="fe nq nr ns nt b">cocoapods</code>ä¸Šä¸å¯ç”¨ï¼Œå¹¶ä¸”æ‚¨å°†å®ƒä½œä¸ºæ¡†æ¶ï¼Œå¯¼èˆªåˆ°å¹³å°å®ç°è·¯å¾„ï¼Œå¦‚:<code class="fe nq nr ns nt b">naurt_ios/ios/Frameworks</code>å°†æ¡†æ¶ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶æ›´æ–°podspecï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="8d58" class="ob mb iq nt b gy oc od l oe of">s.vendored_frameworks = 'Frameworks/FaceTecSDK.framework'</span></pre><p id="3102" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶ååœ¨termnialä¸­å¯¼èˆªåˆ°<code class="fe nq nr ns nt b">naurt_ios/example/iOS</code>å¹¶é”®å…¥<code class="fe nq nr ns nt b">pod install</code>ä»¥å°†ä¾èµ–å…³ç³»ä¸é¡¹ç›®é›†æˆã€‚</p><p id="c235" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é‚£æˆ‘ä»¬å¦‚ä½•å¤„ç†iOSä¸­çš„æ–¹æ³•é€šé“æ¶ˆæ¯å‘¢ï¼Ÿæˆ‘ä»¬åº”è¯¥åœ¨å“ªé‡Œå†™Swiftä»£ç ï¼Ÿ</p><p id="46f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬å°†åœ¨<code class="fe nq nr ns nt b">SwiftNaurtIosPlugin.swift</code>ç¼–å†™æ‰€æœ‰Swiftä»£ç ã€‚</p><h1 id="7f16" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">Xcodeä¸­çš„iOSæ’ä»¶å®ç°</h1><p id="a632" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">å³é”®ç‚¹å‡»<code class="fe nq nr ns nt b">example/iOS</code>ï¼Œåœ¨Xcodeä¸­æ‰“å¼€ã€‚æ˜¯æ—¶å€™ç¼–å†™Swiftä»£ç å¹¶å¤„ç†æ¥è‡ªFlutterç«¯çš„æ¶ˆæ¯äº†ã€‚</p><p id="c0cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¯¼èˆªåˆ°<code class="fe nq nr ns nt b">SwiftNaurtIosPlugin.swift</code>ã€‚è¯¥æ–‡ä»¶çš„è·¯å¾„æ˜¯æ·±å±‚åµŒå¥—çš„ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡æŸ¥çœ‹ä¸‹å›¾æ¥æ‰¾åˆ°å®ƒ:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/c4e5af5d2bfbd1dc322b41245f2e02bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZEkCi_lUg0DChjUD9d0x0g.png"/></div></div></figure><p id="b889" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¯¼å…¥<code class="fe nq nr ns nt b">naurt_framework</code>å¹¶æ„å»ºé¡¹ç›®ä»¥éªŒè¯ä¸€åˆ‡å·¥ä½œæ­£å¸¸ã€‚</p><p id="7567" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é‚£ä¹ˆ<code class="fe nq nr ns nt b">SwiftNaurtIosPlugin</code>å¦‚ä½•ä»æ–¹æ³•é€šé“æ¥æ”¶æ¶ˆæ¯å‘¢ï¼Ÿ</p><p id="4c0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœä½ è®°å¾—æˆ‘ä»¬åœ¨<code class="fe nq nr ns nt b">naurt_ios</code> <code class="fe nq nr ns nt b">pubspec.yaml</code>ä¸­è®¾ç½®<code class="fe nq nr ns nt b">NaurtIosPlugin</code>ä¸ºiOSæ’ä»¶ç±»ã€‚</p><p id="8fac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨<code class="fe nq nr ns nt b">register</code>æ–¹æ³•ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="fe nq nr ns nt b">com.naurt.ios</code>çš„æ–¹æ³•é€šé“ã€‚ä½ å¯ä»¥è®¤ä¸º<code class="fe nq nr ns nt b">binaryMessenger</code>æ˜¯ä¸€ä¸ªç¼–ç å’Œè§£ç æ¶ˆæ¯çš„å·¥å…·ã€‚ä¸ºäº†å¤„ç†é€šé“ä¸­çš„æ¶ˆæ¯ï¼Œæˆ‘ä»¬éœ€è¦è¦†ç›–:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="a06f" class="ob mb iq nt b gy oc od l oe of">func handle(_ call: FlutterMethodCall, result: @escaping FlutterResult)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="os ot l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">å¤„ç†æ–¹æ³•è°ƒç”¨</p></figure><h2 id="2125" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">ä»Dartä¸­è°ƒç”¨æœ¬æœºæ–¹æ³•</strong></h2><p id="4695" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦è°ƒç”¨äº†<code class="fe nq nr ns nt b">initialize</code>æ–¹æ³•â€”â€”ç„¶åæˆ‘ä»¬ä»è°ƒç”¨ä¸­æå–æ–¹æ³•å‚æ•°ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™iOS SDK initializeæ–¹æ³•ã€‚</p><p id="190e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹<code class="fe nq nr ns nt b">NaurtPlatform</code> <code class="fe nq nr ns nt b">initialize</code>æ–¹æ³•ï¼Œå®ƒæœŸæœ›ä¸€ä¸ªboolè¿”å›å€¼ã€‚</p><p id="63e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸ºäº†æ‰¾å‡ºåˆå§‹åŒ–ç»“æœï¼Œæˆ‘ä»¬éœ€è¦è§‚å¯Ÿ<code class="fe nq nr ns nt b">isInitialized</code> Naurt iOS SDKå±æ€§å¹¶å°†è¯¥å€¼ä¼ é€’ç»™<code class="fe nq nr ns nt b">handle(_ :FlutterMethodCall, result: @escaping FlutterResult)</code> <code class="fe nq nr ns nt b">result</code>å‚æ•°ã€‚</p><p id="26dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">result</code>ç”¨äºå°†è¿”å›å€¼ä¼ é€’ç»™è°ƒç”¨è€…ã€‚ç°åœ¨æ‚¨å·²ç»äº†è§£äº†å¦‚ä½•åœ¨æœ¬æœºä¸­è°ƒç”¨æ–¹æ³•å¹¶å‘dartè¿”å›å€¼ã€‚å› ä¸ºNaurt iOS SDKå†…éƒ¨ä½¿ç”¨äº†Combineæ¡†æ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿ç•™è®¢é˜…åˆ—è¡¨ï¼Œå¦åˆ™æˆ‘ä»¬æ— æ³•è§‚å¯Ÿåˆ°å˜åŒ–ã€‚</p><h2 id="f3c5" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">ä»æœ¬æœºè°ƒç”¨Dartæ–¹æ³•</strong></h2><p id="0161" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">å¦‚æœæ‚¨è¿˜è®°å¾—ï¼Œæˆ‘ä»¬åœ¨åä¸º:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="c8c9" class="ob mb iq nt b gy oc od l oe of">ValueChanged&lt;bool&gt;? onRunning;</span></pre><p id="5d5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå›è°ƒæ¥è§‚å¯ŸSDKçš„è¿è¡ŒçŠ¶æ€ã€‚ä½ åœ¨åŸç”Ÿç‰ˆä¸­çœ‹åˆ°äº†æˆ‘ä»¬å¦‚ä½•åœ¨channelä¸Šä½¿ç”¨<code class="fe nq nr ns nt b">invokeMethod</code>ç”¨statuså€¼è°ƒç”¨Dartä¸­çš„<code class="fe nq nr ns nt b">onRunning</code>ã€‚</p><p id="1cc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åœ¨Dartä¸­ï¼Œæˆ‘ä»¬ä»¥åŒæ ·çš„æ–¹å¼å¤„ç†æ–¹æ³•è°ƒç”¨ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨<code class="fe nq nr ns nt b">NaurtIOS</code>åˆå§‹åŒ–å™¨ä¸­çš„Dartæ–¹æ³•è°ƒç”¨å¤„ç†:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="869c" class="ob mb iq nt b gy oc od l oe of">NaurtIOS() {<br/>  methodChannel.setMethodCallHandler((call) async {<br/>    if (call.method == 'onRunning') {<br/>      onRunning?.call(call.arguments);<br/>    }<br/>  });<br/>}</span></pre><h2 id="f62e" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">å°†äº‹ä»¶ä»æœ¬æœºæµå¼ä¼ è¾“åˆ°Dart </strong></h2><p id="46c4" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">ä¸æ–¹æ³•é€šé“ç›¸åŒï¼Œæ‚¨éœ€è¦ä¸€ä¸ªäº‹ä»¶é€šé“æ¥æ‰“å¼€ï¼Œå¹¶ä½¿ç”¨äº‹ä»¶æ¥æ”¶å™¨å°†äº‹ä»¶æµæ”¾å…¥é€šé“ä¸­ã€‚å¯¹äºæ¯ä¸ªç‰¹å®šçš„äº‹ä»¶ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶æ¥æ”¶å™¨ã€‚åœ¨Flutterä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç›‘å¬ä½ç½®å˜åŒ–ã€‚</p><p id="51d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªäº‹ä»¶é€šé“:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="a320" class="ob mb iq nt b gy oc od l oe of">static const EventChannel _eventChannel = EventChannel('com.naurt.ios');</span></pre><p id="e96b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åæˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼ç›‘å¬ä½ç½®å˜åŒ–ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°<code class="fe nq nr ns nt b">NaurtLocation</code>:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="dd3c" class="ob mb iq nt b gy oc od l oe of">@override<br/>Stream&lt;NaurtLocation&gt; get onLocationChanged {<br/>  return eventChannel<br/>  .receiveBroadcastStream()<br/>  .where((location) =&gt; location != null)<br/>  .map((dynamic location) =&gt;<br/>     NaurtLocation.fromMap(Map&lt;String, dynamic&gt;.from(location)));<br/>}</span></pre><p id="2777" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å¹¶ä¸”åœ¨iOSä¸­æˆ‘ä»¬ç”¨<code class="fe nq nr ns nt b">register</code>æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå…·æœ‰ç›¸åŒæ ‡è¯†ç¬¦çš„äº‹ä»¶é€šé“:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="3c96" class="ob mb iq nt b gy oc od l oe of">let eventChannel = FlutterEventChannel(name: "com.naurt.ios", binaryMessenger: registrar.messenger())<br/>eventChannel.setStreamHandler(instance)</span></pre><p id="f00d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<code class="fe nq nr ns nt b">locationUpdateEventSink</code>çš„å±æ€§ï¼Œä¸“é—¨ç”¨äºsinkingä½ç½®æ›´æ–°ã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="1da7" class="ob mb iq nt b gy oc od l oe of">private var locationUpdateEventSink: FlutterEventSink?</span></pre><p id="0600" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åï¼Œæˆ‘ä»¬åœ¨äº‹ä»¶é€šé“æ‰“å¼€æ—¶è®¾ç½®äº‹ä»¶æ¥æ”¶å™¨ï¼Œå¹¶åœ¨å®ƒå…³é—­æ—¶æ¸…é™¤å®ƒ:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="d6ab" class="ob mb iq nt b gy oc od l oe of">public func onListen(withArguments arguments: Any?, eventSink events: @escaping FlutterEventSink) -&gt; FlutterError? {<br/>  locationUpdateEventSink = events<br/>  return nil<br/>}</span><span id="72cf" class="ob mb iq nt b gy og od l oe of">public func onCancel(withArguments arguments: Any?) -&gt; FlutterError? {<br/>  locationUpdateEventSink = nil<br/>  return nil<br/>}</span></pre><p id="e0b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">é€šè¿‡è§‚å¯Ÿ<code class="fe nq nr ns nt b">naurtPoint</code>çš„æ›´æ–°ï¼Œæˆ‘ä»¬å°†æ›´æ–°ä¼ é€’ç»™äº‹ä»¶æ¥æ”¶å™¨:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="72f7" class="ob mb iq nt b gy oc od l oe of">subscriptions.append(Naurt.shared.$naurtPoint.sink { [weak self ]   value in<br/>  self?.locationUpdateEventSink?(value?.encode())<br/>})</span></pre><p id="f2af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">encode</code>æ˜¯å¯¹<code class="fe nq nr ns nt b">NaurtLocation</code>å¯¹è±¡çš„æ‰©å±•ï¼Œå°†å®ƒè½¬æ¢æˆåœ°å›¾ã€‚</p><p id="e46a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘ä»¬åªèƒ½åœ¨æ–¹æ³•å’Œäº‹ä»¶é€šé“ä¸­ä¼ é€’åŸå§‹æ•°æ®ç±»å‹ã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="cb97" class="ob mb iq nt b gy oc od l oe of">private extension NaurtLocation {<br/>  func encode() -&gt; [String: Any]{<br/>    return ["latitude": latitude, "longitude":longitude, "timestamp": timestamp]<br/>  }<br/>}</span></pre><p id="5730" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä¸ºäº†éªŒè¯æ’ä»¶çš„æ­£ç¡®æ€§ï¼Œæˆ‘åœ¨<code class="fe nq nr ns nt b">naurt-ios</code>æ’ä»¶æ–‡ä»¶å¤¹ä¸­æ·»åŠ äº†ä¸€ä¸ªä¾‹å­ï¼Œå®ƒåªæ˜¯æµ‹è¯•SDKçš„åŸºæœ¬è¡Œä¸º:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/dfaf4b2c3f4ad6c406ae718f6b05dc97.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*KBBBCn0fXqarV9EEUqnEcQ.jpeg"/></div></figure><p id="ea1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/haashem/flutter-native-plugin-tutorial/tree/7bd60c8455fdf65a09de777b1cc11a560ee133bc" rel="noopener ugc nofollow" target="_blank">åœ¨GithubæŸ¥çœ‹å®Œæ•´çš„iOSæ’ä»¶æºä»£ç </a></p><h1 id="5f84" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">æ­¥éª¤3:åˆ›å»ºNaurt Androidæ’ä»¶é¡¹ç›®</h1><p id="110c" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶é¡¹ç›®ï¼Œå‘½åä¸º<code class="fe nq nr ns nt b">naurt_android</code>ã€‚</p><p id="8b0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åˆ é™¤<code class="fe nq nr ns nt b">pubspec.yaml</code>æ–‡ä»¶ã€‚æˆ‘ä»¬ç°åœ¨å°†é‡æ–°åˆ›å»ºå®ƒã€‚</p><p id="fe56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨<code class="fe nq nr ns nt b">naurt_android</code>ç›®å½•ä¸‹åˆ›å»º<code class="fe nq nr ns nt b">android</code>å’Œ<code class="fe nq nr ns nt b">example</code>æ–‡ä»¶å¤¹ã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="211e" class="ob mb iq nt b gy oc od l oe of">flutter create --template=plugin --org=com.naurt --platforms=android .</span></pre><p id="39cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">pubspec.yaml</code>ç”¨æ­£ç¡®çš„ç±»å’ŒåŒ…åé‡æ–°åˆ›å»ºã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="326a" class="ob mb iq nt b gy oc od l oe of">flutter:<br/>  plugin:<br/>    platforms:<br/>      android:<br/>        package: com.naurt.naurt_android<br/>        pluginClass: NaurtAndroidPlugin<br/>        dartPluginClass: NaurtAndroid</span></pre><p id="a402" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nq nr ns nt b">NaurtAndroidPlugin</code>æ˜¯æˆ‘ä»¬ç¼–å†™androidåŸç”Ÿä»£ç çš„Kotlinæ–‡ä»¶ã€‚å¦å¤–ï¼Œåœ¨ä¾èµ–å…³ç³»éƒ¨åˆ†æ·»åŠ <code class="fe nq nr ns nt b">naurt_platfrom_interface</code>:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="5280" class="ob mb iq nt b gy oc od l oe of">naurt_platfrom_interface:<br/>  path: ../naurt_platfrom_interface/</span></pre><p id="4095" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åˆ é™¤æˆ‘ä»¬ä¸éœ€è¦çš„<code class="fe nq nr ns nt b">naurt_android_platform_interface.dart</code>å’Œ<code class="fe nq nr ns nt b">naurt_android_method_channel.dart</code>æ–‡ä»¶ã€‚</p><p id="0112" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ¥å£çš„Dartå®ç°ä¸iOSç›¸åŒã€‚</p><p id="0784" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½†æ˜¯å®ƒå¯ä»¥åŸºäºéœ€æ±‚è€Œä¸åŒã€‚çµæ´»æ€§æ˜¯å®ç°åˆ†ç¦»çš„å¥½å¤„ã€‚</p><p id="f6f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿™æ„å‘³ç€ä¸¤ä¸ªä¸åŒçš„å›¢é˜Ÿå¯ä»¥ä»¥ä»–ä»¬å–œæ¬¢çš„ä»»ä½•æ–¹å¼å®ç°ç›¸åŒçš„æ¥å£ã€‚</p><h1 id="40f1" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">Android Studioä¸­çš„Androidæ’ä»¶å®ç°</h1><p id="79a5" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åœ¨Android Studioä¸­æ‰“å¼€æ•´ä¸ª<code class="fe nq nr ns nt b">naurt_android</code>æ–‡ä»¶å¤¹â€”é€šè¿‡æ‰“å¼€Android Studio: <code class="fe nq nr ns nt b">File &gt; Open &gt; â€œpath to naurt_android project"</code></p><p id="5764" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åå®‰è£…Android Studioçš„Flutteræ’ä»¶:<code class="fe nq nr ns nt b">Android Studio &gt; Preferences &gt; Plugins &gt; Flutter</code>å¹¶å®‰è£…ã€‚ç„¶åé‡å¯Android Studioã€‚å®ƒåŠ è½½äº†åŸç”ŸAndroidé¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰FlutteråŒ…ã€‚é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¼–è¾‘æœ¬æœºæ’ä»¶çš„Kotlinæ–‡ä»¶ã€‚</p><p id="1e89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¦ä¸ºFlutterå¯ç”¨ä»£ç å®Œæˆï¼Œæ‚¨éœ€è¦å†æ¬¡æ‰“å¼€é¦–é€‰é¡¹ï¼Œåœ¨<code class="fe nq nr ns nt b">preferences</code>ä¸­æœç´¢Flutterå¹¶å¯ç”¨ä»£ç å®Œæˆ:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pp"><img src="../Images/7f560db9601ec769596f7c4919658e53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CyIuYjnvE1lpU1Wocah5fg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">åœ¨Android Studioä¸­ä¸ºFlutterå¯ç”¨ä»£ç å®Œæˆ</p></figure><p id="a01c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åä»å·¦ä¾§æ é€‰æ‹©<code class="fe nq nr ns nt b">Packages</code>æ¨¡å¼ï¼Œé€‰æ‹©<code class="fe nq nr ns nt b">NaurtAndroidPlugin</code>ï¼Œç„¶ååœ¨å³ä¾§é€‰æ‹©<code class="fe nq nr ns nt b">Open for Editing in Android Studio</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pq"><img src="../Images/45ba22b18957404cd6e33c23e24b4fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDTMujSo0CTldyKP7pLQGw.png"/></div></div></figure><p id="8aa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æœ€åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç å®ŒæˆåŠŸèƒ½ç¼–è¾‘Androidæ’ä»¶Kotlinæ–‡ä»¶ã€‚</p><h2 id="63ea" class="ob mb iq bd mc oh oi dn mg oj ok dp mk lf ol om mm lj on oo mo ln op oq mq or bi translated"><strong class="ak">é…ç½®Androidä¾èµ–å…³ç³»</strong></h2><p id="9645" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">ä¸º<code class="fe nq nr ns nt b">naurt_android</code>æ‰“å¼€<code class="fe nq nr ns nt b">build.gradle</code>å¹¶æ·»åŠ <a class="ae kv" href="https://docs.naurt.net/android_sdk" rel="noopener ugc nofollow" target="_blank"> Naurt Android SDKä¾èµ–é¡¹</a>ï¼Œå¹¶å°†JitPackæ·»åŠ åˆ°å­˜å‚¨åº“åˆ—è¡¨åˆ—è¡¨ä¸­:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="2db1" class="ob mb iq nt b gy oc od l oe of">rootProject.allprojects <strong class="nt ir">{<br/>    </strong>repositories <strong class="nt ir">{<br/>        </strong>google()<br/>        mavenCentral()<br/>        maven <strong class="nt ir">{ </strong>url 'https://jitpack.io' <strong class="nt ir">}<br/>    }<br/>}</strong></span></pre><p id="c7f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åç‚¹å‡»IDEå³ä¸Šè§’çš„<code class="fe nq nr ns nt b">Sync Now</code>æ¥å®‰è£…ä¾èµ–é¡¹ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/65cab80234b49b10c1de63ab8c0ee003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fYMddM5UQo-DKEBiphnVag.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">æ·»åŠ Androidä¾èµ–é¡¹</p></figure><p id="f7b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å°†<a class="ae kv" href="https://docs.naurt.net/android_sdk" rel="noopener ugc nofollow" target="_blank">æ‰€éœ€æƒé™</a>æ·»åŠ åˆ°AndroidManifest.xmlä¸­ï¼Œç°åœ¨å¯ä»¥åœ¨<code class="fe nq nr ns nt b">NaurtAndroidPlugin.kt</code>ä¸­å¯¼å…¥ä»¥ä¸‹å†…å®¹ï¼Œå¹¶å¼€å§‹åœ¨Android Studioä¸­ç¼–å†™æ’ä»¶çš„Androidå®ç°ã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="e29c" class="ob mb iq nt b gy oc od l oe of">import  com.naurt_kotlin_sdk.Naurt.<em class="ls">INSTANCE </em>as Naurt</span></pre><p id="0bc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æˆ‘å·²ç»å†™äº†å®Œæ•´çš„androidå®ç°ã€‚å¤§éƒ¨åˆ†å’ŒiOSä¸€æ ·ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæµè§ˆä¸€ä¸‹<a class="ae kv" href="https://github.com/haashem/flutter-native-plugin-tutorial/tree/5137a0b8c8e2ed6379dfcbae6e9e78d32b30bd89" rel="noopener ugc nofollow" target="_blank">çš„Androidå®ç°</a>ã€‚</p><h1 id="c9e2" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">æ­¥éª¤4:åˆ›å»ºNaurtæ’ä»¶é¡¹ç›®</h1><p id="fde6" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¼•ç”¨äº†æ‰€æœ‰iOSã€Androidå’Œå…¶ä»–å¹³å°çš„<code class="fe nq nr ns nt b">NaurtPlatform</code>æ¥å£å®ç°ï¼Œå¹¶åˆ›å»ºäº†ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨é€‚å½“çš„å®ç°æ’ä»¶è¿è¡Œæ‰€æœ‰å¹³å°ã€‚</p><p id="7e7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">åˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶é¡¹ç›®ï¼Œå‘½åä¸º<code class="fe nq nr ns nt b">naurt_plugin</code>ã€‚</p><p id="6731" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨<code class="fe nq nr ns nt b">naurt_plugin</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code class="fe nq nr ns nt b">example</code>æ–‡ä»¶å¤¹ã€‚</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="d794" class="ob mb iq nt b gy oc od l oe of">flutter create --template=plugin --org=com.naurt --platforms=iOS, android .</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/13d47e3cab5bb3380fc05a63fac1c731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XnmpuRKeh8Pik4TPX3jTcw.png"/></div></div></figure><p id="a365" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‰“å¼€<code class="fe nq nr ns nt b">pubspec.yaml</code>æ–‡ä»¶ï¼Œåœ¨ä¾èµ–é¡¹éƒ¨åˆ†æ·»åŠ <code class="fe nq nr ns nt b">naurt_platform_interface</code>ã€<code class="fe nq nr ns nt b">naurt_ios</code>å’Œ<code class="fe nq nr ns nt b">naurt_android</code>:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="ddfe" class="ob mb iq nt b gy oc od l oe of">dependencies:<br/>  naurt_platfrom_interface:<br/>    path: ../naurt_platfrom_interface/<br/>  naurt_android:<br/>    path: ../naurt_android/<br/>  naurt_ios:<br/>    path: ../naurt_ios/</span></pre><p id="73c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ç„¶åæ·»åŠ <code class="fe nq nr ns nt b">naurt_ios</code>ä¸ºiOSå¹³å°å®ç°ï¼Œåˆ†åˆ«ä¸ºandroid:</p><pre class="kg kh ki kj gt nx nt ny nz aw oa bi"><span id="dadb" class="ob mb iq nt b gy oc od l oe of">flutter:<br/>  plugin:<br/>    platforms:<br/>      ios:<br/>        default_package: naurt_ios<br/>      android:<br/>        default_package: naurt_android</span></pre><p id="363f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å°†<code class="fe nq nr ns nt b">main.dart</code>å¤åˆ¶åˆ°<code class="fe nq nr ns nt b">naurt_ios</code>æˆ–<code class="fe nq nr ns nt b">naurt_android</code>ç¤ºä¾‹æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨<code class="fe nq nr ns nt b">naurt_plugin</code>ç¤ºä¾‹appä¸­é‡å¤ä½¿ç”¨ã€‚</p><p id="3406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">è¿è¡Œ<code class="fe nq nr ns nt b">naurt_plugin</code>åº”ç”¨ä¸­çš„ç¤ºä¾‹åº”ç”¨ï¼ŒæŸ¥çœ‹åœ¨Androidå’ŒiOSè®¾å¤‡ä¸Šçš„è¿è¡Œæƒ…å†µã€‚</p><p id="8756" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä»ç°åœ¨å¼€å§‹ï¼Œå¦‚æœä½ æƒ³åœ¨ä»»ä½•Flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¯¥æ’ä»¶ï¼Œåªéœ€åœ¨<code class="fe nq nr ns nt b">pubspec.yaml</code>ä¸­å¼•ç”¨<code class="fe nq nr ns nt b">naurt_plugin</code>ã€‚</p><p id="7649" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">å› ä¸ºåŸºäºä¸Šé¢çš„é…ç½®ï¼Œæ’ä»¶å¯ä»¥ç†è§£è¦æŸ¥æ‰¾å“ªä¸ªå¹³å°å®ä¾‹ã€‚</p><h1 id="b719" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">ç»“è®º</h1><p id="0703" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">è¿™æ˜¯ä¸€ä¸ªå¾ˆæ²‰é‡çš„è¯é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æèµ·å®ƒğŸ‹ï¸â€â™€ï¸.</p><p id="22cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">æ‚¨å­¦ä¹ äº†å¦‚ä½•ä»Flutterç«¯ä¸åº•å±‚å¹³å°é€šä¿¡ï¼Œåä¹‹äº¦ç„¶â€”â€”ç”¨Xcodeå’ŒAndroid Studioç¼–å†™æœ¬æœºä»£ç æ¥ä¸Flutteré€šä¿¡ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜ç»ƒä¹ äº†è”é‚¦æ’ä»¶åŒ…ï¼Œè¿™æ˜¯Flutterå›¢é˜Ÿæ¨èçš„æ–¹æ³•ã€‚</p><p id="6b23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ä½ å¯ä»¥åœ¨Github ä¸ŠæŸ¥çœ‹å®Œæ•´çš„æºä»£ç ã€‚</p></div></div>    
</body>
</html>