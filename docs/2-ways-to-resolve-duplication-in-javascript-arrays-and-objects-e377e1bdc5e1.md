# è§£å†³ JavaScript æ•°ç»„å’Œå¯¹è±¡é‡å¤çš„ä¸¤ç§æ–¹æ³•

> åŸæ–‡ï¼š<https://betterprogramming.pub/2-ways-to-resolve-duplication-in-javascript-arrays-and-objects-e377e1bdc5e1>

## ä½ çŸ¥é“å¦‚ä½•å¤„ç†é‡å¤å—ï¼Ÿ

![](img/256fbb50f48481068feb0860d1c23cf4.png)

ç…§ç‰‡ç”±[Jaanus jagomgi](https://unsplash.com/@jaanus?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³å‘æ‚¨å±•ç¤ºæ¶ˆé™¤é‡å¤æ•°æ®æ˜¯å¤šä¹ˆç®€å•ã€‚æœ‰å‡ ä¸ªåœ°æ–¹å¯èƒ½ä¼šå› ä¸ºæŸç§åŸå› å‡ºç°é‡å¤æ•°æ®ã€‚

æ²¡æœ‰ä»€ä¹ˆæ¯” JavaScript ä¸­çš„é‡å¤æ•°æ®æ›´çƒ¦äººçš„äº†ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬æ¥å®é™…æ¼”ç»ƒä¸€ä¸‹å¦‚ä½•ä¸ä¹‹å¯¹æŠ—ã€‚

æˆ‘å¼ºçƒˆå»ºè®®ä¸è¦ç®€å•åœ°å¤åˆ¶å’Œç²˜è´´æˆ‘çš„ä»£ç ã€‚å½“ç„¶å¯ä»¥â€”â€”ä½†æ˜¯è¯·æŒ‰ç…§æˆ‘çš„è§£é‡Šå»ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

# 1.å…·æœ‰é‡å¤å­—ç¬¦ä¸²æˆ–æ•°å­—çš„æ•°ç»„

```
const dupStrings = ['Angular', 'React', 'VueJS', 'Svelte', 'React']
const dupNumbers = [1,2,3,4,5,6,2,4,6,7,8,9,0]
```

ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸€äº›é‡å¤çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ•°ç»„ä¸­æœ‰é‡å¤çš„æ•°å­—ã€‚

ä¸ºäº†å»æ‰é‡å¤çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`Set`ã€‚`Set`åªæ¥å—å”¯ä¸€å€¼ã€‚

> `Set`å¯¹è±¡æ˜¯å€¼çš„é›†åˆã€‚æ‚¨å¯ä»¥æŒ‰æ’å…¥é¡ºåºå¾ªç¯è®¿é—®é›†åˆä¸­çš„å…ƒç´ ã€‚`Set` **ä¸­çš„ä¸€ä¸ªå€¼åªèƒ½å‡ºç°ä¸€æ¬¡**ï¼›è¿™åœ¨`Set`çš„æ”¶è—ä¸­æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚â€â€” [MDN ç½‘ç»œæ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set)

```
console.log(new Set(dupStrings))// Set(5) {"Angular", "React", "VueJS", "Svelte", ""}console.log(new Set(dupNumbers))// Set(10) {1, 2, 3, 4, 5, 6, 7, 8, 9, 0}
```

å½“æˆ‘ä»¬å°†æ•°ç»„æ”¾å…¥`Set`å¹¶å°†å…¶è¾“å‡ºåˆ°æ§åˆ¶å°æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°é‡å¤çš„å€¼è¢«ä»æ•°ç»„ä¸­ç§»é™¤ã€‚

åœ¨ä¸‹é¢çš„ CodeSandbox ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

æŸ¥çœ‹[ä»£ç æ²™ç®±](https://codesandbox.io/s/array-with-duplicated-strings-ornumbers-fu3d2)

ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠå®ƒå˜æˆäº†ä¸€ä¸ª`Set`ï¼Œæˆ‘ä»¬éœ€è¦æ¸…ç†åçš„æ•°ç»„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è¿›ä¸€æ­¥æ–½å±•æˆ‘ä»¬çš„ JavaScript é­”æ³•äº†ã€‚

æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨æ•°ç»„æ‹¬å·`[...]`ä¸­ä½¿ç”¨`...` [å±•å¼€è¯­æ³•](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)ã€‚è®©æˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹é‡ç”¨å®ƒã€‚

## åˆ›å»ºä¸€ä¸ªå‡½æ•°

ç°åœ¨æˆ‘ä»¬éœ€è¦ä»å®ƒåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹é‡ç”¨å®ƒã€‚

## è¯¥åŠŸèƒ½æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

åœ¨æˆ‘ä»¬çš„å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‚æ•°`array`ï¼Œæˆ‘ä»¬æœŸæœ›å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æˆ‘ä»¬åœ¨`if`è¯­å¥ä¸­æ£€æŸ¥è¿™ä¸€ç‚¹ã€‚

*   `!array`:æˆ‘ä»¬ç®€å•çš„æ£€æŸ¥æ•°ç»„æ˜¯`null`è¿˜æ˜¯`undefined`
*   `!Array.isArray(array)`:æˆ‘ä»¬ä½¿ç”¨ array helper æ–¹æ³•æ¥æ£€æŸ¥`array`çš„å€¼æ˜¯å¦ç¡®å®æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœä½ æŠŠ`!`æ”¾åœ¨å®ƒå‰é¢ï¼Œæˆ‘ä»¬æ£€æŸ¥è¾“å‡ºæ˜¯å¦æ˜¯`false`ã€‚
*   `array.length === 0`:æˆ‘ä»¬ç”¨å®ƒæ¥æ£€æŸ¥æ•°ç»„çš„é•¿åº¦æ˜¯å¦ä¸º`0` â€”â€”è¿™è¡¨ç¤ºä¸€ä¸ªç©ºæ•°ç»„

å¦‚æœæ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬è®©å‡½æ•°è¿”å›å‡½æ•°ä¸­ç»™å®šçš„æ•°ç»„ã€‚

å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œå®ƒä¼šæŠŠæ•°ç»„æ”¾åˆ°`new Set()`ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`...` spread è¯­æ³•æŠŠå®ƒå˜æˆä¸€ä¸ªæ•°ç»„ã€‚

æœ€åï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨å‡½æ•°ã€‚

```
unDuplicateArraySingleValues(array)
```

## æµ‹è¯•åŠŸèƒ½

æ£€æŸ¥ä¸‹é¢çš„ä¾‹å­æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ã€‚

æ£€æŸ¥[ä»£ç æ²™ç®±](https://codesandbox.io/s/array-with-duplicated-strings-ornumbers-with-function-jwrj9)

# 2.å…·æœ‰é‡å¤å¯¹è±¡çš„æ•°ç»„

è®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«é‡å¤ä¿¡æ¯çš„ç¤ºä¾‹å¯¹è±¡æ•°ç»„

```
const dupObjects = [
   { id: 1, name: "a", value: "c" },
   { id: 2, name: "b", value: "d" },
   { id: 2, name: "c", value: "e" },
   { id: 3, name: "d", value: "c" }
];
```

æ‚¨å¯ä»¥çœ‹åˆ°æœ‰å‡ ä¸ªé‡å¤çš„å±æ€§å€¼ã€‚

æˆ‘è®¤ä¸ºè¿™å¬èµ·æ¥å¾ˆæ˜æ˜¾ï¼Œä½ ä¸æƒ³åœ¨ä½ çš„å¯¹è±¡æ•°ç»„ä¸­æœ‰ä»»ä½•é‡å¤çš„ä¿¡æ¯ã€‚

## åˆ›å»ºä¸€ä¸ªå‡½æ•°

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥æ£€æŸ¥æˆ‘ä»¬çš„æ•°ç»„ï¼Œå¹¶æ ¹æ®ç»™å®šçš„å±æ€§ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–å¯¹è±¡å…·æœ‰ç›¸åŒä¿¡æ¯çš„å±æ€§ã€‚

æ­¤`function`çš„å¯åŠ¨ä¸ä¸Šä¸€ç¤ºä¾‹ç›¸åŒã€‚å› æ­¤ï¼Œä¸ºæ­¤åˆ¶ä½œä¸€ä¸ªæ–°çš„`function`æ˜¯ä¸ªå¥½ä¸»æ„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¿æŒä¸å˜ã€‚

## è¯¥åŠŸèƒ½æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

åœ¨æˆ‘ä»¬çš„`function`ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‚æ•°`array,`ï¼Œæˆ‘ä»¬æœŸæœ›å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æˆ‘ä»¬åœ¨`if`è¯­å¥ä¸­æ£€æŸ¥è¿™ä¸€ç‚¹ã€‚

*   `!array`:æˆ‘ä»¬ç®€å•çš„æ£€æŸ¥æ•°ç»„æ˜¯`null`è¿˜æ˜¯`undefined`
*   `!Array.isArray(array)`:æˆ‘ä»¬ä½¿ç”¨ array helper æ–¹æ³•æ¥æ£€æŸ¥`array`çš„å€¼æ˜¯å¦ç¡®å®æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœä½ æŠŠ`!`æ”¾åœ¨å®ƒå‰é¢ï¼Œæˆ‘ä»¬æ£€æŸ¥è¾“å‡ºæ˜¯å¦æ˜¯`false`ã€‚
*   `array.length === 0`:æˆ‘ä»¬ç”¨è¿™ä¸ªæ¥æ£€æŸ¥æ•°ç»„çš„é•¿åº¦æ˜¯å¦ä¸º`0` â€”â€”è¿™è¡¨ç¤ºä¸€ä¸ªç©ºæ•°ç»„ã€‚
*   `!property`:é€šè¿‡è¿™ä¸ªï¼Œæˆ‘ä»¬æ£€æŸ¥å±æ€§å€¼æ˜¯å¦ä¸º`false`â€”â€”è¿™æ„å‘³ç€æˆ‘ä»¬æ£€æŸ¥`null`ã€`undefined`æˆ–`0`ã€‚å› ä¸ºå¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ£€æŸ¥å¯¹è±¡ä¸­çš„é‡å¤ä¿¡æ¯ã€‚

ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå˜é‡`objectArrayKeys,`ï¼Œåœ¨è¿™ä¸ªå˜é‡ä¸­æˆ‘ä»¬å­˜å‚¨äº†åœ¨`propertyName`å‚æ•°ä¸­ç»™å®šçš„å±æ€§å€¼æ•°ç»„ã€‚

åœ¨`uniqueKeys`ä¸­ï¼Œæˆ‘ä»¬åˆ é™¤é‡å¤çš„å€¼ã€‚ä½†æ˜¯æˆ‘ä»¬åˆ©ç”¨äº†ä¹‹å‰çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªåªæœ‰å”¯ä¸€å€¼çš„æ–°æ•°ç»„ã€‚

æœ€åï¼Œæˆ‘ä»¬åŸºäº`uniqueKeys`æ•°ç»„è¿”å›ä¸€ä¸ªåªåŒ…å«å”¯ä¸€å¯¹è±¡çš„æ•°ç»„ã€‚

æœ€åï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨å‡½æ•°ã€‚

```
unDuplicateArrayObjects(dupObjects, "id")
```

## æµ‹è¯•åŠŸèƒ½

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ£€æŸ¥æ›´æ”¹å‡½æ•°ä¸­çš„å±æ€§åï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥éªŒè¯ä¸€åˆ‡å·¥ä½œæ­£å¸¸ã€‚

æŸ¥çœ‹[ä»£ç æ²™ç®±](https://codesandbox.io/s/array-with-duplicated-objects-with-function-44pdz)

# ç»“è®º

æˆ‘å¸Œæœ›æ‚¨å·²ç»å­¦ä¼šäº†å¦‚ä½•æ¶ˆé™¤å•å€¼æ•°ç»„æˆ–å¯¹è±¡æ•°ç»„ä¸­çš„é‡å¤æ•°æ®ã€‚

è¿™ä¸ªé—®é¢˜æˆ‘ä¸ªäººå·²ç» googled äº†ä¸Šåƒæ¬¡äº†ã€‚è¿™å°±æ˜¯æˆ‘ä¸ºä½ å†™è¿™ç¯‡æ•™ç¨‹çš„åŸå› ã€‚

![](img/a72eb48c81bbe92d2070b77f9724eb94.png)

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¥è‡ªè·å…°ğŸ‡³ğŸ‡±çš„ JavaScript å¼€å‘äººå‘˜ **Ray** ï¼Œæˆ‘å–œæ¬¢åˆ†äº«æˆ‘ä» 2009 å¹´å¼€å§‹åšå¼€å‘äººå‘˜ä»¥æ¥æ‰€è·å¾—çš„çŸ¥è¯†ã€‚æˆ‘å†™å…³äº JavaScriptã€TypeScriptã€Angular å’Œä»»ä½•ä¸å¼€å‘äººå‘˜ç”Ÿæ´»ç›¸å…³çš„ä¸œè¥¿çš„æ•…äº‹ã€‚

ä½ å¯ä»¥åœ¨ [Twitter](https://twitter.com/devbyrayray) å’Œ [Instagram](https://www.instagram.com/devbyrayray/) æˆ–[ä¸Šå…³æ³¨æˆ‘ï¼Œè®¢é˜…æˆ‘å‘å¸ƒæ–°æ•…äº‹æ—¶å‘é€çš„ç®€è®¯](https://buttondown.email/devbyrayray)ã€‚

*å¿«ä¹ç¼–ç ğŸš€*

# ä»æˆ‘è¿™é‡Œè¯»æ›´å¤š

[](https://medium.com/better-programming/build-fast-json-powered-forms-on-angular-with-ngx-formly-b7a00733e66e) [## ä½¿ç”¨ NGX Formly åœ¨ Angular ä¸Šæ„å»ºå¿«é€Ÿçš„ã€åŸºäº JSON çš„è¡¨å•

### è¡¨æ ¼å¯èƒ½æ˜¯ä¸€åœºå™©æ¢¦â€”â€”è®©æˆ‘ä»¬æŠŠå®ƒä»¬å˜å¾—æ›´å¥½

medium.com](https://medium.com/better-programming/build-fast-json-powered-forms-on-angular-with-ngx-formly-b7a00733e66e) [](https://medium.com/better-programming/you-dont-need-a-javascript-framework-df2a36c2dd0a) [## ä½ ä¸éœ€è¦ JavaScript æ¡†æ¶

### æœ‰æ—¶ååº”ï¼Œè§’ï¼Œæˆ– Vue.js å¯èƒ½å¤ªå¤šäº†

medium.com](https://medium.com/better-programming/you-dont-need-a-javascript-framework-df2a36c2dd0a) [](https://medium.com/better-programming/2-ways-to-resolve-duplication-in-javascript-arrays-and-objects-e377e1bdc5e1) [## è§£å†³ JavaScript æ•°ç»„å’Œå¯¹è±¡é‡å¤çš„ä¸¤ç§æ–¹æ³•

### ä½ çŸ¥é“å¦‚ä½•å¤„ç†é‡å¤å—ï¼Ÿ

medium.com](https://medium.com/better-programming/2-ways-to-resolve-duplication-in-javascript-arrays-and-objects-e377e1bdc5e1) [](https://medium.com/better-programming/7-steps-to-dockerize-your-angular-9-app-with-nginx-915f0f5acac) [## ä½¿ç”¨ Nginx å¯¹ Angular 9 åº”ç”¨ç¨‹åºè¿›è¡Œåˆ†ç±»çš„ 7 ä¸ªæ­¥éª¤

### åœ¨ Docker ç¯å¢ƒä¸­è®¾ç½® Angular 9 åº”ç”¨ç¨‹åºï¼Œå¹¶ç«‹å³è¿›è¡Œéƒ¨ç½²

medium.com](https://medium.com/better-programming/7-steps-to-dockerize-your-angular-9-app-with-nginx-915f0f5acac)